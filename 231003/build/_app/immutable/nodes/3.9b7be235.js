import{h as je,i as Be,j as mt,s as Te,e as _e,k as ft,l as Ne,r as ze,m as ht,p as ut,q as Ge,n as ue,o as pt,f as gt}from"../chunks/scheduler.aaf53295.js";import{A as _t,B as bt,S as ve,i as ye,e as be,a as M,d as N,p as pe,t as q,b as ge,f as w,g as I,h as C,j as P,k as _,l as L,C as dt,D as we,s as Z,c as J,E as x,x as y,F as K,r as ke,u as Ie,v as De,w as Ee,G as Ze,H as Oe,I as He,m as me,y as Ae,n as he,o as wt,z as vt}from"../chunks/index.849bc1eb.js";import{e as Je,i as Pe,g as yt}from"../chunks/index.79ba1937.js";import{w as Re}from"../chunks/index.f80ab385.js";import{b as Ke}from"../chunks/paths.d8151e3f.js";function Xe(n){const e=n-1;return e*e*e+1}function de(n,{delay:e=0,duration:t=400,easing:r=Xe,x:s=0,y:o=0,opacity:a=0}={}){const i=getComputedStyle(n),l=+i.opacity,u=i.transform==="none"?"":i.transform,c=l*(1-a),[b,k]=je(s),[T,h]=je(o);return{delay:e,duration:t,easing:r,css:(f,m)=>`
			transform: ${u} translate(${(1-f)*b}${k}, ${(1-f)*T}${h});
			opacity: ${l-c*m}`}}function Qe(n){return Object.prototype.toString.call(n)==="[object Date]"}function Me(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((s,o)=>Me(n[o],s));return s=>r.map(o=>o(s))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Qe(n)&&Qe(e)){n=n.getTime(),e=e.getTime();const o=e-n;return a=>new Date(n+a*o)}const r=Object.keys(e),s={};return r.forEach(o=>{s[o]=Me(n[o],e[o])}),o=>{const a={};return r.forEach(i=>{a[i]=s[i](o)}),a}}if(t==="number"){const r=e-n;return s=>n+s*r}throw new Error(`Cannot interpolate ${t} values`)}function $e(n,e={}){const t=Re(n);let r,s=n;function o(a,i){if(n==null)return t.set(n=a),Promise.resolve();s=a;let l=r,u=!1,{delay:c=0,duration:b=400,easing:k=mt,interpolate:T=Me}=Be(Be({},e),i);if(b===0)return l&&(l.abort(),l=null),t.set(n=s),Promise.resolve();const h=_t()+c;let f;return r=bt(m=>{if(m<h)return!0;u||(f=T(n,a),typeof b=="function"&&(b=b(n,a)),u=!0),l&&(l.abort(),l=null);const v=m-h;return v>b?(t.set(n=a),!1):(t.set(n=f(k(v/b))),!0)}),r.promise}return{set:o,update:(a,i)=>o(a(s,n),i),subscribe:t.subscribe}}const Ve=Re(0);var ct;const kt=(ct=globalThis.matchMedia)==null?void 0:ct.call(globalThis,"(prefers-reduced-motion: reduce)").matches,Se=n=>({easing:Xe,duration:kt?0:n});function xe(n){let e,t,r,s,o=!n[2]&&et();return{c(){e=I("div"),o&&o.c(),this.h()},l(a){e=C(a,"DIV",{class:!0,style:!0});var i=P(e);o&&o.l(i),i.forEach(w),this.h()},h(){_(e,"class","bp-load"),L(e,"background-image","url("+n[0]+")")},m(a,i){M(a,e,i),o&&o.m(e,null),s=!0},p(a,i){n=a,n[2]?o&&(o.d(1),o=null):o||(o=et(),o.c(),o.m(e,null)),(!s||i&1)&&L(e,"background-image","url("+n[0]+")")},i(a){s||(a&&ft(()=>{s&&(r&&r.end(1),t=dt(e,de,{duration:n[1]?400:0}),t.start())}),s=!0)},o(a){t&&t.invalidate(),a&&(r=we(e,de,{duration:480})),s=!1},d(a){a&&w(e),o&&o.d(),a&&r&&r.end()}}}function et(n){let e,t,r;return{c(){e=I("span"),t=Z(),r=I("span"),this.h()},l(s){e=C(s,"SPAN",{class:!0}),P(e).forEach(w),t=J(s),r=C(s,"SPAN",{class:!0}),P(r).forEach(w),this.h()},h(){_(e,"class","bp-bar"),_(r,"class","bp-o")},m(s,o){M(s,e,o),M(s,t,o),M(s,r,o)},d(s){s&&(w(e),w(t),w(r))}}}function It(n){let e,t=(!n[1]||n[2])&&xe(n);return{c(){t&&t.c(),e=be()},l(r){t&&t.l(r),e=be()},m(r,s){t&&t.m(r,s),M(r,e,s)},p(r,[s]){!r[1]||r[2]?t?(t.p(r,s),s&6&&N(t,1)):(t=xe(r),t.c(),N(t,1),t.m(e.parentNode,e)):t&&(pe(),q(t,1,1,()=>{t=null}),ge())},i(r){N(t)},o(r){q(t)},d(r){r&&w(e),t&&t.d(r)}}}function Dt(n,e,t){let r;_e(n,Ve,a=>t(2,r=a));let{thumb:s}=e,{loaded:o}=e;return n.$$set=a=>{"thumb"in a&&t(0,s=a.thumb),"loaded"in a&&t(1,o=a.loaded)},[s,o,r]}class Ye extends ve{constructor(e){super(),ye(this,e,Dt,It,Te,{thumb:0,loaded:1})}}function tt(n){let e,t,r,s,o,a,i;return{c(){e=I("img"),this.h()},l(l){e=C(l,"IMG",{srcset:!0,sizes:!0,alt:!0}),this.h()},h(){ht(e,t=n[7].img)||_(e,"srcset",t),_(e,"sizes",r=n[8].sizes||`${n[1]}px`),_(e,"alt",n[7].alt)},m(l,u){M(l,e,u),o=!0,a||(i=K(e,"error",n[26]),a=!0)},p(l,u){(!o||u[0]&2&&r!==(r=l[8].sizes||`${l[1]}px`))&&_(e,"sizes",r)},i(l){o||(s&&s.end(1),o=!0)},o(l){s=we(e,de,{}),o=!1},d(l){l&&w(e),l&&s&&s.end(),a=!1,i()}}}function rt(n){let e,t;return e=new Ye({props:{thumb:n[7].thumb,loaded:n[2]}}),{c(){ke(e.$$.fragment)},l(r){Ie(e.$$.fragment,r)},m(r,s){De(e,r,s),t=!0},p(r,s){const o={};s[0]&4&&(o.loaded=r[2]),e.$set(o)},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){Ee(e,r)}}}function Et(n){let e,t,r,s,o,a,i=n[2]&&tt(n),l=n[3]&&rt(n);return{c(){e=I("div"),t=I("div"),i&&i.c(),r=Z(),l&&l.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var c=P(e);t=C(c,"DIV",{class:!0,style:!0});var b=P(t);i&&i.l(b),r=J(b),l&&l.l(b),b.forEach(w),c.forEach(w),this.h()},h(){_(t,"class","bp-img"),L(t,"background-image","url("+n[7].thumb+")"),L(t,"width",n[0][0]+"px"),L(t,"height",n[0][1]+"px"),L(t,"transform","translate3d("+(n[0][0]/-2+n[6][0])+"px, "+(n[0][1]/-2+n[6][1])+"px, 0)"),x(t,"bp-drag",n[4]),x(t,"bp-canzoom",n[11]>1&&n[0][0]<n[12]),_(e,"class","bp-img-wrap"),x(e,"bp-close",n[5])},m(u,c){M(u,e,c),y(e,t),i&&i.m(t,null),y(t,r),l&&l.m(t,null),s=!0,o||(a=[Ne(n[20].call(null,t)),K(e,"wheel",n[15]),K(e,"pointerdown",n[16]),K(e,"pointermove",n[17]),K(e,"pointerup",n[19]),K(e,"pointercancel",n[18])],o=!0)},p(u,c){u[2]?i?(i.p(u,c),c[0]&4&&N(i,1)):(i=tt(u),i.c(),N(i,1),i.m(t,r)):i&&(pe(),q(i,1,1,()=>{i=null}),ge()),u[3]?l?(l.p(u,c),c[0]&8&&N(l,1)):(l=rt(u),l.c(),N(l,1),l.m(t,null)):l&&(pe(),q(l,1,1,()=>{l=null}),ge()),(!s||c[0]&1)&&L(t,"width",u[0][0]+"px"),(!s||c[0]&1)&&L(t,"height",u[0][1]+"px"),(!s||c[0]&65)&&L(t,"transform","translate3d("+(u[0][0]/-2+u[6][0])+"px, "+(u[0][1]/-2+u[6][1])+"px, 0)"),(!s||c[0]&16)&&x(t,"bp-drag",u[4]),(!s||c[0]&6145)&&x(t,"bp-canzoom",u[11]>1&&u[0][0]<u[12]),(!s||c[0]&32)&&x(e,"bp-close",u[5])},i(u){s||(N(i),N(l),s=!0)},o(u){q(i),q(l),s=!1},d(u){u&&w(e),i&&i.d(),l&&l.d(),o=!1,ze(a)}}}function Ct(n,e,t){let r,s,o,a;_e(n,Ve,d=>t(25,o=d));let{props:i}=e,{smallScreen:l}=e,{activeItem:u,opts:c,prev:b,next:k,zoomed:T,container:h}=i;_e(n,T,d=>t(24,r=d));let f=u.maxZoom||c.maxZoom||10,m=i.calculateDimensions(u),v=m[0],F,E,O,ne,ee=0,H,W,se,oe,fe,le,Q;const ie=+u.width,ae=[],re=new Map,U=$e(m,Se(400));_e(n,U,d=>t(0,a=d));const j=$e([0,0],Se(400));_e(n,j,d=>t(6,s=d));const S=([d,A],Y=a)=>{const z=(Y[0]-h.w)/2,G=(Y[1]-h.h)/2;return z<0?d=0:d>z?l?(d=H?z+(d-z)/10:z,d>z+20&&t(4,H=b())):d=z:d<-z&&(l?(d=H?-z-(-z-d)/10:-z,d<-z-20&&t(4,H=k())):d=-z),G<0?A=0:A>G?A=G:A<-G&&(A=-G),[d,A]};function V(d=f,A){if(o)return;const Y=m[0]*f;let z=a[0]+a[0]*d,G=a[1]+a[1]*d;if(d>0)z>Y&&(z=Y,G=m[1]*f),z>ie&&(z=ie,G=+u.height);else if(z<m[0])return U.set(m),j.set([0,0]);let{x:ce,y:Ce,width:qe,height:We}=ne.getBoundingClientRect();const Fe=A?A.clientX-ce-qe/2:0,Le=A?A.clientY-Ce-We/2:0;ce=-Fe*(z/qe)+Fe,Ce=-Le*(G/We)+Le;const Ue=[z,G];U.set(Ue).then(()=>{t(1,v=Math.round(Math.max(v,z)))}),j.set(S([s[0]+ce,s[1]+Ce],Ue))}Object.defineProperty(u,"zoom",{configurable:!0,get:()=>r,set:d=>V(d?f:-f)});const p=d=>{c.inline&&!r||(d.preventDefault(),V(d.deltaY/-300,d))},g=d=>{d.button!==2&&(d.preventDefault(),t(4,H=!0),re.set(d.pointerId,d),se=d.clientX,oe=d.clientY,fe=s[0],le=s[1])},D=d=>{var z;if(re.size>1)return t(4,H=!1),((z=c.noPinch)==null?void 0:z.call(c,h.el))||X(d);if(!H)return;let A=d.clientX,Y=d.clientY;W=ae.push({x:A,y:Y})>2,A=A-se,Y=Y-oe,r||(Y<-90&&t(4,H=!c.noClose&&i.close()),Math.abs(Y)<30&&(A>40&&t(4,H=b()),A<-40&&t(4,H=k()))),r&&W&&!o&&j.set(S([fe+A,le+Y]),{duration:0})},X=d=>{const[A,Y]=re.set(d.pointerId,d).values(),z=A.clientX-Y.clientX,G=A.clientY-Y.clientY,ce=Math.hypot(z,G);O=O||{clientX:(A.clientX+Y.clientX)/2,clientY:(A.clientY+Y.clientY)/2},V(((ee||ce)-ce)/-35,O),ee=ce},$=d=>re.delete(d.pointerId);function R(d){var A;if($(d),O&&(t(4,H=ee=0),O=re.size?O:null),!!H){if(t(4,H=!1),d.target===this&&!c.noClose)return i.close();if(W){const[Y,z,G]=ae.slice(-3),ce=z.x-G.x,Ce=z.y-G.y;Math.hypot(ce,Ce)>5&&j.set(S([s[0]-(Y.x-G.x)*5,s[1]-(Y.y-G.y)*5]))}else(A=c.onImageClick)!=null&&A.call(c,h.el,u)||V(r?-f:f,d);W=!1,ae.length=0}}const B=d=>{ne=d,i.setResizeFunc(()=>{t(23,m=i.calculateDimensions(u)),(c.inline||!l)&&(U.set(m),j.set([0,0]))}),i.loadImage(u).then(()=>{t(2,F=!0),i.preloadNext()}),setTimeout(()=>{t(3,E=!F)},250)},te=d=>{var A;return(A=c.onError)==null?void 0:A.call(c,h,u,d)};return n.$$set=d=>{"props"in d&&t(21,i=d.props),"smallScreen"in d&&t(22,l=d.smallScreen)},n.$$.update=()=>{if(n.$$.dirty[0]&8388609&&T.set(a[0]-10>m[0]),n.$$.dirty[0]&58720256&&o&&r&&!c.intro){const d=Se(480);j.set([0,0],d),U.set(m,d),t(5,Q=!0)}},[a,v,F,E,H,Q,s,u,c,T,h,f,ie,U,j,p,g,D,$,R,B,i,l,m,r,o,te]}class Tt extends ve{constructor(e){super(),ye(this,e,Ct,Et,Te,{props:21,smallScreen:22},null,[-1,-1])}}function zt(n){let e,t,r,s,o,a,i;return s=new Ye({props:{thumb:n[2].thumb,loaded:n[0]}}),{c(){e=I("div"),t=I("iframe"),r=Z(),ke(s.$$.fragment),this.h()},l(l){e=C(l,"DIV",{class:!0,style:!0});var u=P(e);t=C(u,"IFRAME",{allow:!0,title:!0}),P(t).forEach(w),r=J(u),Ie(s.$$.fragment,u),u.forEach(w),this.h()},h(){_(t,"allow","autoplay; fullscreen"),_(t,"title",n[2].title),_(e,"class","bp-if"),L(e,"width",n[1][0]+"px"),L(e,"height",n[1][1]+"px")},m(l,u){M(l,e,u),y(e,t),y(e,r),De(s,e,null),o=!0,a||(i=[Ne(n[3].call(null,t)),K(t,"load",n[5])],a=!0)},p(l,[u]){const c={};u&1&&(c.loaded=l[0]),s.$set(c),(!o||u&2)&&L(e,"width",l[1][0]+"px"),(!o||u&2)&&L(e,"height",l[1][1]+"px")},i(l){o||(N(s.$$.fragment,l),o=!0)},o(l){q(s.$$.fragment,l),o=!1},d(l){l&&w(e),Ee(s),a=!1,ze(i)}}}function At(n,e,t){let{props:r}=e,s,o;const{activeItem:a}=r,i=()=>t(1,o=r.calculateDimensions(a));i(),r.setResizeFunc(i);const l=c=>c.src=a.iframe,u=()=>t(0,s=!0);return n.$$set=c=>{"props"in c&&t(4,r=c.props)},[s,o,a,l,r,u]}class Pt extends ve{constructor(e){super(),ye(this,e,At,zt,Te,{props:4})}}function Vt(n){let e,t,r,s,o;return t=new Ye({props:{thumb:n[2].thumb,loaded:n[0]}}),{c(){e=I("div"),ke(t.$$.fragment),this.h()},l(a){e=C(a,"DIV",{class:!0,style:!0});var i=P(e);Ie(t.$$.fragment,i),i.forEach(w),this.h()},h(){_(e,"class","bp-vid"),L(e,"width",n[1][0]+"px"),L(e,"height",n[1][1]+"px"),L(e,"background-image","url("+n[2].thumb+")")},m(a,i){M(a,e,i),De(t,e,null),r=!0,s||(o=Ne(n[3].call(null,e)),s=!0)},p(a,[i]){const l={};i&1&&(l.loaded=a[0]),t.$set(l),(!r||i&2)&&L(e,"width",a[1][0]+"px"),(!r||i&2)&&L(e,"height",a[1][1]+"px")},i(a){r||(N(t.$$.fragment,a),r=!0)},o(a){q(t.$$.fragment,a),r=!1},d(a){a&&w(e),Ee(t),s=!1,o()}}}function Nt(n,e,t){let{props:r}=e,s,o;const{activeItem:a,opts:i,container:l}=r,u=()=>t(1,o=r.calculateDimensions(a));u(),r.setResizeFunc(u);const c=(k,T)=>{for(const h in T)_(k,h,T[h])},b=k=>{let T;const h=(f,m)=>{var v;Array.isArray(m)||(m=JSON.parse(m));for(const F of m){T||(T=I((v=F.type)!=null&&v.includes("audio")?"audio":"video"),c(T,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}));const E=I(f);c(E,F),f=="source"&&K(E,"error",O=>{var ne;return(ne=i.onError)==null?void 0:ne.call(i,l,a,O)}),Ze(T,E)}};h("source",a.sources),h("track",a.tracks||[]),K(T,"canplay",()=>t(0,s=!0)),Ze(k,T)};return n.$$set=k=>{"props"in k&&t(4,r=k.props)},[s,o,a,b,r]}class St extends ve{constructor(e){super(),ye(this,e,Nt,Vt,Te,{props:4})}}function nt(n){let e,t,r,s,o=n[6].i,a,i,l,u,c,b,k,T,h=lt(n),f=n[0].length>1&&it(n);return{c(){e=I("div"),t=I("div"),s=Z(),h.c(),a=Z(),i=I("div"),l=I("button"),u=Z(),f&&f.c(),this.h()},l(m){e=C(m,"DIV",{class:!0});var v=P(e);t=C(v,"DIV",{}),P(t).forEach(w),s=J(v),h.l(v),a=J(v),i=C(v,"DIV",{class:!0});var F=P(i);l=C(F,"BUTTON",{class:!0,title:!0,"aria-label":!0}),P(l).forEach(w),u=J(F),f&&f.l(F),F.forEach(w),v.forEach(w),this.h()},h(){_(l,"class","bp-x"),_(l,"title","Close"),_(l,"aria-label","Close"),_(i,"class","bp-controls"),_(e,"class","bp-wrap"),x(e,"bp-zoomed",n[10]),x(e,"bp-inline",n[8]),x(e,"bp-small",n[7]),x(e,"bp-noclose",n[5].noClose)},m(m,v){M(m,e,v),y(e,t),y(e,s),h.m(e,null),y(e,a),y(e,i),y(i,l),y(i,u),f&&f.m(i,null),b=!0,k||(T=[K(l,"click",n[1]),Ne(n[14].call(null,e))],k=!0)},p(m,v){v[0]&64&&ut(o,o=m[6].i)?(pe(),q(h,1,1,ue),ge(),h=lt(m),h.c(),N(h,1),h.m(e,a)):h.p(m,v),m[0].length>1?f?f.p(m,v):(f=it(m),f.c(),f.m(i,null)):f&&(f.d(1),f=null),(!b||v[0]&1024)&&x(e,"bp-zoomed",m[10]),(!b||v[0]&256)&&x(e,"bp-inline",m[8]),(!b||v[0]&128)&&x(e,"bp-small",m[7]),(!b||v[0]&32)&&x(e,"bp-noclose",m[5].noClose)},i(m){b||(r&&r.end(1),N(h),c&&c.end(1),b=!0)},o(m){m&&(r=we(t,de,{duration:480})),q(h),m&&(c=we(i,de,{})),b=!1},d(m){m&&w(e),m&&r&&r.end(),h.d(m),f&&f.d(),m&&c&&c.end(),k=!1,ze(T)}}}function Mt(n){let e,t,r=n[6].html+"";return{c(){e=I("div"),t=new Oe(!1),this.h()},l(s){e=C(s,"DIV",{class:!0});var o=P(e);t=He(o,!1),o.forEach(w),this.h()},h(){t.a=null,_(e,"class","bp-html")},m(s,o){M(s,e,o),t.m(r,e)},p(s,o){o[0]&64&&r!==(r=s[6].html+"")&&t.p(r)},i:ue,o:ue,d(s){s&&w(e)}}}function Ot(n){let e,t;return e=new Pt({props:{props:n[13]()}}),{c(){ke(e.$$.fragment)},l(r){Ie(e.$$.fragment,r)},m(r,s){De(e,r,s),t=!0},p:ue,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){Ee(e,r)}}}function Ht(n){let e,t;return e=new St({props:{props:n[13]()}}),{c(){ke(e.$$.fragment)},l(r){Ie(e.$$.fragment,r)},m(r,s){De(e,r,s),t=!0},p:ue,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){Ee(e,r)}}}function Rt(n){let e,t;return e=new Tt({props:{props:n[13](),smallScreen:n[7]}}),{c(){ke(e.$$.fragment)},l(r){Ie(e.$$.fragment,r)},m(r,s){De(e,r,s),t=!0},p(r,s){const o={};s[0]&128&&(o.smallScreen=r[7]),e.$set(o)},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){Ee(e,r)}}}function st(n){let e,t,r=n[6].caption+"",s,o;return{c(){e=I("div"),t=new Oe(!1),this.h()},l(a){e=C(a,"DIV",{class:!0});var i=P(e);t=He(i,!1),i.forEach(w),this.h()},h(){t.a=null,_(e,"class","bp-cap")},m(a,i){M(a,e,i),t.m(r,e),o=!0},p(a,i){(!o||i[0]&64)&&r!==(r=a[6].caption+"")&&t.p(r)},i(a){o||(s&&s.end(1),o=!0)},o(a){s=we(e,de,{duration:200}),o=!1},d(a){a&&w(e),a&&s&&s.end()}}}function lt(n){let e,t,r,s,o,a,i,l,u,c;const b=[Rt,Ht,Ot,Mt],k=[];function T(f,m){return f[6].img?0:f[6].sources?1:f[6].iframe?2:3}t=T(n),r=k[t]=b[t](n);let h=n[6].caption&&st(n);return{c(){e=I("div"),r.c(),a=Z(),h&&h.c(),i=be(),this.h()},l(f){e=C(f,"DIV",{class:!0});var m=P(e);r.l(m),m.forEach(w),a=J(f),h&&h.l(f),i=be(),this.h()},h(){_(e,"class","bp-inner")},m(f,m){M(f,e,m),k[t].m(e,null),M(f,a,m),h&&h.m(f,m),M(f,i,m),l=!0,u||(c=[K(e,"pointerdown",n[21]),K(e,"pointerup",n[22])],u=!0)},p(f,m){let v=t;t=T(f),t===v?k[t].p(f,m):(pe(),q(k[v],1,1,()=>{k[v]=null}),ge(),r=k[t],r?r.p(f,m):(r=k[t]=b[t](f),r.c()),N(r,1),r.m(e,null)),f[6].caption?h?(h.p(f,m),m[0]&64&&N(h,1)):(h=st(f),h.c(),N(h,1),h.m(i.parentNode,i)):h&&(pe(),q(h,1,1,()=>{h=null}),ge())},i(f){l||(N(r),ft(()=>{l&&(o&&o.end(1),s=dt(e,n[12],!0),s.start())}),N(h),l=!0)},o(f){q(r),s&&s.invalidate(),o=we(e,n[12],!1),q(h),l=!1},d(f){f&&(w(e),w(a),w(i)),k[t].d(),f&&o&&o.end(),h&&h.d(f),u=!1,ze(c)}}}function it(n){let e,t,r=`${n[4]+1} / ${n[0].length}`,s,o,a,i,l,u;return{c(){e=I("div"),t=new Oe(!1),s=Z(),o=I("button"),a=Z(),i=I("button"),this.h()},l(c){e=C(c,"DIV",{class:!0});var b=P(e);t=He(b,!1),b.forEach(w),s=J(c),o=C(c,"BUTTON",{class:!0,title:!0,"aria-label":!0}),P(o).forEach(w),a=J(c),i=C(c,"BUTTON",{class:!0,title:!0,"aria-label":!0}),P(i).forEach(w),this.h()},h(){t.a=null,_(e,"class","bp-count"),_(o,"class","bp-prev"),_(o,"title","Previous"),_(o,"aria-label","Previous"),_(i,"class","bp-next"),_(i,"title","Next"),_(i,"aria-label","Next")},m(c,b){M(c,e,b),t.m(r,e),M(c,s,b),M(c,o,b),M(c,a,b),M(c,i,b),l||(u=[K(o,"click",n[2]),K(i,"click",n[3])],l=!0)},p(c,b){b[0]&17&&r!==(r=`${c[4]+1} / ${c[0].length}`)&&t.p(r)},d(c){c&&(w(e),w(s),w(o),w(a),w(i)),l=!1,ze(u)}}}function Xt(n){let e,t,r=n[0]&&nt(n);return{c(){r&&r.c(),e=be()},l(s){r&&r.l(s),e=be()},m(s,o){r&&r.m(s,o),M(s,e,o),t=!0},p(s,o){s[0]?r?(r.p(s,o),o[0]&1&&N(r,1)):(r=nt(s),r.c(),N(r,1),r.m(e.parentNode,e)):r&&(pe(),q(r,1,1,()=>{r=null}),ge())},i(s){t||(N(r),t=!0)},o(s){q(r),t=!1},d(s){s&&w(e),r&&r.d(s)}}}function Yt(n,e,t){let r,{items:s=void 0}=e,{target:o=void 0}=e;const a=document.documentElement;let i,l,u,c,b,k,T,h,f,m,v;const F=p=>v=p,E={},O=Re(0);_e(n,O,p=>t(10,r=p));const ne=p=>{t(5,l=p),t(8,k=l.inline);const g=l.items;!k&&a.scrollHeight>a.clientHeight&&a.classList.add("bp-lock"),c=document.activeElement,t(20,E.w=o.offsetWidth,E),t(20,E.h=o===document.body?window.innerHeight:o.clientHeight,E),t(7,b=E.w<769),t(4,i=l.position||0),Array.isArray(g)?t(0,s=g.map((D,X)=>(l.el&&l.el===D.element&&t(4,i=X),{i:X,...D}))):t(0,s=(g.length?[...g]:[g]).map((D,X)=>(l.el===D&&t(4,i=X),{element:D,i:X,...D.dataset})))},ee=()=>{var p;(p=l.onClose)==null||p.call(l,E.el,f),Ve.set(!0),t(0,s=null),c==null||c.focus({preventScroll:!0})},H=()=>se(i-1),W=()=>se(i+1),se=p=>{T=p-i,t(4,i=oe(p))},oe=p=>(p+s.length)%s.length,fe=p=>{const{key:g,shiftKey:D}=p;if(g==="Escape")!l.noClose&&ee();else if(g==="ArrowRight")W();else if(g==="ArrowLeft")H();else if(g==="Tab"){const{activeElement:X}=document;if(D||!X.controls){p.preventDefault();const{focusWrap:$=E.el}=l,R=[...$.querySelectorAll("*")].filter(te=>te.tabIndex>=0);let B=R.indexOf(X);B+=R.length+(D?-1:1),R[B%R.length].focus()}}},le=({width:p=1920,height:g=1080})=>{const{scale:D=.99}=l,X=Math.min(1,E.w/p*D,E.h/g*D);return[Math.round(p*X),Math.round(g*X)]},Q=()=>{if(s){const p=s[oe(i+1)],g=s[oe(i-1)];!p.preload&&ie(p),!g.preload&&ie(g)}},ie=p=>{if(p.img){const g=I("img");return g.sizes=l.sizes||`${le(p)[0]}px`,g.srcset=p.img,p.preload=!0,g.decode().catch(D=>{})}},ae=(p,g)=>!u||!s?(t(18,u=g),l.intro?de(p,{y:g?10:-10}):re(p)):de(p,{x:(T>0?20:-20)*(g?1:-1),duration:250}),re=p=>{let g;if(m){const te=p.firstChild.firstChild;g=[te.clientWidth,te.clientHeight]}else g=le(f);const D=(f.element||c).getBoundingClientRect(),X=D.left-(E.w-D.width)/2,$=D.top-(E.h-D.height)/2,R=D.width/g[0],B=D.height/g[1];return{duration:480,easing:Xe,css:(te,d)=>`transform:translate3d(${X*d}px, ${$*d}px, 0) scale3d(${R+te*(1-R)}, ${B+te*(1-B)}, 1)`}},U=()=>({activeItem:f,calculateDimensions:le,loadImage:ie,preloadNext:Q,opts:l,prev:H,next:W,close:ee,setResizeFunc:F,zoomed:O,container:E}),j=p=>{var $;t(20,E.el=p,E);let g,D;($=l.onOpen)==null||$.call(l,E.el,f),k||(g=K(window,"keydown",fe));const X=new ResizeObserver(R=>{var B;D&&(t(20,E.w=R[0].contentRect.width,E),t(20,E.h=R[0].contentRect.height,E),t(7,b=E.w<769),v==null||v(),(B=l.onResize)==null||B.call(l,E.el,f)),D=!0});return X.observe(p),{destroy(){var R;X.disconnect(),g==null||g(),Ve.set(!1),a.classList.remove("bp-lock"),(R=l.onClosed)==null||R.call(l)}}},S=p=>t(9,h=p.target),V=function(p){p.button!==2&&p.target===this&&h===this&&!l.noClose&&ee()};return n.$$set=p=>{"items"in p&&t(0,s=p.items),"target"in p&&t(15,o=p.target)},n.$$.update=()=>{var p;n.$$.dirty[0]&1835121&&s&&(t(6,f=s[i]),t(19,m=f.hasOwnProperty("html")),u&&(m&&F(null),(p=l.onUpdate)==null||p.call(l,E.el,f)))},[s,ee,H,W,i,l,f,b,k,h,r,O,ae,U,j,o,ne,se,u,m,E,S,V]}class qt extends ve{constructor(e){super(),ye(this,e,Yt,Xt,ut,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}set items(e){this.$$set({items:e}),Ge()}get target(){return this.$$.ctx[15]}set target(e){this.$$set({target:e}),Ge()}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}function Wt(n){return new qt({...n,props:n})}function ot(n,e,t){const r=n.slice();return r[5]=e[t],r}function at(n){let e,t,r,s,o,a;return{c(){e=I("a"),t=I("img"),s=Z(),this.h()},l(i){e=C(i,"A",{class:!0,href:!0,"data-img":!0,"data-thumb":!0,"data-height":!0,"data-width":!0,"data-alt":!0,"data-caption":!0});var l=P(e);t=C(l,"IMG",{src:!0,width:!0,height:!0,alt:!0}),s=J(l),l.forEach(w),this.h()},h(){gt(t.src,r=Pe(n[5].repImage,"thumb"))||_(t,"src",r),_(t,"width",yt(n[5].repImageWidth,n[5].repImageHeight)),_(t,"height",300),_(t,"alt",n[5].title),_(e,"class","tile svelte-7t1edf"),_(e,"href",Pe(n[5].repImage)),_(e,"data-img",Pe(n[5].repImage)),_(e,"data-thumb",Pe(n[5].repImage,"thumb")),_(e,"data-height",n[5].repImageHeight),_(e,"data-width",n[5].repImageWidth),_(e,"data-alt",n[5].title),_(e,"data-caption",n[5].title+".  View at <a href='"+n[5].repImage+"' class='llines'>Newberry Digital Collections</a>")},m(i,l){M(i,e,l),y(e,t),y(e,s),o||(a=K(e,"click",n[2]),o=!0)},p:ue,d(i){i&&w(e),o=!1,a()}}}function Ft(n){let e,t,r,s=`<a href="${Ke}/"><img height="60" width="300" src="${Ke}/NewberryLogo.png" alt="Logo for the Newberry Library"/></a>`,o,a,i,l="Free to Use and Reuse:",u,c,b=n[0].galleryData.context+"",k,T,h,f,m,v=" ",F,E,O,ne="Postcard Gallery",ee,H,W,se,oe=" ",fe,le,Q,ie="Open Access Policy",ae,re,U,j=Je(n[1]),S=[];for(let V=0;V<j.length;V+=1)S[V]=at(ot(n,j,V));return{c(){e=I("main"),t=I("div"),r=I("div"),r.innerHTML=s,o=Z(),a=I("header"),i=I("h3"),i.textContent=l,u=Z(),c=I("h1"),k=me(b),T=Z(),h=I("section"),f=I("p"),m=me(`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),F=me(v),E=Z(),O=I("a"),O.textContent=ne,ee=me("."),H=Z(),W=I("p"),se=me(`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),fe=me(oe),le=Z(),Q=I("a"),Q.textContent=ie,ae=me(`
                    .`),re=Z(),U=I("div");for(let V=0;V<S.length;V+=1)S[V].c();this.h()},l(V){e=C(V,"MAIN",{});var p=P(e);t=C(p,"DIV",{class:!0});var g=P(t);r=C(g,"DIV",{class:!0,"data-svelte-h":!0}),Ae(r)!=="svelte-y4ip7g"&&(r.innerHTML=s),o=J(g),a=C(g,"HEADER",{class:!0});var D=P(a);i=C(D,"H3",{"data-svelte-h":!0}),Ae(i)!=="svelte-i0mqc1"&&(i.textContent=l),u=J(D),c=C(D,"H1",{});var X=P(c);k=he(X,b),X.forEach(w),T=J(D),h=C(D,"SECTION",{class:!0});var $=P(h);f=C($,"P",{class:!0});var R=P(f);m=he(R,`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),F=he(R,v),E=J(R),O=C(R,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Ae(O)!=="svelte-1rj1iwf"&&(O.textContent=ne),ee=he(R,"."),R.forEach(w),H=J($),W=C($,"P",{class:!0});var B=P(W);se=he(B,`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),fe=he(B,oe),le=J(B),Q=C(B,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Ae(Q)!=="svelte-u8amqq"&&(Q.textContent=ie),ae=he(B,`
                    .`),B.forEach(w),$.forEach(w),D.forEach(w),g.forEach(w),re=J(p),U=C(p,"DIV",{class:!0,id:!0});var te=P(U);for(let d=0;d<S.length;d+=1)S[d].l(te);te.forEach(w),p.forEach(w),this.h()},h(){_(r,"class","logo"),_(O,"href","https://collections.newberry.org/CS.aspx?VP3=DamView&VBID=2KXJA4UE6RXM&PN=1"),_(O,"target","_blank"),_(O,"class","llines"),_(f,"class","text-lg"),_(Q,"href","https://www.newberry.org/policies#open-access"),_(Q,"target","_blank"),_(Q,"class","llines"),_(W,"class","text-base"),_(h,"class","text-content"),_(a,"class","title"),_(t,"class","left"),_(U,"class","right"),_(U,"id","images")},m(V,p){M(V,e,p),y(e,t),y(t,r),y(t,o),y(t,a),y(a,i),y(a,u),y(a,c),y(c,k),y(a,T),y(a,h),y(h,f),y(f,m),y(f,F),y(f,E),y(f,O),y(f,ee),y(h,H),y(h,W),y(W,se),y(W,fe),y(W,le),y(W,Q),y(W,ae),y(e,re),y(e,U);for(let g=0;g<S.length;g+=1)S[g]&&S[g].m(U,null)},p(V,[p]){if(p&1&&b!==(b=V[0].galleryData.context+"")&&wt(k,b),p&6){j=Je(V[1]);let g;for(g=0;g<j.length;g+=1){const D=ot(V,j,g);S[g]?S[g].p(D,p):(S[g]=at(D),S[g].c(),S[g].m(U,null))}for(;g<S.length;g+=1)S[g].d(1);S.length=j.length}},i:ue,o:ue,d(V){V&&w(e),vt(S,V)}}}function Lt(n,e,t){let{data:r}=e;const{postcards:s}=r.galleryData;let o,a;pt(()=>{o=Wt({target:document.body}),a=document.querySelectorAll("#images > a")});function i(l){l.preventDefault(),l.currentTarget!==null&&o.open({intro:"fadeup",items:a,el:l.currentTarget})}return n.$$set=l=>{"data"in l&&t(0,r=l.data)},[r,s,i]}class Jt extends ve{constructor(e){super(),ye(this,e,Lt,Ft,Te,{data:0})}}export{Jt as component};

import{D as rt,E as lt,F as It,s as He,e as he,i as M,d as g,z as Me,f as y,g as A,h as T,j as h,k as B,G as yt,a as $,c as H,H as x,x as b,I as We,J as j,K as Le,L as Et,M as st,N as kt,O as nt,y as Ne,P as Ke,Q as Ze,l as _e,A as Ce,m as be,n as it,o as Ct,B as Nt,C as At,R as St}from"../chunks/scheduler.b9cf52ea.js";import{n as Tt,l as Pt,S as Oe,i as $e,a as z,g as Se,t as Y,c as Te,f as Dt,h as Re,b as ve,d as we,m as ye,e as ke}from"../chunks/index.8f3dcde5.js";import{S as Vt,F as zt,M as Mt,e as ot,i as qe}from"../chunks/index.57a434b9.js";import{w as Je}from"../chunks/index.800adaad.js";import{b as Be}from"../chunks/paths.1f6e9b32.js";function Qe(s){const e=s-1;return e*e*e+1}function De(s,{delay:e=0,duration:t=400,easing:r=Qe,x:l=0,y:n=0,opacity:i=0}={}){const a=getComputedStyle(s),o=+a.opacity,c=a.transform==="none"?"":a.transform,f=o*(1-i),[v,E]=rt(l),[S,p]=rt(n);return{delay:e,duration:t,easing:r,css:(u,d)=>`
			transform: ${c} translate(${(1-u)*v}${E}, ${(1-u)*S}${p});
			opacity: ${o-f*d}`}}function at(s){return Object.prototype.toString.call(s)==="[object Date]"}function Ge(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const r=e.map((l,n)=>Ge(s[n],l));return l=>r.map(n=>n(l))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(at(s)&&at(e)){s=s.getTime(),e=e.getTime();const n=e-s;return i=>new Date(s+i*n)}const r=Object.keys(e),l={};return r.forEach(n=>{l[n]=Ge(s[n],e[n])}),n=>{const i={};return r.forEach(a=>{i[a]=l[a](n)}),i}}if(t==="number"){const r=e-s;return l=>s+l*r}throw new Error(`Cannot interpolate ${t} values`)}function ct(s,e={}){const t=Je(s);let r,l=s;function n(i,a){if(s==null)return t.set(s=i),Promise.resolve();l=i;let o=r,c=!1,{delay:f=0,duration:v=400,easing:E=It,interpolate:S=Ge}=lt(lt({},e),a);if(v===0)return o&&(o.abort(),o=null),t.set(s=l),Promise.resolve();const p=Tt()+f;let u;return r=Pt(d=>{if(d<p)return!0;c||(u=S(s,i),typeof v=="function"&&(v=v(s,i)),c=!0),o&&(o.abort(),o=null);const k=d-p;return k>v?(t.set(s=i),!1):(t.set(s=u(E(k/v))),!0)}),r.promise}return{set:n,update:(i,a)=>n(i(l,s),a),subscribe:t.subscribe}}const Fe=Je(0);var wt;const Rt=(wt=globalThis.matchMedia)==null?void 0:wt.call(globalThis,"(prefers-reduced-motion: reduce)").matches,je=s=>({easing:Qe,duration:Rt?0:s});function ft(s){let e,t,r,l,n=!s[2]&&ut();return{c(){e=y("div"),n&&n.c(),this.h()},l(i){e=A(i,"DIV",{class:!0,style:!0});var a=T(e);n&&n.l(a),a.forEach(g),this.h()},h(){h(e,"class","bp-load"),B(e,"background-image","url("+s[0]+")")},m(i,a){M(i,e,a),n&&n.m(e,null),l=!0},p(i,a){s=i,s[2]?n&&(n.d(1),n=null):n||(n=ut(),n.c(),n.m(e,null)),(!l||a&1)&&B(e,"background-image","url("+s[0]+")")},i(i){l||(i&&yt(()=>{l&&(r&&r.end(1),t=Dt(e,De,{duration:s[1]?400:0}),t.start())}),l=!0)},o(i){t&&t.invalidate(),i&&(r=Re(e,De,{duration:480})),l=!1},d(i){i&&g(e),n&&n.d(),i&&r&&r.end()}}}function ut(s){let e,t,r;return{c(){e=y("span"),t=$(),r=y("span"),this.h()},l(l){e=A(l,"SPAN",{class:!0}),T(e).forEach(g),t=H(l),r=A(l,"SPAN",{class:!0}),T(r).forEach(g),this.h()},h(){h(e,"class","bp-bar"),h(r,"class","bp-o")},m(l,n){M(l,e,n),M(l,t,n),M(l,r,n)},d(l){l&&(g(e),g(t),g(r))}}}function Ot(s){let e,t=(!s[1]||s[2])&&ft(s);return{c(){t&&t.c(),e=he()},l(r){t&&t.l(r),e=he()},m(r,l){t&&t.m(r,l),M(r,e,l)},p(r,[l]){!r[1]||r[2]?t?(t.p(r,l),l&6&&z(t,1)):(t=ft(r),t.c(),z(t,1),t.m(e.parentNode,e)):t&&(Se(),Y(t,1,1,()=>{t=null}),Te())},i(r){z(t)},o(r){Y(t)},d(r){r&&g(e),t&&t.d(r)}}}function $t(s,e,t){let r;Me(s,Fe,i=>t(2,r=i));let{thumb:l}=e,{loaded:n}=e;return s.$$set=i=>{"thumb"in i&&t(0,l=i.thumb),"loaded"in i&&t(1,n=i.loaded)},[l,n,r]}class xe extends Oe{constructor(e){super(),$e(this,e,$t,Ot,He,{thumb:0,loaded:1})}}function ht(s){let e,t,r,l,n,i,a;return{c(){e=y("img"),this.h()},l(o){e=A(o,"IMG",{srcset:!0,sizes:!0,alt:!0}),this.h()},h(){Et(e,t=s[7].img)||h(e,"srcset",t),h(e,"sizes",r=s[8].sizes||`${s[1]}px`),h(e,"alt",s[7].alt)},m(o,c){M(o,e,c),n=!0,i||(a=j(e,"error",s[26]),i=!0)},p(o,c){(!n||c[0]&2&&r!==(r=o[8].sizes||`${o[1]}px`))&&h(e,"sizes",r)},i(o){n||(l&&l.end(1),n=!0)},o(o){l=Re(e,De,{}),n=!1},d(o){o&&g(e),o&&l&&l.end(),i=!1,a()}}}function mt(s){let e,t;return e=new xe({props:{thumb:s[7].thumb,loaded:s[2]}}),{c(){ve(e.$$.fragment)},l(r){we(e.$$.fragment,r)},m(r,l){ye(e,r,l),t=!0},p(r,l){const n={};l[0]&4&&(n.loaded=r[2]),e.$set(n)},i(r){t||(z(e.$$.fragment,r),t=!0)},o(r){Y(e.$$.fragment,r),t=!1},d(r){ke(e,r)}}}function Ht(s){let e,t,r,l,n,i,a=s[2]&&ht(s),o=s[3]&&mt(s);return{c(){e=y("div"),t=y("div"),a&&a.c(),r=$(),o&&o.c(),this.h()},l(c){e=A(c,"DIV",{class:!0});var f=T(e);t=A(f,"DIV",{class:!0,style:!0});var v=T(t);a&&a.l(v),r=H(v),o&&o.l(v),v.forEach(g),f.forEach(g),this.h()},h(){h(t,"class","bp-img"),B(t,"background-image","url("+s[7].thumb+")"),B(t,"width",s[0][0]+"px"),B(t,"height",s[0][1]+"px"),B(t,"transform","translate3d("+(s[0][0]/-2+s[6][0])+"px, "+(s[0][1]/-2+s[6][1])+"px, 0)"),x(t,"bp-drag",s[4]),x(t,"bp-canzoom",s[11]>1&&s[0][0]<s[12]),h(e,"class","bp-img-wrap"),x(e,"bp-close",s[5])},m(c,f){M(c,e,f),b(e,t),a&&a.m(t,null),b(t,r),o&&o.m(t,null),l=!0,n||(i=[We(s[20].call(null,t)),j(e,"wheel",s[15]),j(e,"pointerdown",s[16]),j(e,"pointermove",s[17]),j(e,"pointerup",s[19]),j(e,"pointercancel",s[18])],n=!0)},p(c,f){c[2]?a?(a.p(c,f),f[0]&4&&z(a,1)):(a=ht(c),a.c(),z(a,1),a.m(t,r)):a&&(Se(),Y(a,1,1,()=>{a=null}),Te()),c[3]?o?(o.p(c,f),f[0]&8&&z(o,1)):(o=mt(c),o.c(),z(o,1),o.m(t,null)):o&&(Se(),Y(o,1,1,()=>{o=null}),Te()),(!l||f[0]&1)&&B(t,"width",c[0][0]+"px"),(!l||f[0]&1)&&B(t,"height",c[0][1]+"px"),(!l||f[0]&65)&&B(t,"transform","translate3d("+(c[0][0]/-2+c[6][0])+"px, "+(c[0][1]/-2+c[6][1])+"px, 0)"),(!l||f[0]&16)&&x(t,"bp-drag",c[4]),(!l||f[0]&6145)&&x(t,"bp-canzoom",c[11]>1&&c[0][0]<c[12]),(!l||f[0]&32)&&x(e,"bp-close",c[5])},i(c){l||(z(a),z(o),l=!0)},o(c){Y(a),Y(o),l=!1},d(c){c&&g(e),a&&a.d(),o&&o.d(),n=!1,Le(i)}}}function Lt(s,e,t){let r,l,n,i;Me(s,Fe,m=>t(25,n=m));let{props:a}=e,{smallScreen:o}=e,{activeItem:c,opts:f,prev:v,next:E,zoomed:S,container:p}=a;Me(s,S,m=>t(24,r=m));let u=c.maxZoom||f.maxZoom||10,d=a.calculateDimensions(c),k=d[0],R,C,G,le,ee=0,P,se,ae,ce,K,fe,Ie;const ne=+c.width,me=[],F=new Map,ie=ct(d,je(400));Me(s,ie,m=>t(0,i=m));const J=ct([0,0],je(400));Me(s,J,m=>t(6,l=m));const de=([m,D],L=i)=>{const N=(L[0]-p.w)/2,O=(L[1]-p.h)/2;return N<0?m=0:m>N?o?(m=P?N+(m-N)/10:N,m>N+20&&t(4,P=v())):m=N:m<-N&&(o?(m=P?-N-(-N-m)/10:-N,m<-N-20&&t(4,P=E())):m=-N),O<0?D=0:D>O?D=O:D<-O&&(D=-O),[m,D]};function Q(m=u,D){if(n)return;const L=d[0]*u;let N=i[0]+i[0]*m,O=i[1]+i[1]*m;if(m>0)N>L&&(N=L,O=d[1]*u),N>ne&&(N=ne,O=+c.height);else if(N<d[0])return ie.set(d),J.set([0,0]);let{x:Z,y:ue,width:Pe,height:oe}=le.getBoundingClientRect();const pe=D?D.clientX-Z-Pe/2:0,X=D?D.clientY-ue-oe/2:0;Z=-pe*(N/Pe)+pe,ue=-X*(O/oe)+X;const W=[N,O];ie.set(W).then(()=>{t(1,k=Math.round(Math.max(k,N)))}),J.set(de([l[0]+Z,l[1]+ue],W))}Object.defineProperty(c,"zoom",{configurable:!0,get:()=>r,set:m=>Q(m?u:-u)});const _=m=>{f.inline&&!r||(m.preventDefault(),Q(m.deltaY/-300,m))},w=m=>{m.button!==2&&(m.preventDefault(),t(4,P=!0),F.set(m.pointerId,m),ae=m.clientX,ce=m.clientY,K=l[0],fe=l[1])},I=m=>{var N;if(F.size>1)return t(4,P=!1),((N=f.noPinch)==null?void 0:N.call(f,p.el))||V(m);if(!P)return;let D=m.clientX,L=m.clientY;se=me.push({x:D,y:L})>2,D=D-ae,L=L-ce,r||(L<-90&&t(4,P=!f.noClose&&a.close()),Math.abs(L)<30&&(D>40&&t(4,P=v()),D<-40&&t(4,P=E()))),r&&se&&!n&&J.set(de([K+D,fe+L]),{duration:0})},V=m=>{const[D,L]=F.set(m.pointerId,m).values(),N=D.clientX-L.clientX,O=D.clientY-L.clientY,Z=Math.hypot(N,O);G=G||{clientX:(D.clientX+L.clientX)/2,clientY:(D.clientY+L.clientY)/2},Q(((ee||Z)-Z)/-35,G),ee=Z},te=m=>F.delete(m.pointerId);function q(m){var D;if(te(m),G&&(t(4,P=ee=0),G=F.size?G:null),!!P){if(t(4,P=!1),m.target===this&&!f.noClose)return a.close();if(se){const[L,N,O]=me.slice(-3),Z=N.x-O.x,ue=N.y-O.y;Math.hypot(Z,ue)>5&&J.set(de([l[0]-(L.x-O.x)*5,l[1]-(L.y-O.y)*5]))}else(D=f.onImageClick)!=null&&D.call(f,p.el,c)||Q(r?-u:u,m);se=!1,me.length=0}}const U=m=>{le=m,a.setResizeFunc(()=>{t(23,d=a.calculateDimensions(c)),(f.inline||!o)&&(ie.set(d),J.set([0,0]))}),a.loadImage(c).then(()=>{t(2,R=!0),a.preloadNext()}),setTimeout(()=>{t(3,C=!R)},250)},re=m=>{var D;return(D=f.onError)==null?void 0:D.call(f,p,c,m)};return s.$$set=m=>{"props"in m&&t(21,a=m.props),"smallScreen"in m&&t(22,o=m.smallScreen)},s.$$.update=()=>{if(s.$$.dirty[0]&8388609&&S.set(i[0]-10>d[0]),s.$$.dirty[0]&58720256&&n&&r&&!f.intro){const m=je(480);J.set([0,0],m),ie.set(d,m),t(5,Ie=!0)}},[i,k,R,C,P,Ie,l,c,f,S,p,u,ne,ie,J,_,w,I,te,q,U,a,o,d,r,n,re]}class Yt extends Oe{constructor(e){super(),$e(this,e,Lt,Ht,He,{props:21,smallScreen:22},null,[-1,-1])}}function Xt(s){let e,t,r,l,n,i,a;return l=new xe({props:{thumb:s[2].thumb,loaded:s[0]}}),{c(){e=y("div"),t=y("iframe"),r=$(),ve(l.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0,style:!0});var c=T(e);t=A(c,"IFRAME",{allow:!0,title:!0}),T(t).forEach(g),r=H(c),we(l.$$.fragment,c),c.forEach(g),this.h()},h(){h(t,"allow","autoplay; fullscreen"),h(t,"title",s[2].title),h(e,"class","bp-if"),B(e,"width",s[1][0]+"px"),B(e,"height",s[1][1]+"px")},m(o,c){M(o,e,c),b(e,t),b(e,r),ye(l,e,null),n=!0,i||(a=[We(s[3].call(null,t)),j(t,"load",s[5])],i=!0)},p(o,[c]){const f={};c&1&&(f.loaded=o[0]),l.$set(f),(!n||c&2)&&B(e,"width",o[1][0]+"px"),(!n||c&2)&&B(e,"height",o[1][1]+"px")},i(o){n||(z(l.$$.fragment,o),n=!0)},o(o){Y(l.$$.fragment,o),n=!1},d(o){o&&g(e),ke(l),i=!1,Le(a)}}}function Ut(s,e,t){let{props:r}=e,l,n;const{activeItem:i}=r,a=()=>t(1,n=r.calculateDimensions(i));a(),r.setResizeFunc(a);const o=f=>f.src=i.iframe,c=()=>t(0,l=!0);return s.$$set=f=>{"props"in f&&t(4,r=f.props)},[l,n,i,o,r,c]}class qt extends Oe{constructor(e){super(),$e(this,e,Ut,Xt,He,{props:4})}}function Bt(s){let e,t,r,l,n;return t=new xe({props:{thumb:s[2].thumb,loaded:s[0]}}),{c(){e=y("div"),ve(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0,style:!0});var a=T(e);we(t.$$.fragment,a),a.forEach(g),this.h()},h(){h(e,"class","bp-vid"),B(e,"width",s[1][0]+"px"),B(e,"height",s[1][1]+"px"),B(e,"background-image","url("+s[2].thumb+")")},m(i,a){M(i,e,a),ye(t,e,null),r=!0,l||(n=We(s[3].call(null,e)),l=!0)},p(i,[a]){const o={};a&1&&(o.loaded=i[0]),t.$set(o),(!r||a&2)&&B(e,"width",i[1][0]+"px"),(!r||a&2)&&B(e,"height",i[1][1]+"px")},i(i){r||(z(t.$$.fragment,i),r=!0)},o(i){Y(t.$$.fragment,i),r=!1},d(i){i&&g(e),ke(t),l=!1,n()}}}function Ft(s,e,t){let{props:r}=e,l,n;const{activeItem:i,opts:a,container:o}=r,c=()=>t(1,n=r.calculateDimensions(i));c(),r.setResizeFunc(c);const f=(E,S)=>{for(const p in S)h(E,p,S[p])},v=E=>{let S;const p=(u,d)=>{var k;Array.isArray(d)||(d=JSON.parse(d));for(const R of d){S||(S=y((k=R.type)!=null&&k.includes("audio")?"audio":"video"),f(S,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}));const C=y(u);f(C,R),u=="source"&&j(C,"error",G=>{var le;return(le=a.onError)==null?void 0:le.call(a,o,i,G)}),st(S,C)}};p("source",i.sources),p("track",i.tracks||[]),j(S,"canplay",()=>t(0,l=!0)),st(E,S)};return s.$$set=E=>{"props"in E&&t(4,r=E.props)},[l,n,i,v,r]}class Wt extends Oe{constructor(e){super(),$e(this,e,Ft,Bt,He,{props:4})}}function dt(s){let e,t,r,l,n=s[6].i,i,a,o,c,f,v,E,S,p=gt(s),u=s[0].length>1&&_t(s);return{c(){e=y("div"),t=y("div"),l=$(),p.c(),i=$(),a=y("div"),o=y("button"),c=$(),u&&u.c(),this.h()},l(d){e=A(d,"DIV",{class:!0});var k=T(e);t=A(k,"DIV",{}),T(t).forEach(g),l=H(k),p.l(k),i=H(k),a=A(k,"DIV",{class:!0});var R=T(a);o=A(R,"BUTTON",{class:!0,title:!0,"aria-label":!0}),T(o).forEach(g),c=H(R),u&&u.l(R),R.forEach(g),k.forEach(g),this.h()},h(){h(o,"class","bp-x"),h(o,"title","Close"),h(o,"aria-label","Close"),h(a,"class","bp-controls"),h(e,"class","bp-wrap"),x(e,"bp-zoomed",s[10]),x(e,"bp-inline",s[8]),x(e,"bp-small",s[7]),x(e,"bp-noclose",s[5].noClose)},m(d,k){M(d,e,k),b(e,t),b(e,l),p.m(e,null),b(e,i),b(e,a),b(a,o),b(a,c),u&&u.m(a,null),v=!0,E||(S=[j(o,"click",s[1]),We(s[14].call(null,e))],E=!0)},p(d,k){k[0]&64&&kt(n,n=d[6].i)?(Se(),Y(p,1,1,Ne),Te(),p=gt(d),p.c(),z(p,1),p.m(e,i)):p.p(d,k),d[0].length>1?u?u.p(d,k):(u=_t(d),u.c(),u.m(a,null)):u&&(u.d(1),u=null),(!v||k[0]&1024)&&x(e,"bp-zoomed",d[10]),(!v||k[0]&256)&&x(e,"bp-inline",d[8]),(!v||k[0]&128)&&x(e,"bp-small",d[7]),(!v||k[0]&32)&&x(e,"bp-noclose",d[5].noClose)},i(d){v||(r&&r.end(1),z(p),f&&f.end(1),v=!0)},o(d){d&&(r=Re(t,De,{duration:480})),Y(p),d&&(f=Re(a,De,{})),v=!1},d(d){d&&g(e),d&&r&&r.end(),p.d(d),u&&u.d(),d&&f&&f.end(),E=!1,Le(S)}}}function jt(s){let e,t,r=s[6].html+"";return{c(){e=y("div"),t=new Ke(!1),this.h()},l(l){e=A(l,"DIV",{class:!0});var n=T(e);t=Ze(n,!1),n.forEach(g),this.h()},h(){t.a=null,h(e,"class","bp-html")},m(l,n){M(l,e,n),t.m(r,e)},p(l,n){n[0]&64&&r!==(r=l[6].html+"")&&t.p(r)},i:Ne,o:Ne,d(l){l&&g(e)}}}function Gt(s){let e,t;return e=new qt({props:{props:s[13]()}}),{c(){ve(e.$$.fragment)},l(r){we(e.$$.fragment,r)},m(r,l){ye(e,r,l),t=!0},p:Ne,i(r){t||(z(e.$$.fragment,r),t=!0)},o(r){Y(e.$$.fragment,r),t=!1},d(r){ke(e,r)}}}function Kt(s){let e,t;return e=new Wt({props:{props:s[13]()}}),{c(){ve(e.$$.fragment)},l(r){we(e.$$.fragment,r)},m(r,l){ye(e,r,l),t=!0},p:Ne,i(r){t||(z(e.$$.fragment,r),t=!0)},o(r){Y(e.$$.fragment,r),t=!1},d(r){ke(e,r)}}}function Zt(s){let e,t;return e=new Yt({props:{props:s[13](),smallScreen:s[7]}}),{c(){ve(e.$$.fragment)},l(r){we(e.$$.fragment,r)},m(r,l){ye(e,r,l),t=!0},p(r,l){const n={};l[0]&128&&(n.smallScreen=r[7]),e.$set(n)},i(r){t||(z(e.$$.fragment,r),t=!0)},o(r){Y(e.$$.fragment,r),t=!1},d(r){ke(e,r)}}}function pt(s){let e,t,r=s[6].caption+"",l,n;return{c(){e=y("div"),t=new Ke(!1),this.h()},l(i){e=A(i,"DIV",{class:!0});var a=T(e);t=Ze(a,!1),a.forEach(g),this.h()},h(){t.a=null,h(e,"class","bp-cap")},m(i,a){M(i,e,a),t.m(r,e),n=!0},p(i,a){(!n||a[0]&64)&&r!==(r=i[6].caption+"")&&t.p(r)},i(i){n||(l&&l.end(1),n=!0)},o(i){l=Re(e,De,{duration:200}),n=!1},d(i){i&&g(e),i&&l&&l.end()}}}function gt(s){let e,t,r,l,n,i,a,o,c,f;const v=[Zt,Kt,Gt,jt],E=[];function S(u,d){return u[6].img?0:u[6].sources?1:u[6].iframe?2:3}t=S(s),r=E[t]=v[t](s);let p=s[6].caption&&pt(s);return{c(){e=y("div"),r.c(),i=$(),p&&p.c(),a=he(),this.h()},l(u){e=A(u,"DIV",{class:!0});var d=T(e);r.l(d),d.forEach(g),i=H(u),p&&p.l(u),a=he(),this.h()},h(){h(e,"class","bp-inner")},m(u,d){M(u,e,d),E[t].m(e,null),M(u,i,d),p&&p.m(u,d),M(u,a,d),o=!0,c||(f=[j(e,"pointerdown",s[21]),j(e,"pointerup",s[22])],c=!0)},p(u,d){let k=t;t=S(u),t===k?E[t].p(u,d):(Se(),Y(E[k],1,1,()=>{E[k]=null}),Te(),r=E[t],r?r.p(u,d):(r=E[t]=v[t](u),r.c()),z(r,1),r.m(e,null)),u[6].caption?p?(p.p(u,d),d[0]&64&&z(p,1)):(p=pt(u),p.c(),z(p,1),p.m(a.parentNode,a)):p&&(Se(),Y(p,1,1,()=>{p=null}),Te())},i(u){o||(z(r),yt(()=>{o&&(n&&n.end(1),l=Dt(e,s[12],!0),l.start())}),z(p),o=!0)},o(u){Y(r),l&&l.invalidate(),n=Re(e,s[12],!1),Y(p),o=!1},d(u){u&&(g(e),g(i),g(a)),E[t].d(),u&&n&&n.end(),p&&p.d(u),c=!1,Le(f)}}}function _t(s){let e,t,r=`${s[4]+1} / ${s[0].length}`,l,n,i,a,o,c;return{c(){e=y("div"),t=new Ke(!1),l=$(),n=y("button"),i=$(),a=y("button"),this.h()},l(f){e=A(f,"DIV",{class:!0});var v=T(e);t=Ze(v,!1),v.forEach(g),l=H(f),n=A(f,"BUTTON",{class:!0,title:!0,"aria-label":!0}),T(n).forEach(g),i=H(f),a=A(f,"BUTTON",{class:!0,title:!0,"aria-label":!0}),T(a).forEach(g),this.h()},h(){t.a=null,h(e,"class","bp-count"),h(n,"class","bp-prev"),h(n,"title","Previous"),h(n,"aria-label","Previous"),h(a,"class","bp-next"),h(a,"title","Next"),h(a,"aria-label","Next")},m(f,v){M(f,e,v),t.m(r,e),M(f,l,v),M(f,n,v),M(f,i,v),M(f,a,v),o||(c=[j(n,"click",s[2]),j(a,"click",s[3])],o=!0)},p(f,v){v[0]&17&&r!==(r=`${f[4]+1} / ${f[0].length}`)&&t.p(r)},d(f){f&&(g(e),g(l),g(n),g(i),g(a)),o=!1,Le(c)}}}function Jt(s){let e,t,r=s[0]&&dt(s);return{c(){r&&r.c(),e=he()},l(l){r&&r.l(l),e=he()},m(l,n){r&&r.m(l,n),M(l,e,n),t=!0},p(l,n){l[0]?r?(r.p(l,n),n[0]&1&&z(r,1)):(r=dt(l),r.c(),z(r,1),r.m(e.parentNode,e)):r&&(Se(),Y(r,1,1,()=>{r=null}),Te())},i(l){t||(z(r),t=!0)},o(l){Y(r),t=!1},d(l){l&&g(e),r&&r.d(l)}}}function Qt(s,e,t){let r,{items:l=void 0}=e,{target:n=void 0}=e;const i=document.documentElement;let a,o,c,f,v,E,S,p,u,d,k;const R=_=>k=_,C={},G=Je(0);Me(s,G,_=>t(10,r=_));const le=_=>{t(5,o=_),t(8,E=o.inline);const w=o.items;!E&&i.scrollHeight>i.clientHeight&&i.classList.add("bp-lock"),f=document.activeElement,t(20,C.w=n.offsetWidth,C),t(20,C.h=n===document.body?window.innerHeight:n.clientHeight,C),t(7,v=C.w<769),t(4,a=o.position||0),Array.isArray(w)?t(0,l=w.map((I,V)=>(o.el&&o.el===I.element&&t(4,a=V),{i:V,...I}))):t(0,l=(w.length?[...w]:[w]).map((I,V)=>(o.el===I&&t(4,a=V),{element:I,i:V,...I.dataset})))},ee=()=>{var _;(_=o.onClose)==null||_.call(o,C.el,u),Fe.set(!0),t(0,l=null),f==null||f.focus({preventScroll:!0})},P=()=>ae(a-1),se=()=>ae(a+1),ae=_=>{S=_-a,t(4,a=ce(_))},ce=_=>(_+l.length)%l.length,K=_=>{const{key:w,shiftKey:I}=_;if(w==="Escape")!o.noClose&&ee();else if(w==="ArrowRight")se();else if(w==="ArrowLeft")P();else if(w==="Tab"){const{activeElement:V}=document;if(I||!V.controls){_.preventDefault();const{focusWrap:te=C.el}=o,q=[...te.querySelectorAll("*")].filter(re=>re.tabIndex>=0);let U=q.indexOf(V);U+=q.length+(I?-1:1),q[U%q.length].focus()}}},fe=({width:_=1920,height:w=1080})=>{const{scale:I=.99}=o,V=Math.min(1,C.w/_*I,C.h/w*I);return[Math.round(_*V),Math.round(w*V)]},Ie=()=>{if(l){const _=l[ce(a+1)],w=l[ce(a-1)];!_.preload&&ne(_),!w.preload&&ne(w)}},ne=_=>{if(_.img){const w=y("img");return w.sizes=o.sizes||`${fe(_)[0]}px`,w.srcset=_.img,_.preload=!0,w.decode().catch(I=>{})}},me=(_,w)=>!c||!l?(t(18,c=w),o.intro?De(_,{y:w?10:-10}):F(_)):De(_,{x:(S>0?20:-20)*(w?1:-1),duration:250}),F=_=>{let w;if(d){const re=_.firstChild.firstChild;w=[re.clientWidth,re.clientHeight]}else w=fe(u);const I=(u.element||f).getBoundingClientRect(),V=I.left-(C.w-I.width)/2,te=I.top-(C.h-I.height)/2,q=I.width/w[0],U=I.height/w[1];return{duration:480,easing:Qe,css:(re,m)=>`transform:translate3d(${V*m}px, ${te*m}px, 0) scale3d(${q+re*(1-q)}, ${U+re*(1-U)}, 1)`}},ie=()=>({activeItem:u,calculateDimensions:fe,loadImage:ne,preloadNext:Ie,opts:o,prev:P,next:se,close:ee,setResizeFunc:R,zoomed:G,container:C}),J=_=>{var te;t(20,C.el=_,C);let w,I;(te=o.onOpen)==null||te.call(o,C.el,u),E||(w=j(window,"keydown",K));const V=new ResizeObserver(q=>{var U;I&&(t(20,C.w=q[0].contentRect.width,C),t(20,C.h=q[0].contentRect.height,C),t(7,v=C.w<769),k==null||k(),(U=o.onResize)==null||U.call(o,C.el,u)),I=!0});return V.observe(_),{destroy(){var q;V.disconnect(),w==null||w(),Fe.set(!1),i.classList.remove("bp-lock"),(q=o.onClosed)==null||q.call(o)}}},de=_=>t(9,p=_.target),Q=function(_){_.button!==2&&_.target===this&&p===this&&!o.noClose&&ee()};return s.$$set=_=>{"items"in _&&t(0,l=_.items),"target"in _&&t(15,n=_.target)},s.$$.update=()=>{var _;s.$$.dirty[0]&1835121&&l&&(t(6,u=l[a]),t(19,d=u.hasOwnProperty("html")),c&&(d&&R(null),(_=o.onUpdate)==null||_.call(o,C.el,u)))},[l,ee,P,se,a,o,u,v,E,p,r,G,me,ie,J,n,le,ae,c,d,C,de,Q]}class xt extends Oe{constructor(e){super(),$e(this,e,Qt,Jt,kt,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}set items(e){this.$$set({items:e}),nt()}get target(){return this.$$.ctx[15]}set target(e){this.$$set({target:e}),nt()}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}function er(s){return new xt({...s,props:s})}function bt(s,e,t){const r=s.slice();return r[6]=e[t],r}function tr(s){let e,t,r,l,n,i;return{c(){e=y("a"),t=y("img"),l=$(),this.h()},l(a){e=A(a,"A",{class:!0,href:!0,"data-img":!0,"data-thumb":!0,"data-height":!0,"data-width":!0,"data-alt":!0,"data-caption":!0});var o=T(e);t=A(o,"IMG",{src:!0,width:!0,alt:!0}),l=H(o),o.forEach(g),this.h()},h(){At(t.src,r=qe(s[6].repImage,"thumb"))||h(t,"src",r),h(t,"width","300"),h(t,"alt",s[6].title),h(e,"class",St(`tile ${s[6].pixel?"":" image-tile"}`)+" svelte-ics9c0"),h(e,"href",qe(s[6].repImage)),h(e,"data-img",qe(s[6].repImage)),h(e,"data-thumb",qe(s[6].repImage,"thumb")),h(e,"data-height",s[6].repImageHeight),h(e,"data-width",s[6].repImageWidth),h(e,"data-alt",s[6].title),h(e,"data-caption",s[6].title+".  View at <a href='https://collections.newberry.org/asset-management/"+s[6].mei+"' target='_blank' class='llines'>Newberry Digital Collections</a>")},m(a,o){M(a,e,o),b(e,t),b(e,l),n||(i=j(e,"click",s[2]),n=!0)},p:Ne,d(a){a&&g(e),n=!1,i()}}}function rr(s){let e,t,r,l,n,i=s[6].title+"",a,o;return{c(){e=y("a"),t=y("img"),l=$(),n=y("h3"),a=_e(i),o=$(),this.h()},l(c){e=A(c,"A",{href:!0,target:!0,class:!0});var f=T(e);t=A(f,"IMG",{src:!0,alt:!0,height:!0,width:!0}),l=H(f),n=A(f,"H3",{class:!0});var v=T(n);a=be(v,i),v.forEach(g),o=H(f),f.forEach(g),this.h()},h(){At(t.src,r=s[6].pixel)||h(t,"src",r),h(t,"alt","a transparent pixel used to constrain the tile shape"),h(t,"height","400"),h(t,"width","300"),h(n,"class","noimg"),h(e,"href",s[6].link),h(e,"target","_blank"),h(e,"class","svelte-ics9c0")},m(c,f){M(c,e,f),b(e,t),b(e,l),b(e,n),b(n,a),b(e,o)},p:Ne,d(c){c&&g(e)}}}function vt(s){let e;function t(n,i){return n[6].pixel?rr:tr}let l=t(s)(s);return{c(){l.c(),e=he()},l(n){l.l(n),e=he()},m(n,i){l.m(n,i),M(n,e,i)},p(n,i){l.p(n,i)},d(n){n&&g(e),l.d(n)}}}function lr(s){let e,t=ot(s[1]),r=[];for(let l=0;l<t.length;l+=1)r[l]=vt(bt(s,t,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=he()},l(l){for(let n=0;n<r.length;n+=1)r[n].l(l);e=he()},m(l,n){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(l,n);M(l,e,n)},p(l,n){if(n&6){t=ot(l[1]);let i;for(i=0;i<t.length;i+=1){const a=bt(l,t,i);r[i]?r[i].p(a,n):(r[i]=vt(a),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(l){l&&g(e),Nt(r,l)}}}function sr(s){let e,t,r,l,n,i=`<a href="${Be}/"><img class="biggo" src="${Be}/NewberryLogo.png" alt="Logo for the Newberry Library" height="60" width="300"/> <img class="smallo" src="${Be}/NLogo.png" alt="Logo for the Newberry Library" height="60" width="60"/></a>`,a,o,c,f,v="Free to Use and Reuse:",E,S,p=s[0].galleryData.context+"",u,d,k,R,C,G=" ",le,ee,P,se="Postcard Gallery",ae,ce,K,fe,Ie=" ",ne,me,F,ie="Open Access Policy",J,de,Q,_,w,I,V,te="Newberry Library >",q,U,re="Digital Collections >",m,D,L="Postcard Galleries >",N,O,Z=s[0].galleryData.context+"",ue,Pe,oe,pe;return t=new Vt({props:{title:s[0].galleryData.context}}),Q=new zt({}),oe=new Mt({props:{$$slots:{default:[lr]},$$scope:{ctx:s}}}),{c(){e=y("main"),ve(t.$$.fragment),r=$(),l=y("div"),n=y("div"),n.innerHTML=i,a=$(),o=y("header"),c=y("section"),f=y("h3"),f.textContent=v,E=$(),S=y("h1"),u=_e(p),d=$(),k=y("aside"),R=y("p"),C=_e(`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),le=_e(G),ee=$(),P=y("a"),P.textContent=se,ae=_e("."),ce=$(),K=y("p"),fe=_e(`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),ne=_e(Ie),me=$(),F=y("a"),F.textContent=ie,J=_e(`
                    .`),de=$(),ve(Q.$$.fragment),_=$(),w=y("div"),I=y("header"),V=y("a"),V.textContent=te,q=$(),U=y("a"),U.textContent=re,m=$(),D=y("a"),D.textContent=L,N=$(),O=y("span"),ue=_e(Z),Pe=$(),ve(oe.$$.fragment),this.h()},l(X){e=A(X,"MAIN",{});var W=T(e);we(t.$$.fragment,W),r=H(W),l=A(W,"DIV",{class:!0});var ge=T(l);n=A(ge,"DIV",{class:!0,"data-svelte-h":!0}),Ce(n)!=="svelte-1ckqrq8"&&(n.innerHTML=i),a=H(ge),o=A(ge,"HEADER",{class:!0});var Ee=T(o);c=A(Ee,"SECTION",{});var Ye=T(c);f=A(Ye,"H3",{"data-svelte-h":!0}),Ce(f)!=="svelte-i0mqc1"&&(f.textContent=v),E=H(Ye),S=A(Ye,"H1",{});var et=T(S);u=be(et,p),et.forEach(g),Ye.forEach(g),d=H(Ee),k=A(Ee,"ASIDE",{class:!0});var Xe=T(k);R=A(Xe,"P",{class:!0});var Ve=T(R);C=be(Ve,`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),le=be(Ve,G),ee=H(Ve),P=A(Ve,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Ce(P)!=="svelte-1rj1iwf"&&(P.textContent=se),ae=be(Ve,"."),Ve.forEach(g),ce=H(Xe),K=A(Xe,"P",{class:!0});var ze=T(K);fe=be(ze,`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),ne=be(ze,Ie),me=H(ze),F=A(ze,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Ce(F)!=="svelte-u8amqq"&&(F.textContent=ie),J=be(ze,`
                    .`),ze.forEach(g),Xe.forEach(g),Ee.forEach(g),de=H(ge),we(Q.$$.fragment,ge),ge.forEach(g),_=H(W),w=A(W,"DIV",{class:!0});var Ue=T(w);I=A(Ue,"HEADER",{class:!0});var Ae=T(I);V=A(Ae,"A",{href:!0,class:!0,target:!0,"data-svelte-h":!0}),Ce(V)!=="svelte-1d3bgp0"&&(V.textContent=te),q=H(Ae),U=A(Ae,"A",{href:!0,class:!0,target:!0,"data-svelte-h":!0}),Ce(U)!=="svelte-h7eyru"&&(U.textContent=re),m=H(Ae),D=A(Ae,"A",{href:!0,class:!0,target:!0,"data-svelte-h":!0}),Ce(D)!=="svelte-1ogl7xc"&&(D.textContent=L),N=H(Ae),O=A(Ae,"SPAN",{class:!0,id:!0});var tt=T(O);ue=be(tt,Z),tt.forEach(g),Ae.forEach(g),Pe=H(Ue),we(oe.$$.fragment,Ue),Ue.forEach(g),W.forEach(g),this.h()},h(){h(n,"class","logo"),h(P,"href","https://collections.newberry.org/CS.aspx?VP3=DamView&VBID=2KXJA4UE6RXM&PN=1"),h(P,"target","_blank"),h(P,"class","llines svelte-ics9c0"),h(R,"class","text-lg"),h(F,"href","https://www.newberry.org/policies#open-access"),h(F,"target","_blank"),h(F,"class","llines svelte-ics9c0"),h(K,"class","text-base"),h(k,"class","text-content"),h(o,"class","title svelte-ics9c0"),h(l,"class","left"),h(V,"href","https://www.newberry.org"),h(V,"class","llines svelte-ics9c0"),h(V,"target","_blank"),h(U,"href","https://collections.newberry.org"),h(U,"class","llines svelte-ics9c0"),h(U,"target","_blank"),h(D,"href",Be),h(D,"class","llines svelte-ics9c0"),h(D,"target","_blank"),h(O,"class","llines svelte-ics9c0"),h(O,"id","no-link"),h(I,"class","svelte-ics9c0"),h(w,"class","right svelte-ics9c0")},m(X,W){M(X,e,W),ye(t,e,null),b(e,r),b(e,l),b(l,n),b(l,a),b(l,o),b(o,c),b(c,f),b(c,E),b(c,S),b(S,u),b(o,d),b(o,k),b(k,R),b(R,C),b(R,le),b(R,ee),b(R,P),b(R,ae),b(k,ce),b(k,K),b(K,fe),b(K,ne),b(K,me),b(K,F),b(K,J),b(l,de),ye(Q,l,null),b(e,_),b(e,w),b(w,I),b(I,V),b(I,q),b(I,U),b(I,m),b(I,D),b(I,N),b(I,O),b(O,ue),b(w,Pe),ye(oe,w,null),pe=!0},p(X,[W]){const ge={};W&1&&(ge.title=X[0].galleryData.context),t.$set(ge),(!pe||W&1)&&p!==(p=X[0].galleryData.context+"")&&it(u,p),(!pe||W&1)&&Z!==(Z=X[0].galleryData.context+"")&&it(ue,Z);const Ee={};W&512&&(Ee.$$scope={dirty:W,ctx:X}),oe.$set(Ee)},i(X){pe||(z(t.$$.fragment,X),z(Q.$$.fragment,X),z(oe.$$.fragment,X),pe=!0)},o(X){Y(t.$$.fragment,X),Y(Q.$$.fragment,X),Y(oe.$$.fragment,X),pe=!1},d(X){X&&g(e),ke(t),ke(Q),ke(oe)}}}function nr(s,e,t){let{data:r}=e,l,n;const i={title:`View even more ${r.galleryData.context} at Newberry Digital Collections`,link:"https://collections.newberry.org/asset-management?WS=SearchResults#/DamView&VBID=2KXJA46IUGL5&PN=1&WS=SearchResults",pixel:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",galRepreImageWidth:300,galRepreImageHeight:400},a=[...r.galleryData.postcards.sort(()=>Math.random()-.5),i];Ct(()=>{l=er({target:document.body}),n=document.querySelectorAll("#images > .image-tile")});function o(c){c.preventDefault(),c.currentTarget!==null&&l.open({intro:"fadeup",items:n,el:c.currentTarget})}return s.$$set=c=>{"data"in c&&t(0,r=c.data)},[r,a,o]}class ur extends Oe{constructor(e){super(),$e(this,e,nr,sr,He,{data:0})}}export{ur as component};

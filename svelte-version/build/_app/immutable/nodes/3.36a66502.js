import{E as je,F as Ge,G as pt,s as Se,e as ae,i as V,d as g,z as Ie,f as k,g as E,h as S,j as p,k as j,H as ut,a as Y,c as q,I as Q,x as w,J as Me,K as G,L as Ne,M as gt,N as Ke,O as ht,P as Ze,y as ye,Q as Le,R as Ye,l as be,A as _t,B as ze,m as we,n as bt,o as wt,C as vt,D as mt,S as yt}from"../chunks/scheduler.5a9f8fe9.js";import{n as kt,l as At,S as Ee,i as Ce,a as P,g as ke,t as $,c as Ae,f as dt,h as De,b as ue,d as he,m as me,e as de}from"../chunks/index.5ac71af3.js";import{S as It,F as Dt,M as Et,e as Je,i as Pe}from"../chunks/index.1acb1a88.js";import{w as qe}from"../chunks/index.cd513c88.js";import{b as Oe}from"../chunks/paths.6aa5f08d.js";const Ct=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Fe(l){const e=l-1;return e*e*e+1}function ve(l,{delay:e=0,duration:t=400,easing:r=Fe,x:n=0,y:s=0,opacity:i=0}={}){const o=getComputedStyle(l),a=+o.opacity,f=o.transform==="none"?"":o.transform,c=a*(1-i),[_,D]=je(n),[N,d]=je(s);return{delay:e,duration:t,easing:r,css:(u,m)=>`
			transform: ${f} translate(${(1-u)*_}${D}, ${(1-u)*N}${d});
			opacity: ${a-c*m}`}}function Qe(l){return Object.prototype.toString.call(l)==="[object Date]"}function He(l,e){if(l===e||l!==l)return()=>l;const t=typeof l;if(t!==typeof e||Array.isArray(l)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(l)){const r=e.map((n,s)=>He(l[s],n));return n=>r.map(s=>s(n))}if(t==="object"){if(!l||!e)throw new Error("Object cannot be null");if(Qe(l)&&Qe(e)){l=l.getTime(),e=e.getTime();const s=e-l;return i=>new Date(l+i*s)}const r=Object.keys(e),n={};return r.forEach(s=>{n[s]=He(l[s],e[s])}),s=>{const i={};return r.forEach(o=>{i[o]=n[o](s)}),i}}if(t==="number"){const r=e-l;return n=>l+n*r}throw new Error(`Cannot interpolate ${t} values`)}function xe(l,e={}){const t=qe(l);let r,n=l;function s(i,o){if(l==null)return t.set(l=i),Promise.resolve();n=i;let a=r,f=!1,{delay:c=0,duration:_=400,easing:D=pt,interpolate:N=He}=Ge(Ge({},e),o);if(_===0)return a&&(a.abort(),a=null),t.set(l=n),Promise.resolve();const d=kt()+c;let u;return r=At(m=>{if(m<d)return!0;f||(u=N(l,i),typeof _=="function"&&(_=_(l,i)),f=!0),a&&(a.abort(),a=null);const y=m-d;return y>_?(t.set(l=i),!1):(t.set(l=u(D(y/_))),!0)}),r.promise}return{set:s,update:(i,o)=>s(i(n,l),o),subscribe:t.subscribe}}const Ve=qe(0);var ft;const Tt=(ft=globalThis.matchMedia)==null?void 0:ft.call(globalThis,"(prefers-reduced-motion: reduce)").matches,Re=l=>({easing:Fe,duration:Tt?0:l});function et(l){let e,t,r,n,s=!l[2]&&tt();return{c(){e=k("div"),s&&s.c(),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var o=S(e);s&&s.l(o),o.forEach(g),this.h()},h(){p(e,"class","bp-load"),j(e,"background-image","url("+l[0]+")")},m(i,o){V(i,e,o),s&&s.m(e,null),n=!0},p(i,o){l=i,l[2]?s&&(s.d(1),s=null):s||(s=tt(),s.c(),s.m(e,null)),(!n||o&1)&&j(e,"background-image","url("+l[0]+")")},i(i){n||(i&&ut(()=>{n&&(r&&r.end(1),t=dt(e,ve,{duration:l[1]?400:0}),t.start())}),n=!0)},o(i){t&&t.invalidate(),i&&(r=De(e,ve,{duration:480})),n=!1},d(i){i&&g(e),s&&s.d(),i&&r&&r.end()}}}function tt(l){let e,t,r;return{c(){e=k("span"),t=Y(),r=k("span"),this.h()},l(n){e=E(n,"SPAN",{class:!0}),S(e).forEach(g),t=q(n),r=E(n,"SPAN",{class:!0}),S(r).forEach(g),this.h()},h(){p(e,"class","bp-bar"),p(r,"class","bp-o")},m(n,s){V(n,e,s),V(n,t,s),V(n,r,s)},d(n){n&&(g(e),g(t),g(r))}}}function St(l){let e,t=(!l[1]||l[2])&&et(l);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,n){t&&t.m(r,n),V(r,e,n)},p(r,[n]){!r[1]||r[2]?t?(t.p(r,n),n&6&&P(t,1)):(t=et(r),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(ke(),$(t,1,1,()=>{t=null}),Ae())},i(r){P(t)},o(r){$(t)},d(r){r&&g(e),t&&t.d(r)}}}function Nt(l,e,t){let r;Ie(l,Ve,i=>t(2,r=i));let{thumb:n}=e,{loaded:s}=e;return l.$$set=i=>{"thumb"in i&&t(0,n=i.thumb),"loaded"in i&&t(1,s=i.loaded)},[n,s,r]}class Ue extends Ee{constructor(e){super(),Ce(this,e,Nt,St,Se,{thumb:0,loaded:1})}}function rt(l){let e,t,r,n,s,i,o;return{c(){e=k("img"),this.h()},l(a){e=E(a,"IMG",{srcset:!0,sizes:!0,alt:!0}),this.h()},h(){gt(e,t=l[7].img)||p(e,"srcset",t),p(e,"sizes",r=l[8].sizes||`${l[1]}px`),p(e,"alt",l[7].alt)},m(a,f){V(a,e,f),s=!0,i||(o=G(e,"error",l[26]),i=!0)},p(a,f){(!s||f[0]&2&&r!==(r=a[8].sizes||`${a[1]}px`))&&p(e,"sizes",r)},i(a){s||(n&&n.end(1),s=!0)},o(a){n=De(e,ve,{}),s=!1},d(a){a&&g(e),a&&n&&n.end(),i=!1,o()}}}function nt(l){let e,t;return e=new Ue({props:{thumb:l[7].thumb,loaded:l[2]}}),{c(){ue(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,n){me(e,r,n),t=!0},p(r,n){const s={};n[0]&4&&(s.loaded=r[2]),e.$set(s)},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function zt(l){let e,t,r,n,s,i,o=l[2]&&rt(l),a=l[3]&&nt(l);return{c(){e=k("div"),t=k("div"),o&&o.c(),r=Y(),a&&a.c(),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=S(e);t=E(c,"DIV",{class:!0,style:!0});var _=S(t);o&&o.l(_),r=q(_),a&&a.l(_),_.forEach(g),c.forEach(g),this.h()},h(){p(t,"class","bp-img"),j(t,"background-image","url("+l[7].thumb+")"),j(t,"width",l[0][0]+"px"),j(t,"height",l[0][1]+"px"),j(t,"transform","translate3d("+(l[0][0]/-2+l[6][0])+"px, "+(l[0][1]/-2+l[6][1])+"px, 0)"),Q(t,"bp-drag",l[4]),Q(t,"bp-canzoom",l[11]>1&&l[0][0]<l[12]),p(e,"class","bp-img-wrap"),Q(e,"bp-close",l[5])},m(f,c){V(f,e,c),w(e,t),o&&o.m(t,null),w(t,r),a&&a.m(t,null),n=!0,s||(i=[Me(l[20].call(null,t)),G(e,"wheel",l[15]),G(e,"pointerdown",l[16]),G(e,"pointermove",l[17]),G(e,"pointerup",l[19]),G(e,"pointercancel",l[18])],s=!0)},p(f,c){f[2]?o?(o.p(f,c),c[0]&4&&P(o,1)):(o=rt(f),o.c(),P(o,1),o.m(t,r)):o&&(ke(),$(o,1,1,()=>{o=null}),Ae()),f[3]?a?(a.p(f,c),c[0]&8&&P(a,1)):(a=nt(f),a.c(),P(a,1),a.m(t,null)):a&&(ke(),$(a,1,1,()=>{a=null}),Ae()),(!n||c[0]&1)&&j(t,"width",f[0][0]+"px"),(!n||c[0]&1)&&j(t,"height",f[0][1]+"px"),(!n||c[0]&65)&&j(t,"transform","translate3d("+(f[0][0]/-2+f[6][0])+"px, "+(f[0][1]/-2+f[6][1])+"px, 0)"),(!n||c[0]&16)&&Q(t,"bp-drag",f[4]),(!n||c[0]&6145)&&Q(t,"bp-canzoom",f[11]>1&&f[0][0]<f[12]),(!n||c[0]&32)&&Q(e,"bp-close",f[5])},i(f){n||(P(o),P(a),n=!0)},o(f){$(o),$(a),n=!1},d(f){f&&g(e),o&&o.d(),a&&a.d(),s=!1,Ne(i)}}}function Pt(l,e,t){let r,n,s,i;Ie(l,Ve,h=>t(25,s=h));let{props:o}=e,{smallScreen:a}=e,{activeItem:f,opts:c,prev:_,next:D,zoomed:N,container:d}=o;Ie(l,N,h=>t(24,r=h));let u=f.maxZoom||c.maxZoom||10,m=o.calculateDimensions(f),y=m[0],X,A,R,re,ne=0,H,x,K,ce,pe,ie,Z;const le=+f.width,ge=[],se=new Map,ee=xe(m,Re(400));Ie(l,ee,h=>t(0,i=h));const F=xe([0,0],Re(400));Ie(l,F,h=>t(6,n=h));const _e=([h,I],O=i)=>{const C=(O[0]-d.w)/2,U=(O[1]-d.h)/2;return C<0?h=0:h>C?a?(h=H?C+(h-C)/10:C,h>C+20&&t(4,H=_())):h=C:h<-C&&(a?(h=H?-C-(-C-h)/10:-C,h<-C-20&&t(4,H=D())):h=-C),U<0?I=0:I>U?I=U:I<-U&&(I=-U),[h,I]};function oe(h=u,I){if(s)return;const O=m[0]*u;let C=i[0]+i[0]*h,U=i[1]+i[1]*h;if(h>0)C>O&&(C=O,U=m[1]*u),C>le&&(C=le,U=+f.height);else if(C<m[0])return ee.set(m),F.set([0,0]);let{x:J,y:te,width:fe,height:Te}=re.getBoundingClientRect();const We=I?I.clientX-J-fe/2:0,Xe=I?I.clientY-te-Te/2:0;J=-We*(C/fe)+We,te=-Xe*(U/Te)+Xe;const Be=[C,U];ee.set(Be).then(()=>{t(1,y=Math.round(Math.max(y,C)))}),F.set(_e([n[0]+J,n[1]+te],Be))}Object.defineProperty(f,"zoom",{configurable:!0,get:()=>r,set:h=>oe(h?u:-u)});const b=h=>{c.inline&&!r||(h.preventDefault(),oe(h.deltaY/-300,h))},v=h=>{h.button!==2&&(h.preventDefault(),t(4,H=!0),se.set(h.pointerId,h),K=h.clientX,ce=h.clientY,pe=n[0],ie=n[1])},z=h=>{var C;if(se.size>1)return t(4,H=!1),((C=c.noPinch)==null?void 0:C.call(c,d.el))||M(h);if(!H)return;let I=h.clientX,O=h.clientY;x=ge.push({x:I,y:O})>2,I=I-K,O=O-ce,r||(O<-90&&t(4,H=!c.noClose&&o.close()),Math.abs(O)<30&&(I>40&&t(4,H=_()),I<-40&&t(4,H=D()))),r&&x&&!s&&F.set(_e([pe+I,ie+O]),{duration:0})},M=h=>{const[I,O]=se.set(h.pointerId,h).values(),C=I.clientX-O.clientX,U=I.clientY-O.clientY,J=Math.hypot(C,U);R=R||{clientX:(I.clientX+O.clientX)/2,clientY:(I.clientY+O.clientY)/2},oe(((ne||J)-J)/-35,R),ne=J},B=h=>se.delete(h.pointerId);function L(h){var I;if(B(h),R&&(t(4,H=ne=0),R=se.size?R:null),!!H){if(t(4,H=!1),h.target===this&&!c.noClose)return o.close();if(x){const[O,C,U]=ge.slice(-3),J=C.x-U.x,te=C.y-U.y;Math.hypot(J,te)>5&&F.set(_e([n[0]-(O.x-U.x)*5,n[1]-(O.y-U.y)*5]))}else(I=c.onImageClick)!=null&&I.call(c,d.el,f)||oe(r?-u:u,h);x=!1,ge.length=0}}const T=h=>{re=h,o.setResizeFunc(()=>{t(23,m=o.calculateDimensions(f)),(c.inline||!a)&&(ee.set(m),F.set([0,0]))}),o.loadImage(f).then(()=>{t(2,X=!0),o.preloadNext()}),setTimeout(()=>{t(3,A=!X)},250)},W=h=>{var I;return(I=c.onError)==null?void 0:I.call(c,d,f,h)};return l.$$set=h=>{"props"in h&&t(21,o=h.props),"smallScreen"in h&&t(22,a=h.smallScreen)},l.$$.update=()=>{if(l.$$.dirty[0]&8388609&&N.set(i[0]-10>m[0]),l.$$.dirty[0]&58720256&&s&&r&&!c.intro){const h=Re(480);F.set([0,0],h),ee.set(m,h),t(5,Z=!0)}},[i,y,X,A,H,Z,n,f,c,N,d,u,le,ee,F,b,v,z,B,L,T,o,a,m,r,s,W]}class Vt extends Ee{constructor(e){super(),Ce(this,e,Pt,zt,Se,{props:21,smallScreen:22},null,[-1,-1])}}function Mt(l){let e,t,r,n,s,i,o;return n=new Ue({props:{thumb:l[2].thumb,loaded:l[0]}}),{c(){e=k("div"),t=k("iframe"),r=Y(),ue(n.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0,style:!0});var f=S(e);t=E(f,"IFRAME",{allow:!0,title:!0}),S(t).forEach(g),r=q(f),he(n.$$.fragment,f),f.forEach(g),this.h()},h(){p(t,"allow","autoplay; fullscreen"),p(t,"title",l[2].title),p(e,"class","bp-if"),j(e,"width",l[1][0]+"px"),j(e,"height",l[1][1]+"px")},m(a,f){V(a,e,f),w(e,t),w(e,r),me(n,e,null),s=!0,i||(o=[Me(l[3].call(null,t)),G(t,"load",l[5])],i=!0)},p(a,[f]){const c={};f&1&&(c.loaded=a[0]),n.$set(c),(!s||f&2)&&j(e,"width",a[1][0]+"px"),(!s||f&2)&&j(e,"height",a[1][1]+"px")},i(a){s||(P(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&g(e),de(n),i=!1,Ne(o)}}}function Ot(l,e,t){let{props:r}=e,n,s;const{activeItem:i}=r,o=()=>t(1,s=r.calculateDimensions(i));o(),r.setResizeFunc(o);const a=c=>c.src=i.iframe,f=()=>t(0,n=!0);return l.$$set=c=>{"props"in c&&t(4,r=c.props)},[n,s,i,a,r,f]}class Rt extends Ee{constructor(e){super(),Ce(this,e,Ot,Mt,Se,{props:4})}}function $t(l){let e,t,r,n,s;return t=new Ue({props:{thumb:l[2].thumb,loaded:l[0]}}),{c(){e=k("div"),ue(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var o=S(e);he(t.$$.fragment,o),o.forEach(g),this.h()},h(){p(e,"class","bp-vid"),j(e,"width",l[1][0]+"px"),j(e,"height",l[1][1]+"px"),j(e,"background-image","url("+l[2].thumb+")")},m(i,o){V(i,e,o),me(t,e,null),r=!0,n||(s=Me(l[3].call(null,e)),n=!0)},p(i,[o]){const a={};o&1&&(a.loaded=i[0]),t.$set(a),(!r||o&2)&&j(e,"width",i[1][0]+"px"),(!r||o&2)&&j(e,"height",i[1][1]+"px")},i(i){r||(P(t.$$.fragment,i),r=!0)},o(i){$(t.$$.fragment,i),r=!1},d(i){i&&g(e),de(t),n=!1,s()}}}function Ht(l,e,t){let{props:r}=e,n,s;const{activeItem:i,opts:o,container:a}=r,f=()=>t(1,s=r.calculateDimensions(i));f(),r.setResizeFunc(f);const c=(D,N)=>{for(const d in N)p(D,d,N[d])},_=D=>{let N;const d=(u,m)=>{var y;Array.isArray(m)||(m=JSON.parse(m));for(const X of m){N||(N=k((y=X.type)!=null&&y.includes("audio")?"audio":"video"),c(N,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}));const A=k(u);c(A,X),u=="source"&&G(A,"error",R=>{var re;return(re=o.onError)==null?void 0:re.call(o,a,i,R)}),Ke(N,A)}};d("source",i.sources),d("track",i.tracks||[]),G(N,"canplay",()=>t(0,n=!0)),Ke(D,N)};return l.$$set=D=>{"props"in D&&t(4,r=D.props)},[n,s,i,_,r]}class Lt extends Ee{constructor(e){super(),Ce(this,e,Ht,$t,Se,{props:4})}}function lt(l){let e,t,r,n,s=l[6].i,i,o,a,f,c,_,D,N,d=it(l),u=l[0].length>1&&ot(l);return{c(){e=k("div"),t=k("div"),n=Y(),d.c(),i=Y(),o=k("div"),a=k("button"),f=Y(),u&&u.c(),this.h()},l(m){e=E(m,"DIV",{class:!0});var y=S(e);t=E(y,"DIV",{}),S(t).forEach(g),n=q(y),d.l(y),i=q(y),o=E(y,"DIV",{class:!0});var X=S(o);a=E(X,"BUTTON",{class:!0,title:!0,"aria-label":!0}),S(a).forEach(g),f=q(X),u&&u.l(X),X.forEach(g),y.forEach(g),this.h()},h(){p(a,"class","bp-x"),p(a,"title","Close"),p(a,"aria-label","Close"),p(o,"class","bp-controls"),p(e,"class","bp-wrap"),Q(e,"bp-zoomed",l[10]),Q(e,"bp-inline",l[8]),Q(e,"bp-small",l[7]),Q(e,"bp-noclose",l[5].noClose)},m(m,y){V(m,e,y),w(e,t),w(e,n),d.m(e,null),w(e,i),w(e,o),w(o,a),w(o,f),u&&u.m(o,null),_=!0,D||(N=[G(a,"click",l[1]),Me(l[14].call(null,e))],D=!0)},p(m,y){y[0]&64&&ht(s,s=m[6].i)?(ke(),$(d,1,1,ye),Ae(),d=it(m),d.c(),P(d,1),d.m(e,i)):d.p(m,y),m[0].length>1?u?u.p(m,y):(u=ot(m),u.c(),u.m(o,null)):u&&(u.d(1),u=null),(!_||y[0]&1024)&&Q(e,"bp-zoomed",m[10]),(!_||y[0]&256)&&Q(e,"bp-inline",m[8]),(!_||y[0]&128)&&Q(e,"bp-small",m[7]),(!_||y[0]&32)&&Q(e,"bp-noclose",m[5].noClose)},i(m){_||(r&&r.end(1),P(d),c&&c.end(1),_=!0)},o(m){m&&(r=De(t,ve,{duration:480})),$(d),m&&(c=De(o,ve,{})),_=!1},d(m){m&&g(e),m&&r&&r.end(),d.d(m),u&&u.d(),m&&c&&c.end(),D=!1,Ne(N)}}}function Yt(l){let e,t,r=l[6].html+"";return{c(){e=k("div"),t=new Le(!1),this.h()},l(n){e=E(n,"DIV",{class:!0});var s=S(e);t=Ye(s,!1),s.forEach(g),this.h()},h(){t.a=null,p(e,"class","bp-html")},m(n,s){V(n,e,s),t.m(r,e)},p(n,s){s[0]&64&&r!==(r=n[6].html+"")&&t.p(r)},i:ye,o:ye,d(n){n&&g(e)}}}function qt(l){let e,t;return e=new Rt({props:{props:l[13]()}}),{c(){ue(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,n){me(e,r,n),t=!0},p:ye,i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Ft(l){let e,t;return e=new Lt({props:{props:l[13]()}}),{c(){ue(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,n){me(e,r,n),t=!0},p:ye,i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Ut(l){let e,t;return e=new Vt({props:{props:l[13](),smallScreen:l[7]}}),{c(){ue(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,n){me(e,r,n),t=!0},p(r,n){const s={};n[0]&128&&(s.smallScreen=r[7]),e.$set(s)},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function st(l){let e,t,r=l[6].caption+"",n,s;return{c(){e=k("div"),t=new Le(!1),this.h()},l(i){e=E(i,"DIV",{class:!0});var o=S(e);t=Ye(o,!1),o.forEach(g),this.h()},h(){t.a=null,p(e,"class","bp-cap")},m(i,o){V(i,e,o),t.m(r,e),s=!0},p(i,o){(!s||o[0]&64)&&r!==(r=i[6].caption+"")&&t.p(r)},i(i){s||(n&&n.end(1),s=!0)},o(i){n=De(e,ve,{duration:200}),s=!1},d(i){i&&g(e),i&&n&&n.end()}}}function it(l){let e,t,r,n,s,i,o,a,f,c;const _=[Ut,Ft,qt,Yt],D=[];function N(u,m){return u[6].img?0:u[6].sources?1:u[6].iframe?2:3}t=N(l),r=D[t]=_[t](l);let d=l[6].caption&&st(l);return{c(){e=k("div"),r.c(),i=Y(),d&&d.c(),o=ae(),this.h()},l(u){e=E(u,"DIV",{class:!0});var m=S(e);r.l(m),m.forEach(g),i=q(u),d&&d.l(u),o=ae(),this.h()},h(){p(e,"class","bp-inner")},m(u,m){V(u,e,m),D[t].m(e,null),V(u,i,m),d&&d.m(u,m),V(u,o,m),a=!0,f||(c=[G(e,"pointerdown",l[21]),G(e,"pointerup",l[22])],f=!0)},p(u,m){let y=t;t=N(u),t===y?D[t].p(u,m):(ke(),$(D[y],1,1,()=>{D[y]=null}),Ae(),r=D[t],r?r.p(u,m):(r=D[t]=_[t](u),r.c()),P(r,1),r.m(e,null)),u[6].caption?d?(d.p(u,m),m[0]&64&&P(d,1)):(d=st(u),d.c(),P(d,1),d.m(o.parentNode,o)):d&&(ke(),$(d,1,1,()=>{d=null}),Ae())},i(u){a||(P(r),ut(()=>{a&&(s&&s.end(1),n=dt(e,l[12],!0),n.start())}),P(d),a=!0)},o(u){$(r),n&&n.invalidate(),s=De(e,l[12],!1),$(d),a=!1},d(u){u&&(g(e),g(i),g(o)),D[t].d(),u&&s&&s.end(),d&&d.d(u),f=!1,Ne(c)}}}function ot(l){let e,t,r=`${l[4]+1} / ${l[0].length}`,n,s,i,o,a,f;return{c(){e=k("div"),t=new Le(!1),n=Y(),s=k("button"),i=Y(),o=k("button"),this.h()},l(c){e=E(c,"DIV",{class:!0});var _=S(e);t=Ye(_,!1),_.forEach(g),n=q(c),s=E(c,"BUTTON",{class:!0,title:!0,"aria-label":!0}),S(s).forEach(g),i=q(c),o=E(c,"BUTTON",{class:!0,title:!0,"aria-label":!0}),S(o).forEach(g),this.h()},h(){t.a=null,p(e,"class","bp-count"),p(s,"class","bp-prev"),p(s,"title","Previous"),p(s,"aria-label","Previous"),p(o,"class","bp-next"),p(o,"title","Next"),p(o,"aria-label","Next")},m(c,_){V(c,e,_),t.m(r,e),V(c,n,_),V(c,s,_),V(c,i,_),V(c,o,_),a||(f=[G(s,"click",l[2]),G(o,"click",l[3])],a=!0)},p(c,_){_[0]&17&&r!==(r=`${c[4]+1} / ${c[0].length}`)&&t.p(r)},d(c){c&&(g(e),g(n),g(s),g(i),g(o)),a=!1,Ne(f)}}}function Wt(l){let e,t,r=l[0]&&lt(l);return{c(){r&&r.c(),e=ae()},l(n){r&&r.l(n),e=ae()},m(n,s){r&&r.m(n,s),V(n,e,s),t=!0},p(n,s){n[0]?r?(r.p(n,s),s[0]&1&&P(r,1)):(r=lt(n),r.c(),P(r,1),r.m(e.parentNode,e)):r&&(ke(),$(r,1,1,()=>{r=null}),Ae())},i(n){t||(P(r),t=!0)},o(n){$(r),t=!1},d(n){n&&g(e),r&&r.d(n)}}}function Xt(l,e,t){let r,{items:n=void 0}=e,{target:s=void 0}=e;const i=document.documentElement;let o,a,f,c,_,D,N,d,u,m,y;const X=b=>y=b,A={},R=qe(0);Ie(l,R,b=>t(10,r=b));const re=b=>{t(5,a=b),t(8,D=a.inline);const v=a.items;!D&&i.scrollHeight>i.clientHeight&&i.classList.add("bp-lock"),c=document.activeElement,t(20,A.w=s.offsetWidth,A),t(20,A.h=s===document.body?window.innerHeight:s.clientHeight,A),t(7,_=A.w<769),t(4,o=a.position||0),Array.isArray(v)?t(0,n=v.map((z,M)=>(a.el&&a.el===z.element&&t(4,o=M),{i:M,...z}))):t(0,n=(v.length?[...v]:[v]).map((z,M)=>(a.el===z&&t(4,o=M),{element:z,i:M,...z.dataset})))},ne=()=>{var b;(b=a.onClose)==null||b.call(a,A.el,u),Ve.set(!0),t(0,n=null),c==null||c.focus({preventScroll:!0})},H=()=>K(o-1),x=()=>K(o+1),K=b=>{N=b-o,t(4,o=ce(b))},ce=b=>(b+n.length)%n.length,pe=b=>{const{key:v,shiftKey:z}=b;if(v==="Escape")!a.noClose&&ne();else if(v==="ArrowRight")x();else if(v==="ArrowLeft")H();else if(v==="Tab"){const{activeElement:M}=document;if(z||!M.controls){b.preventDefault();const{focusWrap:B=A.el}=a,L=[...B.querySelectorAll("*")].filter(W=>W.tabIndex>=0);let T=L.indexOf(M);T+=L.length+(z?-1:1),L[T%L.length].focus()}}},ie=({width:b=1920,height:v=1080})=>{const{scale:z=.99}=a,M=Math.min(1,A.w/b*z,A.h/v*z);return[Math.round(b*M),Math.round(v*M)]},Z=()=>{if(n){const b=n[ce(o+1)],v=n[ce(o-1)];!b.preload&&le(b),!v.preload&&le(v)}},le=b=>{if(b.img){const v=k("img");return v.sizes=a.sizes||`${ie(b)[0]}px`,v.srcset=b.img,b.preload=!0,v.decode().catch(z=>{})}},ge=(b,v)=>!f||!n?(t(18,f=v),a.intro?ve(b,{y:v?10:-10}):se(b)):ve(b,{x:(N>0?20:-20)*(v?1:-1),duration:250}),se=b=>{let v;if(m){const W=b.firstChild.firstChild;v=[W.clientWidth,W.clientHeight]}else v=ie(u);const z=(u.element||c).getBoundingClientRect(),M=z.left-(A.w-z.width)/2,B=z.top-(A.h-z.height)/2,L=z.width/v[0],T=z.height/v[1];return{duration:480,easing:Fe,css:(W,h)=>`transform:translate3d(${M*h}px, ${B*h}px, 0) scale3d(${L+W*(1-L)}, ${T+W*(1-T)}, 1)`}},ee=()=>({activeItem:u,calculateDimensions:ie,loadImage:le,preloadNext:Z,opts:a,prev:H,next:x,close:ne,setResizeFunc:X,zoomed:R,container:A}),F=b=>{var B;t(20,A.el=b,A);let v,z;(B=a.onOpen)==null||B.call(a,A.el,u),D||(v=G(window,"keydown",pe));const M=new ResizeObserver(L=>{var T;z&&(t(20,A.w=L[0].contentRect.width,A),t(20,A.h=L[0].contentRect.height,A),t(7,_=A.w<769),y==null||y(),(T=a.onResize)==null||T.call(a,A.el,u)),z=!0});return M.observe(b),{destroy(){var L;M.disconnect(),v==null||v(),Ve.set(!1),i.classList.remove("bp-lock"),(L=a.onClosed)==null||L.call(a)}}},_e=b=>t(9,d=b.target),oe=function(b){b.button!==2&&b.target===this&&d===this&&!a.noClose&&ne()};return l.$$set=b=>{"items"in b&&t(0,n=b.items),"target"in b&&t(15,s=b.target)},l.$$.update=()=>{var b;l.$$.dirty[0]&1835121&&n&&(t(6,u=n[o]),t(19,m=u.hasOwnProperty("html")),f&&(m&&X(null),(b=a.onUpdate)==null||b.call(a,A.el,u)))},[n,ne,H,x,o,a,u,_,D,d,r,R,ge,ee,F,s,re,K,f,m,A,_e,oe]}class Bt extends Ee{constructor(e){super(),Ce(this,e,Xt,Wt,ht,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}set items(e){this.$$set({items:e}),Ze()}get target(){return this.$$.ctx[15]}set target(e){this.$$set({target:e}),Ze()}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}function jt(l){return new Bt({...l,props:l})}const{document:$e}=Ct;function at(l,e,t){const r=l.slice();return r[6]=e[t],r}function Gt(l){let e,t,r,n,s,i;return{c(){e=k("a"),t=k("img"),n=Y(),this.h()},l(o){e=E(o,"A",{class:!0,href:!0,"data-img":!0,"data-thumb":!0,"data-height":!0,"data-width":!0,"data-alt":!0,"data-caption":!0});var a=S(e);t=E(a,"IMG",{src:!0,width:!0,alt:!0}),n=q(a),a.forEach(g),this.h()},h(){mt(t.src,r=Pe(l[6].repImage,"thumb"))||p(t,"src",r),p(t,"width","300"),p(t,"alt",l[6].title),p(e,"class",yt(`tile ${l[6].pixel?"":" image-tile"}`)+" svelte-1ktfhpd"),p(e,"href",Pe(l[6].repImage)),p(e,"data-img",Pe(l[6].repImage)),p(e,"data-thumb",Pe(l[6].repImage,"thumb")),p(e,"data-height",l[6].repImageHeight),p(e,"data-width",l[6].repImageWidth),p(e,"data-alt",l[6].title),p(e,"data-caption","<a href='https://collections.newberry.org/asset-management/"+l[6].mei+"' target='_blank' class='sansie'>"+l[6].title+".</a>")},m(o,a){V(o,e,a),w(e,t),w(e,n),s||(i=G(e,"click",l[2]),s=!0)},p:ye,d(o){o&&g(e),s=!1,i()}}}function Kt(l){let e,t,r,n,s,i=l[6].title+"",o,a;return{c(){e=k("a"),t=k("img"),n=Y(),s=k("h3"),o=be(i),a=Y(),this.h()},l(f){e=E(f,"A",{href:!0,class:!0,target:!0});var c=S(e);t=E(c,"IMG",{src:!0,alt:!0,height:!0,width:!0}),n=q(c),s=E(c,"H3",{});var _=S(s);o=we(_,i),_.forEach(g),a=q(c),c.forEach(g),this.h()},h(){mt(t.src,r=l[6].pixel)||p(t,"src",r),p(t,"alt","a transparent pixel used to constrain the tile shape"),p(t,"height","400"),p(t,"width","300"),p(e,"href",l[6].link),p(e,"class","noimg"),p(e,"target","_blank")},m(f,c){V(f,e,c),w(e,t),w(e,n),w(e,s),w(s,o),w(e,a)},p:ye,d(f){f&&g(e)}}}function ct(l){let e;function t(s,i){return s[6].pixel?Kt:Gt}let n=t(l)(l);return{c(){n.c(),e=ae()},l(s){n.l(s),e=ae()},m(s,i){n.m(s,i),V(s,e,i)},p(s,i){n.p(s,i)},d(s){s&&g(e),n.d(s)}}}function Zt(l){let e,t=Je(l[1]),r=[];for(let n=0;n<t.length;n+=1)r[n]=ct(at(l,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ae()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ae()},m(n,s){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(n,s);V(n,e,s)},p(n,s){if(s&6){t=Je(n[1]);let i;for(i=0;i<t.length;i+=1){const o=at(n,t,i);r[i]?r[i].p(o,s):(r[i]=ct(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(n){n&&g(e),vt(r,n)}}}function Jt(l){let e,t,r,n,s,i,o,a=`<a href="${Oe}/"><img class="biggo" src="${Oe}/NewberryLogo.png" alt="Logo for the Newberry Library" height="60" width="300"/> <img class="smallo" src="${Oe}/NLogo.png" alt="Logo for the Newberry Library" height="60" width="60"/></a>`,f,c,_,D,N="Free to Use and Reuse:",d,u,m=l[0].galleryData.context+"",y,X,A,R,re,ne=" ",H,x,K,ce="Postcard Gallery",pe,ie,Z,le,ge=" ",se,ee,F,_e="Open Access Policy",oe,b,v,z,M,B,L;return $e.title=e="Newberry Library - "+l[0].galleryData.context,n=new It({props:{title:l[0].galleryData.context}}),v=new Dt({}),B=new Et({props:{$$slots:{default:[Zt]},$$scope:{ctx:l}}}),{c(){t=Y(),r=k("main"),ue(n.$$.fragment),s=Y(),i=k("div"),o=k("div"),o.innerHTML=a,f=Y(),c=k("header"),_=k("section"),D=k("h3"),D.textContent=N,d=Y(),u=k("h1"),y=be(m),X=Y(),A=k("aside"),R=k("p"),re=be(`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),H=be(ne),x=Y(),K=k("a"),K.textContent=ce,pe=be("."),ie=Y(),Z=k("p"),le=be(`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),se=be(ge),ee=Y(),F=k("a"),F.textContent=_e,oe=be(`
                    .`),b=Y(),ue(v.$$.fragment),z=Y(),M=k("div"),ue(B.$$.fragment),this.h()},l(T){_t("svelte-bnbe6i",$e.head).forEach(g),t=q(T),r=E(T,"MAIN",{});var h=S(r);he(n.$$.fragment,h),s=q(h),i=E(h,"DIV",{class:!0});var I=S(i);o=E(I,"DIV",{class:!0,"data-svelte-h":!0}),ze(o)!=="svelte-1ckqrq8"&&(o.innerHTML=a),f=q(I),c=E(I,"HEADER",{class:!0});var O=S(c);_=E(O,"SECTION",{});var C=S(_);D=E(C,"H3",{"data-svelte-h":!0}),ze(D)!=="svelte-i0mqc1"&&(D.textContent=N),d=q(C),u=E(C,"H1",{});var U=S(u);y=we(U,m),U.forEach(g),C.forEach(g),X=q(O),A=E(O,"ASIDE",{class:!0});var J=S(A);R=E(J,"P",{class:!0});var te=S(R);re=we(te,`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),H=we(te,ne),x=q(te),K=E(te,"A",{href:!0,class:!0,"data-svelte-h":!0}),ze(K)!=="svelte-99fxz7"&&(K.textContent=ce),pe=we(te,"."),te.forEach(g),ie=q(J),Z=E(J,"P",{class:!0});var fe=S(Z);le=we(fe,`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),se=we(fe,ge),ee=q(fe),F=E(fe,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),ze(F)!=="svelte-u8amqq"&&(F.textContent=_e),oe=we(fe,`
                    .`),fe.forEach(g),J.forEach(g),O.forEach(g),b=q(I),he(v.$$.fragment,I),I.forEach(g),z=q(h),M=E(h,"DIV",{class:!0});var Te=S(M);he(B.$$.fragment,Te),Te.forEach(g),h.forEach(g),this.h()},h(){p(o,"class","logo"),p(K,"href","https://digital.newberry.org/postcard-gallery"),p(K,"class","llines"),p(R,"class","text-lg"),p(F,"href","https://www.newberry.org/policies#open-access"),p(F,"target","_blank"),p(F,"class","llines"),p(Z,"class","text-base"),p(A,"class","text-content"),p(c,"class","title"),p(i,"class","left"),p(M,"class","right svelte-1ktfhpd")},m(T,W){V(T,t,W),V(T,r,W),me(n,r,null),w(r,s),w(r,i),w(i,o),w(i,f),w(i,c),w(c,_),w(_,D),w(_,d),w(_,u),w(u,y),w(c,X),w(c,A),w(A,R),w(R,re),w(R,H),w(R,x),w(R,K),w(R,pe),w(A,ie),w(A,Z),w(Z,le),w(Z,se),w(Z,ee),w(Z,F),w(Z,oe),w(i,b),me(v,i,null),w(r,z),w(r,M),me(B,M,null),L=!0},p(T,[W]){(!L||W&1)&&e!==(e="Newberry Library - "+T[0].galleryData.context)&&($e.title=e);const h={};W&1&&(h.title=T[0].galleryData.context),n.$set(h),(!L||W&1)&&m!==(m=T[0].galleryData.context+"")&&bt(y,m);const I={};W&512&&(I.$$scope={dirty:W,ctx:T}),B.$set(I)},i(T){L||(P(n.$$.fragment,T),P(v.$$.fragment,T),P(B.$$.fragment,T),L=!0)},o(T){$(n.$$.fragment,T),$(v.$$.fragment,T),$(B.$$.fragment,T),L=!1},d(T){T&&(g(t),g(r)),de(n),de(v),de(B)}}}function Qt(l,e,t){let{data:r}=e,n,s;const i={title:`View even more ${r.galleryData.context} at Newberry Digital Collections`,link:"https://collections.newberry.org/asset-management?WS=SearchResults#/DamView&VBID=2KXJA46IUGL5&PN=1&WS=SearchResults",pixel:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",galRepreImageWidth:300,galRepreImageHeight:400},o=[...r.galleryData.postcards.sort(()=>Math.random()-.5),i];wt(()=>{n=jt({target:document.body}),s=document.querySelectorAll("#images > .image-tile")});function a(f){f.preventDefault(),f.currentTarget!==null&&n.open({intro:"fadeup",items:s,el:f.currentTarget})}return l.$$set=f=>{"data"in f&&t(0,r=f.data)},[r,o,a]}class lr extends Ee{constructor(e){super(),Ce(this,e,Qt,Jt,Se,{data:0})}}export{lr as component};

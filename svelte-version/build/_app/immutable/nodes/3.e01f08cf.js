import{E as je,F as Ge,G as pt,s as Ne,e as ae,i as M,d as g,B as De,f as k,g as E,h as N,j as p,k as j,H as ut,a as Y,c as q,I as J,v as w,J as Ve,K as G,L as ze,M as gt,N as Ze,O as ht,P as Ke,w as ye,Q as Le,R as Ye,l as be,r as _t,C as Se,m as we,n as bt,o as wt,D as vt,u as dt,S as yt}from"../chunks/scheduler.946d4e9f.js";import{n as kt,l as At,S as Ee,i as Ce,a as P,g as ke,t as R,c as Ae,f as mt,h as Ie,b as ue,d as he,m as de,e as me}from"../chunks/index.19624394.js";import{S as Dt,F as It,M as Et,e as Qe,i as Pe}from"../chunks/index.0db8e3e4.js";import{w as qe}from"../chunks/index.12cfcd5c.js";import{b as Oe}from"../chunks/paths.70a1527c.js";const Ct=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Fe(l){const e=l-1;return e*e*e+1}function ve(l,{delay:e=0,duration:t=400,easing:r=Fe,x:n=0,y:s=0,opacity:i=0}={}){const o=getComputedStyle(l),a=+o.opacity,f=o.transform==="none"?"":o.transform,c=a*(1-i),[_,I]=je(n),[z,m]=je(s);return{delay:e,duration:t,easing:r,css:(u,d)=>`
			transform: ${f} translate(${(1-u)*_}${I}, ${(1-u)*z}${m});
			opacity: ${a-c*d}`}}function Je(l){return Object.prototype.toString.call(l)==="[object Date]"}function He(l,e){if(l===e||l!==l)return()=>l;const t=typeof l;if(t!==typeof e||Array.isArray(l)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(l)){const r=e.map((n,s)=>He(l[s],n));return n=>r.map(s=>s(n))}if(t==="object"){if(!l||!e)throw new Error("Object cannot be null");if(Je(l)&&Je(e)){l=l.getTime(),e=e.getTime();const s=e-l;return i=>new Date(l+i*s)}const r=Object.keys(e),n={};return r.forEach(s=>{n[s]=He(l[s],e[s])}),s=>{const i={};return r.forEach(o=>{i[o]=n[o](s)}),i}}if(t==="number"){const r=e-l;return n=>l+n*r}throw new Error(`Cannot interpolate ${t} values`)}function xe(l,e={}){const t=qe(l);let r,n=l;function s(i,o){if(l==null)return t.set(l=i),Promise.resolve();n=i;let a=r,f=!1,{delay:c=0,duration:_=400,easing:I=pt,interpolate:z=He}=Ge(Ge({},e),o);if(_===0)return a&&(a.abort(),a=null),t.set(l=n),Promise.resolve();const m=kt()+c;let u;return r=At(d=>{if(d<m)return!0;f||(u=z(l,i),typeof _=="function"&&(_=_(l,i)),f=!0),a&&(a.abort(),a=null);const y=d-m;return y>_?(t.set(l=i),!1):(t.set(l=u(I(y/_))),!0)}),r.promise}return{set:s,update:(i,o)=>s(i(n,l),o),subscribe:t.subscribe}}const Me=qe(0);var ft;const Tt=(ft=globalThis.matchMedia)==null?void 0:ft.call(globalThis,"(prefers-reduced-motion: reduce)").matches,$e=l=>({easing:Fe,duration:Tt?0:l});function et(l){let e,t,r,n,s=!l[2]&&tt();return{c(){e=k("div"),s&&s.c(),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var o=N(e);s&&s.l(o),o.forEach(g),this.h()},h(){p(e,"class","bp-load"),j(e,"background-image","url("+l[0]+")")},m(i,o){M(i,e,o),s&&s.m(e,null),n=!0},p(i,o){l=i,l[2]?s&&(s.d(1),s=null):s||(s=tt(),s.c(),s.m(e,null)),(!n||o&1)&&j(e,"background-image","url("+l[0]+")")},i(i){n||(i&&ut(()=>{n&&(r&&r.end(1),t=mt(e,ve,{duration:l[1]?400:0}),t.start())}),n=!0)},o(i){t&&t.invalidate(),i&&(r=Ie(e,ve,{duration:480})),n=!1},d(i){i&&g(e),s&&s.d(),i&&r&&r.end()}}}function tt(l){let e,t,r;return{c(){e=k("span"),t=Y(),r=k("span"),this.h()},l(n){e=E(n,"SPAN",{class:!0}),N(e).forEach(g),t=q(n),r=E(n,"SPAN",{class:!0}),N(r).forEach(g),this.h()},h(){p(e,"class","bp-bar"),p(r,"class","bp-o")},m(n,s){M(n,e,s),M(n,t,s),M(n,r,s)},d(n){n&&(g(e),g(t),g(r))}}}function Nt(l){let e,t=(!l[1]||l[2])&&et(l);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,n){t&&t.m(r,n),M(r,e,n)},p(r,[n]){!r[1]||r[2]?t?(t.p(r,n),n&6&&P(t,1)):(t=et(r),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(ke(),R(t,1,1,()=>{t=null}),Ae())},i(r){P(t)},o(r){R(t)},d(r){r&&g(e),t&&t.d(r)}}}function zt(l,e,t){let r;De(l,Me,i=>t(2,r=i));let{thumb:n}=e,{loaded:s}=e;return l.$$set=i=>{"thumb"in i&&t(0,n=i.thumb),"loaded"in i&&t(1,s=i.loaded)},[n,s,r]}class Ue extends Ee{constructor(e){super(),Ce(this,e,zt,Nt,Ne,{thumb:0,loaded:1})}}function rt(l){let e,t,r,n,s,i,o;return{c(){e=k("img"),this.h()},l(a){e=E(a,"IMG",{srcset:!0,sizes:!0,alt:!0}),this.h()},h(){gt(e,t=l[7].img)||p(e,"srcset",t),p(e,"sizes",r=l[8].sizes||`${l[1]}px`),p(e,"alt",l[7].alt)},m(a,f){M(a,e,f),s=!0,i||(o=G(e,"error",l[26]),i=!0)},p(a,f){(!s||f[0]&2&&r!==(r=a[8].sizes||`${a[1]}px`))&&p(e,"sizes",r)},i(a){s||(n&&n.end(1),s=!0)},o(a){n=Ie(e,ve,{}),s=!1},d(a){a&&g(e),a&&n&&n.end(),i=!1,o()}}}function nt(l){let e,t;return e=new Ue({props:{thumb:l[7].thumb,loaded:l[2]}}),{c(){ue(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,n){de(e,r,n),t=!0},p(r,n){const s={};n[0]&4&&(s.loaded=r[2]),e.$set(s)},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){me(e,r)}}}function St(l){let e,t,r,n,s,i,o=l[2]&&rt(l),a=l[3]&&nt(l);return{c(){e=k("div"),t=k("div"),o&&o.c(),r=Y(),a&&a.c(),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=N(e);t=E(c,"DIV",{class:!0,style:!0});var _=N(t);o&&o.l(_),r=q(_),a&&a.l(_),_.forEach(g),c.forEach(g),this.h()},h(){p(t,"class","bp-img"),j(t,"background-image","url("+l[7].thumb+")"),j(t,"width",l[0][0]+"px"),j(t,"height",l[0][1]+"px"),j(t,"transform","translate3d("+(l[0][0]/-2+l[6][0])+"px, "+(l[0][1]/-2+l[6][1])+"px, 0)"),J(t,"bp-drag",l[4]),J(t,"bp-canzoom",l[11]>1&&l[0][0]<l[12]),p(e,"class","bp-img-wrap"),J(e,"bp-close",l[5])},m(f,c){M(f,e,c),w(e,t),o&&o.m(t,null),w(t,r),a&&a.m(t,null),n=!0,s||(i=[Ve(l[20].call(null,t)),G(e,"wheel",l[15]),G(e,"pointerdown",l[16]),G(e,"pointermove",l[17]),G(e,"pointerup",l[19]),G(e,"pointercancel",l[18])],s=!0)},p(f,c){f[2]?o?(o.p(f,c),c[0]&4&&P(o,1)):(o=rt(f),o.c(),P(o,1),o.m(t,r)):o&&(ke(),R(o,1,1,()=>{o=null}),Ae()),f[3]?a?(a.p(f,c),c[0]&8&&P(a,1)):(a=nt(f),a.c(),P(a,1),a.m(t,null)):a&&(ke(),R(a,1,1,()=>{a=null}),Ae()),(!n||c[0]&1)&&j(t,"width",f[0][0]+"px"),(!n||c[0]&1)&&j(t,"height",f[0][1]+"px"),(!n||c[0]&65)&&j(t,"transform","translate3d("+(f[0][0]/-2+f[6][0])+"px, "+(f[0][1]/-2+f[6][1])+"px, 0)"),(!n||c[0]&16)&&J(t,"bp-drag",f[4]),(!n||c[0]&6145)&&J(t,"bp-canzoom",f[11]>1&&f[0][0]<f[12]),(!n||c[0]&32)&&J(e,"bp-close",f[5])},i(f){n||(P(o),P(a),n=!0)},o(f){R(o),R(a),n=!1},d(f){f&&g(e),o&&o.d(),a&&a.d(),s=!1,ze(i)}}}function Pt(l,e,t){let r,n,s,i;De(l,Me,h=>t(25,s=h));let{props:o}=e,{smallScreen:a}=e,{activeItem:f,opts:c,prev:_,next:I,zoomed:z,container:m}=o;De(l,z,h=>t(24,r=h));let u=f.maxZoom||c.maxZoom||10,d=o.calculateDimensions(f),y=d[0],B,A,$,re,ne=0,H,x,Z,ce,pe,ie,K;const le=+f.width,ge=[],se=new Map,ee=xe(d,$e(400));De(l,ee,h=>t(0,i=h));const F=xe([0,0],$e(400));De(l,F,h=>t(6,n=h));const _e=([h,D],O=i)=>{const C=(O[0]-m.w)/2,U=(O[1]-m.h)/2;return C<0?h=0:h>C?a?(h=H?C+(h-C)/10:C,h>C+20&&t(4,H=_())):h=C:h<-C&&(a?(h=H?-C-(-C-h)/10:-C,h<-C-20&&t(4,H=I())):h=-C),U<0?D=0:D>U?D=U:D<-U&&(D=-U),[h,D]};function oe(h=u,D){if(s)return;const O=d[0]*u;let C=i[0]+i[0]*h,U=i[1]+i[1]*h;if(h>0)C>O&&(C=O,U=d[1]*u),C>le&&(C=le,U=+f.height);else if(C<d[0])return ee.set(d),F.set([0,0]);let{x:Q,y:te,width:fe,height:Te}=re.getBoundingClientRect();const Xe=D?D.clientX-Q-fe/2:0,Be=D?D.clientY-te-Te/2:0;Q=-Xe*(C/fe)+Xe,te=-Be*(U/Te)+Be;const We=[C,U];ee.set(We).then(()=>{t(1,y=Math.round(Math.max(y,C)))}),F.set(_e([n[0]+Q,n[1]+te],We))}Object.defineProperty(f,"zoom",{configurable:!0,get:()=>r,set:h=>oe(h?u:-u)});const b=h=>{c.inline&&!r||(h.preventDefault(),oe(h.deltaY/-300,h))},v=h=>{h.button!==2&&(h.preventDefault(),t(4,H=!0),se.set(h.pointerId,h),Z=h.clientX,ce=h.clientY,pe=n[0],ie=n[1])},S=h=>{var C;if(se.size>1)return t(4,H=!1),((C=c.noPinch)==null?void 0:C.call(c,m.el))||V(h);if(!H)return;let D=h.clientX,O=h.clientY;x=ge.push({x:D,y:O})>2,D=D-Z,O=O-ce,r||(O<-90&&t(4,H=!c.noClose&&o.close()),Math.abs(O)<30&&(D>40&&t(4,H=_()),D<-40&&t(4,H=I()))),r&&x&&!s&&F.set(_e([pe+D,ie+O]),{duration:0})},V=h=>{const[D,O]=se.set(h.pointerId,h).values(),C=D.clientX-O.clientX,U=D.clientY-O.clientY,Q=Math.hypot(C,U);$=$||{clientX:(D.clientX+O.clientX)/2,clientY:(D.clientY+O.clientY)/2},oe(((ne||Q)-Q)/-35,$),ne=Q},W=h=>se.delete(h.pointerId);function L(h){var D;if(W(h),$&&(t(4,H=ne=0),$=se.size?$:null),!!H){if(t(4,H=!1),h.target===this&&!c.noClose)return o.close();if(x){const[O,C,U]=ge.slice(-3),Q=C.x-U.x,te=C.y-U.y;Math.hypot(Q,te)>5&&F.set(_e([n[0]-(O.x-U.x)*5,n[1]-(O.y-U.y)*5]))}else(D=c.onImageClick)!=null&&D.call(c,m.el,f)||oe(r?-u:u,h);x=!1,ge.length=0}}const T=h=>{re=h,o.setResizeFunc(()=>{t(23,d=o.calculateDimensions(f)),(c.inline||!a)&&(ee.set(d),F.set([0,0]))}),o.loadImage(f).then(()=>{t(2,B=!0),o.preloadNext()}),setTimeout(()=>{t(3,A=!B)},250)},X=h=>{var D;return(D=c.onError)==null?void 0:D.call(c,m,f,h)};return l.$$set=h=>{"props"in h&&t(21,o=h.props),"smallScreen"in h&&t(22,a=h.smallScreen)},l.$$.update=()=>{if(l.$$.dirty[0]&8388609&&z.set(i[0]-10>d[0]),l.$$.dirty[0]&58720256&&s&&r&&!c.intro){const h=$e(480);F.set([0,0],h),ee.set(d,h),t(5,K=!0)}},[i,y,B,A,H,K,n,f,c,z,m,u,le,ee,F,b,v,S,W,L,T,o,a,d,r,s,X]}class Mt extends Ee{constructor(e){super(),Ce(this,e,Pt,St,Ne,{props:21,smallScreen:22},null,[-1,-1])}}function Vt(l){let e,t,r,n,s,i,o;return n=new Ue({props:{thumb:l[2].thumb,loaded:l[0]}}),{c(){e=k("div"),t=k("iframe"),r=Y(),ue(n.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0,style:!0});var f=N(e);t=E(f,"IFRAME",{allow:!0,title:!0}),N(t).forEach(g),r=q(f),he(n.$$.fragment,f),f.forEach(g),this.h()},h(){p(t,"allow","autoplay; fullscreen"),p(t,"title",l[2].title),p(e,"class","bp-if"),j(e,"width",l[1][0]+"px"),j(e,"height",l[1][1]+"px")},m(a,f){M(a,e,f),w(e,t),w(e,r),de(n,e,null),s=!0,i||(o=[Ve(l[3].call(null,t)),G(t,"load",l[5])],i=!0)},p(a,[f]){const c={};f&1&&(c.loaded=a[0]),n.$set(c),(!s||f&2)&&j(e,"width",a[1][0]+"px"),(!s||f&2)&&j(e,"height",a[1][1]+"px")},i(a){s||(P(n.$$.fragment,a),s=!0)},o(a){R(n.$$.fragment,a),s=!1},d(a){a&&g(e),me(n),i=!1,ze(o)}}}function Ot(l,e,t){let{props:r}=e,n,s;const{activeItem:i}=r,o=()=>t(1,s=r.calculateDimensions(i));o(),r.setResizeFunc(o);const a=c=>c.src=i.iframe,f=()=>t(0,n=!0);return l.$$set=c=>{"props"in c&&t(4,r=c.props)},[n,s,i,a,r,f]}class $t extends Ee{constructor(e){super(),Ce(this,e,Ot,Vt,Ne,{props:4})}}function Rt(l){let e,t,r,n,s;return t=new Ue({props:{thumb:l[2].thumb,loaded:l[0]}}),{c(){e=k("div"),ue(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var o=N(e);he(t.$$.fragment,o),o.forEach(g),this.h()},h(){p(e,"class","bp-vid"),j(e,"width",l[1][0]+"px"),j(e,"height",l[1][1]+"px"),j(e,"background-image","url("+l[2].thumb+")")},m(i,o){M(i,e,o),de(t,e,null),r=!0,n||(s=Ve(l[3].call(null,e)),n=!0)},p(i,[o]){const a={};o&1&&(a.loaded=i[0]),t.$set(a),(!r||o&2)&&j(e,"width",i[1][0]+"px"),(!r||o&2)&&j(e,"height",i[1][1]+"px")},i(i){r||(P(t.$$.fragment,i),r=!0)},o(i){R(t.$$.fragment,i),r=!1},d(i){i&&g(e),me(t),n=!1,s()}}}function Ht(l,e,t){let{props:r}=e,n,s;const{activeItem:i,opts:o,container:a}=r,f=()=>t(1,s=r.calculateDimensions(i));f(),r.setResizeFunc(f);const c=(I,z)=>{for(const m in z)p(I,m,z[m])},_=I=>{let z;const m=(u,d)=>{var y;Array.isArray(d)||(d=JSON.parse(d));for(const B of d){z||(z=k((y=B.type)!=null&&y.includes("audio")?"audio":"video"),c(z,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}));const A=k(u);c(A,B),u=="source"&&G(A,"error",$=>{var re;return(re=o.onError)==null?void 0:re.call(o,a,i,$)}),Ze(z,A)}};m("source",i.sources),m("track",i.tracks||[]),G(z,"canplay",()=>t(0,n=!0)),Ze(I,z)};return l.$$set=I=>{"props"in I&&t(4,r=I.props)},[n,s,i,_,r]}class Lt extends Ee{constructor(e){super(),Ce(this,e,Ht,Rt,Ne,{props:4})}}function lt(l){let e,t,r,n,s=l[6].i,i,o,a,f,c,_,I,z,m=it(l),u=l[0].length>1&&ot(l);return{c(){e=k("div"),t=k("div"),n=Y(),m.c(),i=Y(),o=k("div"),a=k("button"),f=Y(),u&&u.c(),this.h()},l(d){e=E(d,"DIV",{class:!0});var y=N(e);t=E(y,"DIV",{}),N(t).forEach(g),n=q(y),m.l(y),i=q(y),o=E(y,"DIV",{class:!0});var B=N(o);a=E(B,"BUTTON",{class:!0,title:!0,"aria-label":!0}),N(a).forEach(g),f=q(B),u&&u.l(B),B.forEach(g),y.forEach(g),this.h()},h(){p(a,"class","bp-x"),p(a,"title","Close"),p(a,"aria-label","Close"),p(o,"class","bp-controls"),p(e,"class","bp-wrap"),J(e,"bp-zoomed",l[10]),J(e,"bp-inline",l[8]),J(e,"bp-small",l[7]),J(e,"bp-noclose",l[5].noClose)},m(d,y){M(d,e,y),w(e,t),w(e,n),m.m(e,null),w(e,i),w(e,o),w(o,a),w(o,f),u&&u.m(o,null),_=!0,I||(z=[G(a,"click",l[1]),Ve(l[14].call(null,e))],I=!0)},p(d,y){y[0]&64&&ht(s,s=d[6].i)?(ke(),R(m,1,1,ye),Ae(),m=it(d),m.c(),P(m,1),m.m(e,i)):m.p(d,y),d[0].length>1?u?u.p(d,y):(u=ot(d),u.c(),u.m(o,null)):u&&(u.d(1),u=null),(!_||y[0]&1024)&&J(e,"bp-zoomed",d[10]),(!_||y[0]&256)&&J(e,"bp-inline",d[8]),(!_||y[0]&128)&&J(e,"bp-small",d[7]),(!_||y[0]&32)&&J(e,"bp-noclose",d[5].noClose)},i(d){_||(r&&r.end(1),P(m),c&&c.end(1),_=!0)},o(d){d&&(r=Ie(t,ve,{duration:480})),R(m),d&&(c=Ie(o,ve,{})),_=!1},d(d){d&&g(e),d&&r&&r.end(),m.d(d),u&&u.d(),d&&c&&c.end(),I=!1,ze(z)}}}function Yt(l){let e,t,r=l[6].html+"";return{c(){e=k("div"),t=new Le(!1),this.h()},l(n){e=E(n,"DIV",{class:!0});var s=N(e);t=Ye(s,!1),s.forEach(g),this.h()},h(){t.a=null,p(e,"class","bp-html")},m(n,s){M(n,e,s),t.m(r,e)},p(n,s){s[0]&64&&r!==(r=n[6].html+"")&&t.p(r)},i:ye,o:ye,d(n){n&&g(e)}}}function qt(l){let e,t;return e=new $t({props:{props:l[13]()}}),{c(){ue(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,n){de(e,r,n),t=!0},p:ye,i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){me(e,r)}}}function Ft(l){let e,t;return e=new Lt({props:{props:l[13]()}}),{c(){ue(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,n){de(e,r,n),t=!0},p:ye,i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){me(e,r)}}}function Ut(l){let e,t;return e=new Mt({props:{props:l[13](),smallScreen:l[7]}}),{c(){ue(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,n){de(e,r,n),t=!0},p(r,n){const s={};n[0]&128&&(s.smallScreen=r[7]),e.$set(s)},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){me(e,r)}}}function st(l){let e,t,r=l[6].caption+"",n,s;return{c(){e=k("div"),t=new Le(!1),this.h()},l(i){e=E(i,"DIV",{class:!0});var o=N(e);t=Ye(o,!1),o.forEach(g),this.h()},h(){t.a=null,p(e,"class","bp-cap")},m(i,o){M(i,e,o),t.m(r,e),s=!0},p(i,o){(!s||o[0]&64)&&r!==(r=i[6].caption+"")&&t.p(r)},i(i){s||(n&&n.end(1),s=!0)},o(i){n=Ie(e,ve,{duration:200}),s=!1},d(i){i&&g(e),i&&n&&n.end()}}}function it(l){let e,t,r,n,s,i,o,a,f,c;const _=[Ut,Ft,qt,Yt],I=[];function z(u,d){return u[6].img?0:u[6].sources?1:u[6].iframe?2:3}t=z(l),r=I[t]=_[t](l);let m=l[6].caption&&st(l);return{c(){e=k("div"),r.c(),i=Y(),m&&m.c(),o=ae(),this.h()},l(u){e=E(u,"DIV",{class:!0});var d=N(e);r.l(d),d.forEach(g),i=q(u),m&&m.l(u),o=ae(),this.h()},h(){p(e,"class","bp-inner")},m(u,d){M(u,e,d),I[t].m(e,null),M(u,i,d),m&&m.m(u,d),M(u,o,d),a=!0,f||(c=[G(e,"pointerdown",l[21]),G(e,"pointerup",l[22])],f=!0)},p(u,d){let y=t;t=z(u),t===y?I[t].p(u,d):(ke(),R(I[y],1,1,()=>{I[y]=null}),Ae(),r=I[t],r?r.p(u,d):(r=I[t]=_[t](u),r.c()),P(r,1),r.m(e,null)),u[6].caption?m?(m.p(u,d),d[0]&64&&P(m,1)):(m=st(u),m.c(),P(m,1),m.m(o.parentNode,o)):m&&(ke(),R(m,1,1,()=>{m=null}),Ae())},i(u){a||(P(r),ut(()=>{a&&(s&&s.end(1),n=mt(e,l[12],!0),n.start())}),P(m),a=!0)},o(u){R(r),n&&n.invalidate(),s=Ie(e,l[12],!1),R(m),a=!1},d(u){u&&(g(e),g(i),g(o)),I[t].d(),u&&s&&s.end(),m&&m.d(u),f=!1,ze(c)}}}function ot(l){let e,t,r=`${l[4]+1} / ${l[0].length}`,n,s,i,o,a,f;return{c(){e=k("div"),t=new Le(!1),n=Y(),s=k("button"),i=Y(),o=k("button"),this.h()},l(c){e=E(c,"DIV",{class:!0});var _=N(e);t=Ye(_,!1),_.forEach(g),n=q(c),s=E(c,"BUTTON",{class:!0,title:!0,"aria-label":!0}),N(s).forEach(g),i=q(c),o=E(c,"BUTTON",{class:!0,title:!0,"aria-label":!0}),N(o).forEach(g),this.h()},h(){t.a=null,p(e,"class","bp-count"),p(s,"class","bp-prev"),p(s,"title","Previous"),p(s,"aria-label","Previous"),p(o,"class","bp-next"),p(o,"title","Next"),p(o,"aria-label","Next")},m(c,_){M(c,e,_),t.m(r,e),M(c,n,_),M(c,s,_),M(c,i,_),M(c,o,_),a||(f=[G(s,"click",l[2]),G(o,"click",l[3])],a=!0)},p(c,_){_[0]&17&&r!==(r=`${c[4]+1} / ${c[0].length}`)&&t.p(r)},d(c){c&&(g(e),g(n),g(s),g(i),g(o)),a=!1,ze(f)}}}function Xt(l){let e,t,r=l[0]&&lt(l);return{c(){r&&r.c(),e=ae()},l(n){r&&r.l(n),e=ae()},m(n,s){r&&r.m(n,s),M(n,e,s),t=!0},p(n,s){n[0]?r?(r.p(n,s),s[0]&1&&P(r,1)):(r=lt(n),r.c(),P(r,1),r.m(e.parentNode,e)):r&&(ke(),R(r,1,1,()=>{r=null}),Ae())},i(n){t||(P(r),t=!0)},o(n){R(r),t=!1},d(n){n&&g(e),r&&r.d(n)}}}function Bt(l,e,t){let r,{items:n=void 0}=e,{target:s=void 0}=e;const i=document.documentElement;let o,a,f,c,_,I,z,m,u,d,y;const B=b=>y=b,A={},$=qe(0);De(l,$,b=>t(10,r=b));const re=b=>{t(5,a=b),t(8,I=a.inline);const v=a.items;!I&&i.scrollHeight>i.clientHeight&&i.classList.add("bp-lock"),c=document.activeElement,t(20,A.w=s.offsetWidth,A),t(20,A.h=s===document.body?window.innerHeight:s.clientHeight,A),t(7,_=A.w<769),t(4,o=a.position||0),Array.isArray(v)?t(0,n=v.map((S,V)=>(a.el&&a.el===S.element&&t(4,o=V),{i:V,...S}))):t(0,n=(v.length?[...v]:[v]).map((S,V)=>(a.el===S&&t(4,o=V),{element:S,i:V,...S.dataset})))},ne=()=>{var b;(b=a.onClose)==null||b.call(a,A.el,u),Me.set(!0),t(0,n=null),c==null||c.focus({preventScroll:!0})},H=()=>Z(o-1),x=()=>Z(o+1),Z=b=>{z=b-o,t(4,o=ce(b))},ce=b=>(b+n.length)%n.length,pe=b=>{const{key:v,shiftKey:S}=b;if(v==="Escape")!a.noClose&&ne();else if(v==="ArrowRight")x();else if(v==="ArrowLeft")H();else if(v==="Tab"){const{activeElement:V}=document;if(S||!V.controls){b.preventDefault();const{focusWrap:W=A.el}=a,L=[...W.querySelectorAll("*")].filter(X=>X.tabIndex>=0);let T=L.indexOf(V);T+=L.length+(S?-1:1),L[T%L.length].focus()}}},ie=({width:b=1920,height:v=1080})=>{const{scale:S=.99}=a,V=Math.min(1,A.w/b*S,A.h/v*S);return[Math.round(b*V),Math.round(v*V)]},K=()=>{if(n){const b=n[ce(o+1)],v=n[ce(o-1)];!b.preload&&le(b),!v.preload&&le(v)}},le=b=>{if(b.img){const v=k("img");return v.sizes=a.sizes||`${ie(b)[0]}px`,v.srcset=b.img,b.preload=!0,v.decode().catch(S=>{})}},ge=(b,v)=>!f||!n?(t(18,f=v),a.intro?ve(b,{y:v?10:-10}):se(b)):ve(b,{x:(z>0?20:-20)*(v?1:-1),duration:250}),se=b=>{let v;if(d){const X=b.firstChild.firstChild;v=[X.clientWidth,X.clientHeight]}else v=ie(u);const S=(u.element||c).getBoundingClientRect(),V=S.left-(A.w-S.width)/2,W=S.top-(A.h-S.height)/2,L=S.width/v[0],T=S.height/v[1];return{duration:480,easing:Fe,css:(X,h)=>`transform:translate3d(${V*h}px, ${W*h}px, 0) scale3d(${L+X*(1-L)}, ${T+X*(1-T)}, 1)`}},ee=()=>({activeItem:u,calculateDimensions:ie,loadImage:le,preloadNext:K,opts:a,prev:H,next:x,close:ne,setResizeFunc:B,zoomed:$,container:A}),F=b=>{var W;t(20,A.el=b,A);let v,S;(W=a.onOpen)==null||W.call(a,A.el,u),I||(v=G(window,"keydown",pe));const V=new ResizeObserver(L=>{var T;S&&(t(20,A.w=L[0].contentRect.width,A),t(20,A.h=L[0].contentRect.height,A),t(7,_=A.w<769),y==null||y(),(T=a.onResize)==null||T.call(a,A.el,u)),S=!0});return V.observe(b),{destroy(){var L;V.disconnect(),v==null||v(),Me.set(!1),i.classList.remove("bp-lock"),(L=a.onClosed)==null||L.call(a)}}},_e=b=>t(9,m=b.target),oe=function(b){b.button!==2&&b.target===this&&m===this&&!a.noClose&&ne()};return l.$$set=b=>{"items"in b&&t(0,n=b.items),"target"in b&&t(15,s=b.target)},l.$$.update=()=>{var b;l.$$.dirty[0]&1835121&&n&&(t(6,u=n[o]),t(19,d=u.hasOwnProperty("html")),f&&(d&&B(null),(b=a.onUpdate)==null||b.call(a,A.el,u)))},[n,ne,H,x,o,a,u,_,I,m,r,$,ge,ee,F,s,re,Z,f,d,A,_e,oe]}class Wt extends Ee{constructor(e){super(),Ce(this,e,Bt,Xt,ht,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}set items(e){this.$$set({items:e}),Ke()}get target(){return this.$$.ctx[15]}set target(e){this.$$set({target:e}),Ke()}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}function jt(l){return new Wt({...l,props:l})}const{document:Re}=Ct;function at(l,e,t){const r=l.slice();return r[6]=e[t],r}function Gt(l){let e,t,r,n,s,i;return{c(){e=k("a"),t=k("img"),n=Y(),this.h()},l(o){e=E(o,"A",{class:!0,href:!0,"data-img":!0,"data-thumb":!0,"data-height":!0,"data-width":!0,"data-alt":!0,"data-caption":!0});var a=N(e);t=E(a,"IMG",{src:!0,width:!0,alt:!0}),n=q(a),a.forEach(g),this.h()},h(){dt(t.src,r=Pe(l[6].repImage,"thumb"))||p(t,"src",r),p(t,"width","300"),p(t,"alt",l[6].title),p(e,"class",yt(`tile ${l[6].pixel?"":" image-tile"}`)+" svelte-1ktfhpd"),p(e,"href",Pe(l[6].repImage)),p(e,"data-img",Pe(l[6].repImage)),p(e,"data-thumb",Pe(l[6].repImage,"thumb")),p(e,"data-height",l[6].repImageHeight),p(e,"data-width",l[6].repImageWidth),p(e,"data-alt",l[6].title),p(e,"data-caption","<a href='https://collections.newberry.org/asset-management/"+l[6].mei+"' target='_blank' class='sansie'>"+l[6].title+"</a>")},m(o,a){M(o,e,a),w(e,t),w(e,n),s||(i=G(e,"click",l[2]),s=!0)},p:ye,d(o){o&&g(e),s=!1,i()}}}function Zt(l){let e,t,r,n,s,i=l[6].title+"",o,a;return{c(){e=k("a"),t=k("img"),n=Y(),s=k("h3"),o=be(i),a=Y(),this.h()},l(f){e=E(f,"A",{href:!0,class:!0,target:!0});var c=N(e);t=E(c,"IMG",{src:!0,alt:!0,height:!0,width:!0}),n=q(c),s=E(c,"H3",{});var _=N(s);o=we(_,i),_.forEach(g),a=q(c),c.forEach(g),this.h()},h(){dt(t.src,r=l[6].pixel)||p(t,"src",r),p(t,"alt","a transparent pixel used to constrain the tile shape"),p(t,"height","400"),p(t,"width","300"),p(e,"href",l[6].link),p(e,"class","noimg"),p(e,"target","_blank")},m(f,c){M(f,e,c),w(e,t),w(e,n),w(e,s),w(s,o),w(e,a)},p:ye,d(f){f&&g(e)}}}function ct(l){let e;function t(s,i){return s[6].pixel?Zt:Gt}let n=t(l)(l);return{c(){n.c(),e=ae()},l(s){n.l(s),e=ae()},m(s,i){n.m(s,i),M(s,e,i)},p(s,i){n.p(s,i)},d(s){s&&g(e),n.d(s)}}}function Kt(l){let e,t=Qe(l[1]),r=[];for(let n=0;n<t.length;n+=1)r[n]=ct(at(l,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ae()},l(n){for(let s=0;s<r.length;s+=1)r[s].l(n);e=ae()},m(n,s){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(n,s);M(n,e,s)},p(n,s){if(s&6){t=Qe(n[1]);let i;for(i=0;i<t.length;i+=1){const o=at(n,t,i);r[i]?r[i].p(o,s):(r[i]=ct(o),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(n){n&&g(e),vt(r,n)}}}function Qt(l){let e,t,r,n,s,i,o,a=`<a href="${Oe}/"><img class="biggo" src="${Oe}/NewberryLogo.png" alt="Logo for the Newberry Library" height="60" width="300"/> <img class="smallo" src="${Oe}/NLogo.png" alt="Logo for the Newberry Library" height="60" width="60"/></a>`,f,c,_,I,z="Free to Use and Reuse:",m,u,d=l[0].galleryData.context+"",y,B,A,$,re,ne=" ",H,x,Z,ce="Postcard Gallery",pe,ie,K,le,ge=" ",se,ee,F,_e="Open Access Policy",oe,b,v,S,V,W,L;return Re.title=e="Newberry Library - "+l[0].galleryData.context,n=new Dt({props:{title:l[0].galleryData.context}}),v=new It({}),W=new Et({props:{$$slots:{default:[Kt]},$$scope:{ctx:l}}}),{c(){t=Y(),r=k("main"),ue(n.$$.fragment),s=Y(),i=k("div"),o=k("div"),o.innerHTML=a,f=Y(),c=k("header"),_=k("section"),I=k("h3"),I.textContent=z,m=Y(),u=k("h1"),y=be(d),B=Y(),A=k("aside"),$=k("p"),re=be(`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),H=be(ne),x=Y(),Z=k("a"),Z.textContent=ce,pe=be("."),ie=Y(),K=k("p"),le=be(`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),se=be(ge),ee=Y(),F=k("a"),F.textContent=_e,oe=be(`
                    .`),b=Y(),ue(v.$$.fragment),S=Y(),V=k("div"),ue(W.$$.fragment),this.h()},l(T){_t("svelte-bnbe6i",Re.head).forEach(g),t=q(T),r=E(T,"MAIN",{});var h=N(r);he(n.$$.fragment,h),s=q(h),i=E(h,"DIV",{class:!0});var D=N(i);o=E(D,"DIV",{class:!0,"data-svelte-h":!0}),Se(o)!=="svelte-1ckqrq8"&&(o.innerHTML=a),f=q(D),c=E(D,"HEADER",{class:!0});var O=N(c);_=E(O,"SECTION",{});var C=N(_);I=E(C,"H3",{"data-svelte-h":!0}),Se(I)!=="svelte-i0mqc1"&&(I.textContent=z),m=q(C),u=E(C,"H1",{});var U=N(u);y=we(U,d),U.forEach(g),C.forEach(g),B=q(O),A=E(O,"ASIDE",{class:!0});var Q=N(A);$=E(Q,"P",{class:!0});var te=N($);re=we(te,`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),H=we(te,ne),x=q(te),Z=E(te,"A",{href:!0,class:!0,"data-svelte-h":!0}),Se(Z)!=="svelte-99fxz7"&&(Z.textContent=ce),pe=we(te,"."),te.forEach(g),ie=q(Q),K=E(Q,"P",{class:!0});var fe=N(K);le=we(fe,`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),se=we(fe,ge),ee=q(fe),F=E(fe,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Se(F)!=="svelte-u8amqq"&&(F.textContent=_e),oe=we(fe,`
                    .`),fe.forEach(g),Q.forEach(g),O.forEach(g),b=q(D),he(v.$$.fragment,D),D.forEach(g),S=q(h),V=E(h,"DIV",{class:!0});var Te=N(V);he(W.$$.fragment,Te),Te.forEach(g),h.forEach(g),this.h()},h(){p(o,"class","logo"),p(Z,"href","https://digital.newberry.org/postcard-gallery"),p(Z,"class","llines"),p($,"class","text-lg"),p(F,"href","https://www.newberry.org/policies#open-access"),p(F,"target","_blank"),p(F,"class","llines"),p(K,"class","text-base"),p(A,"class","text-content"),p(c,"class","title"),p(i,"class","left"),p(V,"class","right svelte-1ktfhpd")},m(T,X){M(T,t,X),M(T,r,X),de(n,r,null),w(r,s),w(r,i),w(i,o),w(i,f),w(i,c),w(c,_),w(_,I),w(_,m),w(_,u),w(u,y),w(c,B),w(c,A),w(A,$),w($,re),w($,H),w($,x),w($,Z),w($,pe),w(A,ie),w(A,K),w(K,le),w(K,se),w(K,ee),w(K,F),w(K,oe),w(i,b),de(v,i,null),w(r,S),w(r,V),de(W,V,null),L=!0},p(T,[X]){(!L||X&1)&&e!==(e="Newberry Library - "+T[0].galleryData.context)&&(Re.title=e);const h={};X&1&&(h.title=T[0].galleryData.context),n.$set(h),(!L||X&1)&&d!==(d=T[0].galleryData.context+"")&&bt(y,d);const D={};X&512&&(D.$$scope={dirty:X,ctx:T}),W.$set(D)},i(T){L||(P(n.$$.fragment,T),P(v.$$.fragment,T),P(W.$$.fragment,T),L=!0)},o(T){R(n.$$.fragment,T),R(v.$$.fragment,T),R(W.$$.fragment,T),L=!1},d(T){T&&(g(t),g(r)),me(n),me(v),me(W)}}}function Jt(l,e,t){let{data:r}=e,n,s;const i={title:`View even more ${r.galleryData.context} at Newberry Digital Collections`,link:r.galleryData.galLink,pixel:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",galRepreImageWidth:300,galRepreImageHeight:400},o=[...r.galleryData.postcards.sort(()=>Math.random()-.5),i];wt(()=>{n=jt({target:document.body}),s=document.querySelectorAll("#images > .image-tile")});function a(f){f.preventDefault(),f.currentTarget!==null&&n.open({intro:"fadeup",items:s,el:f.currentTarget})}return l.$$set=f=>{"data"in f&&t(0,r=f.data)},[r,o,a]}class lr extends Ee{constructor(e){super(),Ce(this,e,Jt,Qt,Ne,{data:0})}}export{lr as component};

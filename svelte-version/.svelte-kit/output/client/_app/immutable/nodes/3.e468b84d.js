import{D as Be,E as je,F as dt,s as Ce,e as ae,i as O,d as g,z as ke,f as k,g as I,h as z,j as p,k as W,G as ft,a as q,c as F,H as Q,x as w,I as Pe,J as j,K as Te,L as pt,M as Ge,N as ut,O as Ke,y as we,P as Re,Q as $e,l as pe,A as Se,m as ge,n as gt,o as _t,B as bt,C as mt,R as wt}from"../chunks/scheduler.b9cf52ea.js";import{n as vt,l as yt,S as Ie,i as De,a as P,g as ve,t as L,c as ye,f as ht,h as Ae,b as ue,d as me,m as he,e as de}from"../chunks/index.8f3dcde5.js";import{S as kt,F as At,M as It,e as Ze,i as ze}from"../chunks/index.dd38e43c.js";import{w as He}from"../chunks/index.800adaad.js";import{b as Ve}from"../chunks/paths.f27a9b1e.js";function Ye(s){const e=s-1;return e*e*e+1}function _e(s,{delay:e=0,duration:t=400,easing:r=Ye,x:n=0,y:l=0,opacity:i=0}={}){const a=getComputedStyle(s),o=+a.opacity,c=a.transform==="none"?"":a.transform,f=o*(1-i),[b,D]=Be(n),[T,d]=Be(l);return{delay:e,duration:t,easing:r,css:(u,h)=>`
			transform: ${c} translate(${(1-u)*b}${D}, ${(1-u)*T}${d});
			opacity: ${o-f*h}`}}function Je(s){return Object.prototype.toString.call(s)==="[object Date]"}function Oe(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const r=e.map((n,l)=>Oe(s[l],n));return n=>r.map(l=>l(n))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(Je(s)&&Je(e)){s=s.getTime(),e=e.getTime();const l=e-s;return i=>new Date(s+i*l)}const r=Object.keys(e),n={};return r.forEach(l=>{n[l]=Oe(s[l],e[l])}),l=>{const i={};return r.forEach(a=>{i[a]=n[a](l)}),i}}if(t==="number"){const r=e-s;return n=>s+n*r}throw new Error(`Cannot interpolate ${t} values`)}function Qe(s,e={}){const t=He(s);let r,n=s;function l(i,a){if(s==null)return t.set(s=i),Promise.resolve();n=i;let o=r,c=!1,{delay:f=0,duration:b=400,easing:D=dt,interpolate:T=Oe}=je(je({},e),a);if(b===0)return o&&(o.abort(),o=null),t.set(s=n),Promise.resolve();const d=vt()+f;let u;return r=yt(h=>{if(h<d)return!0;c||(u=T(s,i),typeof b=="function"&&(b=b(s,i)),c=!0),o&&(o.abort(),o=null);const v=h-d;return v>b?(t.set(s=i),!1):(t.set(s=u(D(v/b))),!0)}),r.promise}return{set:l,update:(i,a)=>l(i(n,s),a),subscribe:t.subscribe}}const Ne=He(0);var ct;const Dt=(ct=globalThis.matchMedia)==null?void 0:ct.call(globalThis,"(prefers-reduced-motion: reduce)").matches,Me=s=>({easing:Ye,duration:Dt?0:s});function xe(s){let e,t,r,n,l=!s[2]&&et();return{c(){e=k("div"),l&&l.c(),this.h()},l(i){e=I(i,"DIV",{class:!0,style:!0});var a=z(e);l&&l.l(a),a.forEach(g),this.h()},h(){p(e,"class","bp-load"),W(e,"background-image","url("+s[0]+")")},m(i,a){O(i,e,a),l&&l.m(e,null),n=!0},p(i,a){s=i,s[2]?l&&(l.d(1),l=null):l||(l=et(),l.c(),l.m(e,null)),(!n||a&1)&&W(e,"background-image","url("+s[0]+")")},i(i){n||(i&&ft(()=>{n&&(r&&r.end(1),t=ht(e,_e,{duration:s[1]?400:0}),t.start())}),n=!0)},o(i){t&&t.invalidate(),i&&(r=Ae(e,_e,{duration:480})),n=!1},d(i){i&&g(e),l&&l.d(),i&&r&&r.end()}}}function et(s){let e,t,r;return{c(){e=k("span"),t=q(),r=k("span"),this.h()},l(n){e=I(n,"SPAN",{class:!0}),z(e).forEach(g),t=F(n),r=I(n,"SPAN",{class:!0}),z(r).forEach(g),this.h()},h(){p(e,"class","bp-bar"),p(r,"class","bp-o")},m(n,l){O(n,e,l),O(n,t,l),O(n,r,l)},d(n){n&&(g(e),g(t),g(r))}}}function Et(s){let e,t=(!s[1]||s[2])&&xe(s);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,n){t&&t.m(r,n),O(r,e,n)},p(r,[n]){!r[1]||r[2]?t?(t.p(r,n),n&6&&P(t,1)):(t=xe(r),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(ve(),L(t,1,1,()=>{t=null}),ye())},i(r){P(t)},o(r){L(t)},d(r){r&&g(e),t&&t.d(r)}}}function Ct(s,e,t){let r;ke(s,Ne,i=>t(2,r=i));let{thumb:n}=e,{loaded:l}=e;return s.$$set=i=>{"thumb"in i&&t(0,n=i.thumb),"loaded"in i&&t(1,l=i.loaded)},[n,l,r]}class Le extends Ie{constructor(e){super(),De(this,e,Ct,Et,Ce,{thumb:0,loaded:1})}}function tt(s){let e,t,r,n,l,i,a;return{c(){e=k("img"),this.h()},l(o){e=I(o,"IMG",{srcset:!0,sizes:!0,alt:!0}),this.h()},h(){pt(e,t=s[7].img)||p(e,"srcset",t),p(e,"sizes",r=s[8].sizes||`${s[1]}px`),p(e,"alt",s[7].alt)},m(o,c){O(o,e,c),l=!0,i||(a=j(e,"error",s[26]),i=!0)},p(o,c){(!l||c[0]&2&&r!==(r=o[8].sizes||`${o[1]}px`))&&p(e,"sizes",r)},i(o){l||(n&&n.end(1),l=!0)},o(o){n=Ae(e,_e,{}),l=!1},d(o){o&&g(e),o&&n&&n.end(),i=!1,a()}}}function rt(s){let e,t;return e=new Le({props:{thumb:s[7].thumb,loaded:s[2]}}),{c(){ue(e.$$.fragment)},l(r){me(e.$$.fragment,r)},m(r,n){he(e,r,n),t=!0},p(r,n){const l={};n[0]&4&&(l.loaded=r[2]),e.$set(l)},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Tt(s){let e,t,r,n,l,i,a=s[2]&&tt(s),o=s[3]&&rt(s);return{c(){e=k("div"),t=k("div"),a&&a.c(),r=q(),o&&o.c(),this.h()},l(c){e=I(c,"DIV",{class:!0});var f=z(e);t=I(f,"DIV",{class:!0,style:!0});var b=z(t);a&&a.l(b),r=F(b),o&&o.l(b),b.forEach(g),f.forEach(g),this.h()},h(){p(t,"class","bp-img"),W(t,"background-image","url("+s[7].thumb+")"),W(t,"width",s[0][0]+"px"),W(t,"height",s[0][1]+"px"),W(t,"transform","translate3d("+(s[0][0]/-2+s[6][0])+"px, "+(s[0][1]/-2+s[6][1])+"px, 0)"),Q(t,"bp-drag",s[4]),Q(t,"bp-canzoom",s[11]>1&&s[0][0]<s[12]),p(e,"class","bp-img-wrap"),Q(e,"bp-close",s[5])},m(c,f){O(c,e,f),w(e,t),a&&a.m(t,null),w(t,r),o&&o.m(t,null),n=!0,l||(i=[Pe(s[20].call(null,t)),j(e,"wheel",s[15]),j(e,"pointerdown",s[16]),j(e,"pointermove",s[17]),j(e,"pointerup",s[19]),j(e,"pointercancel",s[18])],l=!0)},p(c,f){c[2]?a?(a.p(c,f),f[0]&4&&P(a,1)):(a=tt(c),a.c(),P(a,1),a.m(t,r)):a&&(ve(),L(a,1,1,()=>{a=null}),ye()),c[3]?o?(o.p(c,f),f[0]&8&&P(o,1)):(o=rt(c),o.c(),P(o,1),o.m(t,null)):o&&(ve(),L(o,1,1,()=>{o=null}),ye()),(!n||f[0]&1)&&W(t,"width",c[0][0]+"px"),(!n||f[0]&1)&&W(t,"height",c[0][1]+"px"),(!n||f[0]&65)&&W(t,"transform","translate3d("+(c[0][0]/-2+c[6][0])+"px, "+(c[0][1]/-2+c[6][1])+"px, 0)"),(!n||f[0]&16)&&Q(t,"bp-drag",c[4]),(!n||f[0]&6145)&&Q(t,"bp-canzoom",c[11]>1&&c[0][0]<c[12]),(!n||f[0]&32)&&Q(e,"bp-close",c[5])},i(c){n||(P(a),P(o),n=!0)},o(c){L(a),L(o),n=!1},d(c){c&&g(e),a&&a.d(),o&&o.d(),l=!1,Te(i)}}}function St(s,e,t){let r,n,l,i;ke(s,Ne,m=>t(25,l=m));let{props:a}=e,{smallScreen:o}=e,{activeItem:c,opts:f,prev:b,next:D,zoomed:T,container:d}=a;ke(s,T,m=>t(24,r=m));let u=c.maxZoom||f.maxZoom||10,h=a.calculateDimensions(c),v=h[0],R,E,G,te,x=0,V,re,le,ie,K,oe,be;const ne=+c.width,ce=[],X=new Map,se=Qe(h,Me(400));ke(s,se,m=>t(0,i=m));const Z=Qe([0,0],Me(400));ke(s,Z,m=>t(6,n=m));const fe=([m,S],$=i)=>{const A=($[0]-d.w)/2,Y=($[1]-d.h)/2;return A<0?m=0:m>A?o?(m=V?A+(m-A)/10:A,m>A+20&&t(4,V=b())):m=A:m<-A&&(o?(m=V?-A-(-A-m)/10:-A,m<-A-20&&t(4,V=D())):m=-A),Y<0?S=0:S>Y?S=Y:S<-Y&&(S=-Y),[m,S]};function J(m=u,S){if(l)return;const $=h[0]*u;let A=i[0]+i[0]*m,Y=i[1]+i[1]*m;if(m>0)A>$&&(A=$,Y=h[1]*u),A>ne&&(A=ne,Y=+c.height);else if(A<h[0])return se.set(h),Z.set([0,0]);let{x:ee,y:Ee,width:qe,height:Fe}=te.getBoundingClientRect();const Ue=S?S.clientX-ee-qe/2:0,We=S?S.clientY-Ee-Fe/2:0;ee=-Ue*(A/qe)+Ue,Ee=-We*(Y/Fe)+We;const Xe=[A,Y];se.set(Xe).then(()=>{t(1,v=Math.round(Math.max(v,A)))}),Z.set(fe([n[0]+ee,n[1]+Ee],Xe))}Object.defineProperty(c,"zoom",{configurable:!0,get:()=>r,set:m=>J(m?u:-u)});const _=m=>{f.inline&&!r||(m.preventDefault(),J(m.deltaY/-300,m))},y=m=>{m.button!==2&&(m.preventDefault(),t(4,V=!0),X.set(m.pointerId,m),le=m.clientX,ie=m.clientY,K=n[0],oe=n[1])},C=m=>{var A;if(X.size>1)return t(4,V=!1),((A=f.noPinch)==null?void 0:A.call(f,d.el))||H(m);if(!V)return;let S=m.clientX,$=m.clientY;re=ce.push({x:S,y:$})>2,S=S-le,$=$-ie,r||($<-90&&t(4,V=!f.noClose&&a.close()),Math.abs($)<30&&(S>40&&t(4,V=b()),S<-40&&t(4,V=D()))),r&&re&&!l&&Z.set(fe([K+S,oe+$]),{duration:0})},H=m=>{const[S,$]=X.set(m.pointerId,m).values(),A=S.clientX-$.clientX,Y=S.clientY-$.clientY,ee=Math.hypot(A,Y);G=G||{clientX:(S.clientX+$.clientX)/2,clientY:(S.clientY+$.clientY)/2},J(((x||ee)-ee)/-35,G),x=ee},M=m=>X.delete(m.pointerId);function N(m){var S;if(M(m),G&&(t(4,V=x=0),G=X.size?G:null),!!V){if(t(4,V=!1),m.target===this&&!f.noClose)return a.close();if(re){const[$,A,Y]=ce.slice(-3),ee=A.x-Y.x,Ee=A.y-Y.y;Math.hypot(ee,Ee)>5&&Z.set(fe([n[0]-($.x-Y.x)*5,n[1]-($.y-Y.y)*5]))}else(S=f.onImageClick)!=null&&S.call(f,d.el,c)||J(r?-u:u,m);re=!1,ce.length=0}}const U=m=>{te=m,a.setResizeFunc(()=>{t(23,h=a.calculateDimensions(c)),(f.inline||!o)&&(se.set(h),Z.set([0,0]))}),a.loadImage(c).then(()=>{t(2,R=!0),a.preloadNext()}),setTimeout(()=>{t(3,E=!R)},250)},B=m=>{var S;return(S=f.onError)==null?void 0:S.call(f,d,c,m)};return s.$$set=m=>{"props"in m&&t(21,a=m.props),"smallScreen"in m&&t(22,o=m.smallScreen)},s.$$.update=()=>{if(s.$$.dirty[0]&8388609&&T.set(i[0]-10>h[0]),s.$$.dirty[0]&58720256&&l&&r&&!f.intro){const m=Me(480);Z.set([0,0],m),se.set(h,m),t(5,be=!0)}},[i,v,R,E,V,be,n,c,f,T,d,u,ne,se,Z,_,y,C,M,N,U,a,o,h,r,l,B]}class zt extends Ie{constructor(e){super(),De(this,e,St,Tt,Ce,{props:21,smallScreen:22},null,[-1,-1])}}function Nt(s){let e,t,r,n,l,i,a;return n=new Le({props:{thumb:s[2].thumb,loaded:s[0]}}),{c(){e=k("div"),t=k("iframe"),r=q(),ue(n.$$.fragment),this.h()},l(o){e=I(o,"DIV",{class:!0,style:!0});var c=z(e);t=I(c,"IFRAME",{allow:!0,title:!0}),z(t).forEach(g),r=F(c),me(n.$$.fragment,c),c.forEach(g),this.h()},h(){p(t,"allow","autoplay; fullscreen"),p(t,"title",s[2].title),p(e,"class","bp-if"),W(e,"width",s[1][0]+"px"),W(e,"height",s[1][1]+"px")},m(o,c){O(o,e,c),w(e,t),w(e,r),he(n,e,null),l=!0,i||(a=[Pe(s[3].call(null,t)),j(t,"load",s[5])],i=!0)},p(o,[c]){const f={};c&1&&(f.loaded=o[0]),n.$set(f),(!l||c&2)&&W(e,"width",o[1][0]+"px"),(!l||c&2)&&W(e,"height",o[1][1]+"px")},i(o){l||(P(n.$$.fragment,o),l=!0)},o(o){L(n.$$.fragment,o),l=!1},d(o){o&&g(e),de(n),i=!1,Te(a)}}}function Pt(s,e,t){let{props:r}=e,n,l;const{activeItem:i}=r,a=()=>t(1,l=r.calculateDimensions(i));a(),r.setResizeFunc(a);const o=f=>f.src=i.iframe,c=()=>t(0,n=!0);return s.$$set=f=>{"props"in f&&t(4,r=f.props)},[n,l,i,o,r,c]}class Vt extends Ie{constructor(e){super(),De(this,e,Pt,Nt,Ce,{props:4})}}function Mt(s){let e,t,r,n,l;return t=new Le({props:{thumb:s[2].thumb,loaded:s[0]}}),{c(){e=k("div"),ue(t.$$.fragment),this.h()},l(i){e=I(i,"DIV",{class:!0,style:!0});var a=z(e);me(t.$$.fragment,a),a.forEach(g),this.h()},h(){p(e,"class","bp-vid"),W(e,"width",s[1][0]+"px"),W(e,"height",s[1][1]+"px"),W(e,"background-image","url("+s[2].thumb+")")},m(i,a){O(i,e,a),he(t,e,null),r=!0,n||(l=Pe(s[3].call(null,e)),n=!0)},p(i,[a]){const o={};a&1&&(o.loaded=i[0]),t.$set(o),(!r||a&2)&&W(e,"width",i[1][0]+"px"),(!r||a&2)&&W(e,"height",i[1][1]+"px")},i(i){r||(P(t.$$.fragment,i),r=!0)},o(i){L(t.$$.fragment,i),r=!1},d(i){i&&g(e),de(t),n=!1,l()}}}function Ot(s,e,t){let{props:r}=e,n,l;const{activeItem:i,opts:a,container:o}=r,c=()=>t(1,l=r.calculateDimensions(i));c(),r.setResizeFunc(c);const f=(D,T)=>{for(const d in T)p(D,d,T[d])},b=D=>{let T;const d=(u,h)=>{var v;Array.isArray(h)||(h=JSON.parse(h));for(const R of h){T||(T=k((v=R.type)!=null&&v.includes("audio")?"audio":"video"),f(T,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}));const E=k(u);f(E,R),u=="source"&&j(E,"error",G=>{var te;return(te=a.onError)==null?void 0:te.call(a,o,i,G)}),Ge(T,E)}};d("source",i.sources),d("track",i.tracks||[]),j(T,"canplay",()=>t(0,n=!0)),Ge(D,T)};return s.$$set=D=>{"props"in D&&t(4,r=D.props)},[n,l,i,b,r]}class Rt extends Ie{constructor(e){super(),De(this,e,Ot,Mt,Ce,{props:4})}}function nt(s){let e,t,r,n,l=s[6].i,i,a,o,c,f,b,D,T,d=lt(s),u=s[0].length>1&&it(s);return{c(){e=k("div"),t=k("div"),n=q(),d.c(),i=q(),a=k("div"),o=k("button"),c=q(),u&&u.c(),this.h()},l(h){e=I(h,"DIV",{class:!0});var v=z(e);t=I(v,"DIV",{}),z(t).forEach(g),n=F(v),d.l(v),i=F(v),a=I(v,"DIV",{class:!0});var R=z(a);o=I(R,"BUTTON",{class:!0,title:!0,"aria-label":!0}),z(o).forEach(g),c=F(R),u&&u.l(R),R.forEach(g),v.forEach(g),this.h()},h(){p(o,"class","bp-x"),p(o,"title","Close"),p(o,"aria-label","Close"),p(a,"class","bp-controls"),p(e,"class","bp-wrap"),Q(e,"bp-zoomed",s[10]),Q(e,"bp-inline",s[8]),Q(e,"bp-small",s[7]),Q(e,"bp-noclose",s[5].noClose)},m(h,v){O(h,e,v),w(e,t),w(e,n),d.m(e,null),w(e,i),w(e,a),w(a,o),w(a,c),u&&u.m(a,null),b=!0,D||(T=[j(o,"click",s[1]),Pe(s[14].call(null,e))],D=!0)},p(h,v){v[0]&64&&ut(l,l=h[6].i)?(ve(),L(d,1,1,we),ye(),d=lt(h),d.c(),P(d,1),d.m(e,i)):d.p(h,v),h[0].length>1?u?u.p(h,v):(u=it(h),u.c(),u.m(a,null)):u&&(u.d(1),u=null),(!b||v[0]&1024)&&Q(e,"bp-zoomed",h[10]),(!b||v[0]&256)&&Q(e,"bp-inline",h[8]),(!b||v[0]&128)&&Q(e,"bp-small",h[7]),(!b||v[0]&32)&&Q(e,"bp-noclose",h[5].noClose)},i(h){b||(r&&r.end(1),P(d),f&&f.end(1),b=!0)},o(h){h&&(r=Ae(t,_e,{duration:480})),L(d),h&&(f=Ae(a,_e,{})),b=!1},d(h){h&&g(e),h&&r&&r.end(),d.d(h),u&&u.d(),h&&f&&f.end(),D=!1,Te(T)}}}function $t(s){let e,t,r=s[6].html+"";return{c(){e=k("div"),t=new Re(!1),this.h()},l(n){e=I(n,"DIV",{class:!0});var l=z(e);t=$e(l,!1),l.forEach(g),this.h()},h(){t.a=null,p(e,"class","bp-html")},m(n,l){O(n,e,l),t.m(r,e)},p(n,l){l[0]&64&&r!==(r=n[6].html+"")&&t.p(r)},i:we,o:we,d(n){n&&g(e)}}}function Ht(s){let e,t;return e=new Vt({props:{props:s[13]()}}),{c(){ue(e.$$.fragment)},l(r){me(e.$$.fragment,r)},m(r,n){he(e,r,n),t=!0},p:we,i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Yt(s){let e,t;return e=new Rt({props:{props:s[13]()}}),{c(){ue(e.$$.fragment)},l(r){me(e.$$.fragment,r)},m(r,n){he(e,r,n),t=!0},p:we,i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function Lt(s){let e,t;return e=new zt({props:{props:s[13](),smallScreen:s[7]}}),{c(){ue(e.$$.fragment)},l(r){me(e.$$.fragment,r)},m(r,n){he(e,r,n),t=!0},p(r,n){const l={};n[0]&128&&(l.smallScreen=r[7]),e.$set(l)},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function st(s){let e,t,r=s[6].caption+"",n,l;return{c(){e=k("div"),t=new Re(!1),this.h()},l(i){e=I(i,"DIV",{class:!0});var a=z(e);t=$e(a,!1),a.forEach(g),this.h()},h(){t.a=null,p(e,"class","bp-cap")},m(i,a){O(i,e,a),t.m(r,e),l=!0},p(i,a){(!l||a[0]&64)&&r!==(r=i[6].caption+"")&&t.p(r)},i(i){l||(n&&n.end(1),l=!0)},o(i){n=Ae(e,_e,{duration:200}),l=!1},d(i){i&&g(e),i&&n&&n.end()}}}function lt(s){let e,t,r,n,l,i,a,o,c,f;const b=[Lt,Yt,Ht,$t],D=[];function T(u,h){return u[6].img?0:u[6].sources?1:u[6].iframe?2:3}t=T(s),r=D[t]=b[t](s);let d=s[6].caption&&st(s);return{c(){e=k("div"),r.c(),i=q(),d&&d.c(),a=ae(),this.h()},l(u){e=I(u,"DIV",{class:!0});var h=z(e);r.l(h),h.forEach(g),i=F(u),d&&d.l(u),a=ae(),this.h()},h(){p(e,"class","bp-inner")},m(u,h){O(u,e,h),D[t].m(e,null),O(u,i,h),d&&d.m(u,h),O(u,a,h),o=!0,c||(f=[j(e,"pointerdown",s[21]),j(e,"pointerup",s[22])],c=!0)},p(u,h){let v=t;t=T(u),t===v?D[t].p(u,h):(ve(),L(D[v],1,1,()=>{D[v]=null}),ye(),r=D[t],r?r.p(u,h):(r=D[t]=b[t](u),r.c()),P(r,1),r.m(e,null)),u[6].caption?d?(d.p(u,h),h[0]&64&&P(d,1)):(d=st(u),d.c(),P(d,1),d.m(a.parentNode,a)):d&&(ve(),L(d,1,1,()=>{d=null}),ye())},i(u){o||(P(r),ft(()=>{o&&(l&&l.end(1),n=ht(e,s[12],!0),n.start())}),P(d),o=!0)},o(u){L(r),n&&n.invalidate(),l=Ae(e,s[12],!1),L(d),o=!1},d(u){u&&(g(e),g(i),g(a)),D[t].d(),u&&l&&l.end(),d&&d.d(u),c=!1,Te(f)}}}function it(s){let e,t,r=`${s[4]+1} / ${s[0].length}`,n,l,i,a,o,c;return{c(){e=k("div"),t=new Re(!1),n=q(),l=k("button"),i=q(),a=k("button"),this.h()},l(f){e=I(f,"DIV",{class:!0});var b=z(e);t=$e(b,!1),b.forEach(g),n=F(f),l=I(f,"BUTTON",{class:!0,title:!0,"aria-label":!0}),z(l).forEach(g),i=F(f),a=I(f,"BUTTON",{class:!0,title:!0,"aria-label":!0}),z(a).forEach(g),this.h()},h(){t.a=null,p(e,"class","bp-count"),p(l,"class","bp-prev"),p(l,"title","Previous"),p(l,"aria-label","Previous"),p(a,"class","bp-next"),p(a,"title","Next"),p(a,"aria-label","Next")},m(f,b){O(f,e,b),t.m(r,e),O(f,n,b),O(f,l,b),O(f,i,b),O(f,a,b),o||(c=[j(l,"click",s[2]),j(a,"click",s[3])],o=!0)},p(f,b){b[0]&17&&r!==(r=`${f[4]+1} / ${f[0].length}`)&&t.p(r)},d(f){f&&(g(e),g(n),g(l),g(i),g(a)),o=!1,Te(c)}}}function qt(s){let e,t,r=s[0]&&nt(s);return{c(){r&&r.c(),e=ae()},l(n){r&&r.l(n),e=ae()},m(n,l){r&&r.m(n,l),O(n,e,l),t=!0},p(n,l){n[0]?r?(r.p(n,l),l[0]&1&&P(r,1)):(r=nt(n),r.c(),P(r,1),r.m(e.parentNode,e)):r&&(ve(),L(r,1,1,()=>{r=null}),ye())},i(n){t||(P(r),t=!0)},o(n){L(r),t=!1},d(n){n&&g(e),r&&r.d(n)}}}function Ft(s,e,t){let r,{items:n=void 0}=e,{target:l=void 0}=e;const i=document.documentElement;let a,o,c,f,b,D,T,d,u,h,v;const R=_=>v=_,E={},G=He(0);ke(s,G,_=>t(10,r=_));const te=_=>{t(5,o=_),t(8,D=o.inline);const y=o.items;!D&&i.scrollHeight>i.clientHeight&&i.classList.add("bp-lock"),f=document.activeElement,t(20,E.w=l.offsetWidth,E),t(20,E.h=l===document.body?window.innerHeight:l.clientHeight,E),t(7,b=E.w<769),t(4,a=o.position||0),Array.isArray(y)?t(0,n=y.map((C,H)=>(o.el&&o.el===C.element&&t(4,a=H),{i:H,...C}))):t(0,n=(y.length?[...y]:[y]).map((C,H)=>(o.el===C&&t(4,a=H),{element:C,i:H,...C.dataset})))},x=()=>{var _;(_=o.onClose)==null||_.call(o,E.el,u),Ne.set(!0),t(0,n=null),f==null||f.focus({preventScroll:!0})},V=()=>le(a-1),re=()=>le(a+1),le=_=>{T=_-a,t(4,a=ie(_))},ie=_=>(_+n.length)%n.length,K=_=>{const{key:y,shiftKey:C}=_;if(y==="Escape")!o.noClose&&x();else if(y==="ArrowRight")re();else if(y==="ArrowLeft")V();else if(y==="Tab"){const{activeElement:H}=document;if(C||!H.controls){_.preventDefault();const{focusWrap:M=E.el}=o,N=[...M.querySelectorAll("*")].filter(B=>B.tabIndex>=0);let U=N.indexOf(H);U+=N.length+(C?-1:1),N[U%N.length].focus()}}},oe=({width:_=1920,height:y=1080})=>{const{scale:C=.99}=o,H=Math.min(1,E.w/_*C,E.h/y*C);return[Math.round(_*H),Math.round(y*H)]},be=()=>{if(n){const _=n[ie(a+1)],y=n[ie(a-1)];!_.preload&&ne(_),!y.preload&&ne(y)}},ne=_=>{if(_.img){const y=k("img");return y.sizes=o.sizes||`${oe(_)[0]}px`,y.srcset=_.img,_.preload=!0,y.decode().catch(C=>{})}},ce=(_,y)=>!c||!n?(t(18,c=y),o.intro?_e(_,{y:y?10:-10}):X(_)):_e(_,{x:(T>0?20:-20)*(y?1:-1),duration:250}),X=_=>{let y;if(h){const B=_.firstChild.firstChild;y=[B.clientWidth,B.clientHeight]}else y=oe(u);const C=(u.element||f).getBoundingClientRect(),H=C.left-(E.w-C.width)/2,M=C.top-(E.h-C.height)/2,N=C.width/y[0],U=C.height/y[1];return{duration:480,easing:Ye,css:(B,m)=>`transform:translate3d(${H*m}px, ${M*m}px, 0) scale3d(${N+B*(1-N)}, ${U+B*(1-U)}, 1)`}},se=()=>({activeItem:u,calculateDimensions:oe,loadImage:ne,preloadNext:be,opts:o,prev:V,next:re,close:x,setResizeFunc:R,zoomed:G,container:E}),Z=_=>{var M;t(20,E.el=_,E);let y,C;(M=o.onOpen)==null||M.call(o,E.el,u),D||(y=j(window,"keydown",K));const H=new ResizeObserver(N=>{var U;C&&(t(20,E.w=N[0].contentRect.width,E),t(20,E.h=N[0].contentRect.height,E),t(7,b=E.w<769),v==null||v(),(U=o.onResize)==null||U.call(o,E.el,u)),C=!0});return H.observe(_),{destroy(){var N;H.disconnect(),y==null||y(),Ne.set(!1),i.classList.remove("bp-lock"),(N=o.onClosed)==null||N.call(o)}}},fe=_=>t(9,d=_.target),J=function(_){_.button!==2&&_.target===this&&d===this&&!o.noClose&&x()};return s.$$set=_=>{"items"in _&&t(0,n=_.items),"target"in _&&t(15,l=_.target)},s.$$.update=()=>{var _;s.$$.dirty[0]&1835121&&n&&(t(6,u=n[a]),t(19,h=u.hasOwnProperty("html")),c&&(h&&R(null),(_=o.onUpdate)==null||_.call(o,E.el,u)))},[n,x,V,re,a,o,u,b,D,d,r,G,ce,se,Z,l,te,le,c,h,E,fe,J]}class Ut extends Ie{constructor(e){super(),De(this,e,Ft,qt,ut,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}set items(e){this.$$set({items:e}),Ke()}get target(){return this.$$.ctx[15]}set target(e){this.$$set({target:e}),Ke()}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}function Wt(s){return new Ut({...s,props:s})}function ot(s,e,t){const r=s.slice();return r[6]=e[t],r}function Xt(s){let e,t,r,n,l,i;return{c(){e=k("a"),t=k("img"),n=q(),this.h()},l(a){e=I(a,"A",{class:!0,href:!0,"data-img":!0,"data-thumb":!0,"data-height":!0,"data-width":!0,"data-alt":!0,"data-caption":!0});var o=z(e);t=I(o,"IMG",{src:!0,width:!0,alt:!0}),n=F(o),o.forEach(g),this.h()},h(){mt(t.src,r=ze(s[6].repImage,"thumb"))||p(t,"src",r),p(t,"width","300"),p(t,"alt",s[6].title),p(e,"class",wt(`tile ${s[6].pixel?"":" image-tile"}`)+" svelte-1ktfhpd"),p(e,"href",ze(s[6].repImage)),p(e,"data-img",ze(s[6].repImage)),p(e,"data-thumb",ze(s[6].repImage,"thumb")),p(e,"data-height",s[6].repImageHeight),p(e,"data-width",s[6].repImageWidth),p(e,"data-alt",s[6].title),p(e,"data-caption","<a href='https://collections.newberry.org/asset-management/"+s[6].mei+"' target='_blank' class='sansie'>"+s[6].title+".</a>")},m(a,o){O(a,e,o),w(e,t),w(e,n),l||(i=j(e,"click",s[2]),l=!0)},p:we,d(a){a&&g(e),l=!1,i()}}}function Bt(s){let e,t,r,n,l,i=s[6].title+"",a,o;return{c(){e=k("a"),t=k("img"),n=q(),l=k("h3"),a=pe(i),o=q(),this.h()},l(c){e=I(c,"A",{href:!0,class:!0,target:!0});var f=z(e);t=I(f,"IMG",{src:!0,alt:!0,height:!0,width:!0}),n=F(f),l=I(f,"H3",{});var b=z(l);a=ge(b,i),b.forEach(g),o=F(f),f.forEach(g),this.h()},h(){mt(t.src,r=s[6].pixel)||p(t,"src",r),p(t,"alt","a transparent pixel used to constrain the tile shape"),p(t,"height","400"),p(t,"width","300"),p(e,"href",s[6].link),p(e,"class","noimg"),p(e,"target","_blank")},m(c,f){O(c,e,f),w(e,t),w(e,n),w(e,l),w(l,a),w(e,o)},p:we,d(c){c&&g(e)}}}function at(s){let e;function t(l,i){return l[6].pixel?Bt:Xt}let n=t(s)(s);return{c(){n.c(),e=ae()},l(l){n.l(l),e=ae()},m(l,i){n.m(l,i),O(l,e,i)},p(l,i){n.p(l,i)},d(l){l&&g(e),n.d(l)}}}function jt(s){let e,t=Ze(s[1]),r=[];for(let n=0;n<t.length;n+=1)r[n]=at(ot(s,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ae()},l(n){for(let l=0;l<r.length;l+=1)r[l].l(n);e=ae()},m(n,l){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(n,l);O(n,e,l)},p(n,l){if(l&6){t=Ze(n[1]);let i;for(i=0;i<t.length;i+=1){const a=ot(n,t,i);r[i]?r[i].p(a,l):(r[i]=at(a),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(n){n&&g(e),bt(r,n)}}}function Gt(s){let e,t,r,n,l,i=`<a href="${Ve}/"><img class="biggo" src="${Ve}/NewberryLogo.png" alt="Logo for the Newberry Library" height="60" width="300"/> <img class="smallo" src="${Ve}/NLogo.png" alt="Logo for the Newberry Library" height="60" width="60"/></a>`,a,o,c,f,b="Free to Use and Reuse:",D,T,d=s[0].galleryData.context+"",u,h,v,R,E,G=" ",te,x,V,re="Postcard Gallery",le,ie,K,oe,be=" ",ne,ce,X,se="Open Access Policy",Z,fe,J,_,y,C,H;return t=new kt({props:{title:s[0].galleryData.context}}),J=new At({}),C=new It({props:{$$slots:{default:[jt]},$$scope:{ctx:s}}}),{c(){e=k("main"),ue(t.$$.fragment),r=q(),n=k("div"),l=k("div"),l.innerHTML=i,a=q(),o=k("header"),c=k("section"),f=k("h3"),f.textContent=b,D=q(),T=k("h1"),u=pe(d),h=q(),v=k("aside"),R=k("p"),E=pe(`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),te=pe(G),x=q(),V=k("a"),V.textContent=re,le=pe("."),ie=q(),K=k("p"),oe=pe(`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),ne=pe(be),ce=q(),X=k("a"),X.textContent=se,Z=pe(`
                    .`),fe=q(),ue(J.$$.fragment),_=q(),y=k("div"),ue(C.$$.fragment),this.h()},l(M){e=I(M,"MAIN",{});var N=z(e);me(t.$$.fragment,N),r=F(N),n=I(N,"DIV",{class:!0});var U=z(n);l=I(U,"DIV",{class:!0,"data-svelte-h":!0}),Se(l)!=="svelte-1ckqrq8"&&(l.innerHTML=i),a=F(U),o=I(U,"HEADER",{class:!0});var B=z(o);c=I(B,"SECTION",{});var m=z(c);f=I(m,"H3",{"data-svelte-h":!0}),Se(f)!=="svelte-i0mqc1"&&(f.textContent=b),D=F(m),T=I(m,"H1",{});var S=z(T);u=ge(S,d),S.forEach(g),m.forEach(g),h=F(B),v=I(B,"ASIDE",{class:!0});var $=z(v);R=I($,"P",{class:!0});var A=z(R);E=ge(A,`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),te=ge(A,G),x=F(A),V=I(A,"A",{href:!0,class:!0,"data-svelte-h":!0}),Se(V)!=="svelte-99fxz7"&&(V.textContent=re),le=ge(A,"."),A.forEach(g),ie=F($),K=I($,"P",{class:!0});var Y=z(K);oe=ge(Y,`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),ne=ge(Y,be),ce=F(Y),X=I(Y,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Se(X)!=="svelte-u8amqq"&&(X.textContent=se),Z=ge(Y,`
                    .`),Y.forEach(g),$.forEach(g),B.forEach(g),fe=F(U),me(J.$$.fragment,U),U.forEach(g),_=F(N),y=I(N,"DIV",{class:!0});var ee=z(y);me(C.$$.fragment,ee),ee.forEach(g),N.forEach(g),this.h()},h(){p(l,"class","logo"),p(V,"href","https://digital.newberry.org/postcard-gallery"),p(V,"class","llines"),p(R,"class","text-lg"),p(X,"href","https://www.newberry.org/policies#open-access"),p(X,"target","_blank"),p(X,"class","llines"),p(K,"class","text-base"),p(v,"class","text-content"),p(o,"class","title"),p(n,"class","left"),p(y,"class","right svelte-1ktfhpd")},m(M,N){O(M,e,N),he(t,e,null),w(e,r),w(e,n),w(n,l),w(n,a),w(n,o),w(o,c),w(c,f),w(c,D),w(c,T),w(T,u),w(o,h),w(o,v),w(v,R),w(R,E),w(R,te),w(R,x),w(R,V),w(R,le),w(v,ie),w(v,K),w(K,oe),w(K,ne),w(K,ce),w(K,X),w(K,Z),w(n,fe),he(J,n,null),w(e,_),w(e,y),he(C,y,null),H=!0},p(M,[N]){const U={};N&1&&(U.title=M[0].galleryData.context),t.$set(U),(!H||N&1)&&d!==(d=M[0].galleryData.context+"")&&gt(u,d);const B={};N&512&&(B.$$scope={dirty:N,ctx:M}),C.$set(B)},i(M){H||(P(t.$$.fragment,M),P(J.$$.fragment,M),P(C.$$.fragment,M),H=!0)},o(M){L(t.$$.fragment,M),L(J.$$.fragment,M),L(C.$$.fragment,M),H=!1},d(M){M&&g(e),de(t),de(J),de(C)}}}function Kt(s,e,t){let{data:r}=e,n,l;const i={title:`View even more ${r.galleryData.context} at Newberry Digital Collections`,link:"https://collections.newberry.org/asset-management?WS=SearchResults#/DamView&VBID=2KXJA46IUGL5&PN=1&WS=SearchResults",pixel:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",galRepreImageWidth:300,galRepreImageHeight:400},a=[...r.galleryData.postcards.sort(()=>Math.random()-.5),i];_t(()=>{n=Wt({target:document.body}),l=document.querySelectorAll("#images > .image-tile")});function o(c){c.preventDefault(),c.currentTarget!==null&&n.open({intro:"fadeup",items:l,el:c.currentTarget})}return s.$$set=c=>{"data"in c&&t(0,r=c.data)},[r,a,o]}class tr extends Ie{constructor(e){super(),De(this,e,Kt,Gt,Ce,{data:0})}}export{tr as component};

import{E as je,F as Ge,G as gt,s as $e,a as Y,e as ae,c as q,i as S,d as b,B as De,f as D,g as E,C as Me,j as p,k as F,h as $,H as mt,w as we,I as J,v as w,J as He,K as G,L as Se,M as _t,N as Ze,O as dt,P as Ke,Q as Re,R as Ye,l as be,r as bt,m as ve,n as vt,o as wt,D as kt,u as ht,S as yt}from"../chunks/scheduler.7211d956.js";import{n as It,l as At,S as Ce,i as Te,a as z,g as Ie,t as O,c as Ae,f as Ee,h as pt,b as ue,d as me,m as de,e as he}from"../chunks/index.f475e7b3.js";import{S as Dt,F as Et,M as Ct,e as Qe,i as Je}from"../chunks/index.595524b7.js";import{w as qe}from"../chunks/index.3f193653.js";import{b as Ne}from"../chunks/paths.6e946d8f.js";const Tt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Fe(l){const e=l-1;return e*e*e+1}function ke(l,{delay:e=0,duration:r=400,easing:t=Fe,x:n=0,y:s=0,opacity:i=0}={}){const a=getComputedStyle(l),o=+a.opacity,f=a.transform==="none"?"":a.transform,c=o*(1-i),[d,v]=je(n),[M,g]=je(s);return{delay:e,duration:r,easing:t,css:(u,h)=>`
			transform: ${f} translate(${(1-u)*d}${v}, ${(1-u)*M}${g});
			opacity: ${o-c*h}`}}function xe(l){return Object.prototype.toString.call(l)==="[object Date]"}function Le(l,e){if(l===e||l!==l)return()=>l;const r=typeof l;if(r!==typeof e||Array.isArray(l)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(l)){const t=e.map((n,s)=>Le(l[s],n));return n=>t.map(s=>s(n))}if(r==="object"){if(!l||!e)throw new Error("Object cannot be null");if(xe(l)&&xe(e)){l=l.getTime(),e=e.getTime();const s=e-l;return i=>new Date(l+i*s)}const t=Object.keys(e),n={};return t.forEach(s=>{n[s]=Le(l[s],e[s])}),s=>{const i={};return t.forEach(a=>{i[a]=n[a](s)}),i}}if(r==="number"){const t=e-l;return n=>l+n*t}throw new Error(`Cannot interpolate ${r} values`)}function et(l,e={}){const r=qe(l);let t,n=l;function s(i,a){if(l==null)return r.set(l=i),Promise.resolve();n=i;let o=t,f=!1,{delay:c=0,duration:d=400,easing:v=gt,interpolate:M=Le}=Ge(Ge({},e),a);if(d===0)return o&&(o.abort(),o=null),r.set(l=n),Promise.resolve();const g=It()+c;let u;return t=At(h=>{if(h<g)return!0;f||(u=M(l,i),typeof d=="function"&&(d=d(l,i)),f=!0),o&&(o.abort(),o=null);const y=h-g;return y>d?(r.set(l=i),!1):(r.set(l=u(v(y/d))),!0)}),t.promise}return{set:s,update:(i,a)=>s(i(n,l),a),subscribe:r.subscribe}}const Ve=qe(0);var ut;const zt=(ut=globalThis.matchMedia)==null?void 0:ut.call(globalThis,"(prefers-reduced-motion: reduce)").matches,Pe=l=>({easing:Fe,duration:zt?0:l}),ye=l=>!l.thumb||`url(${l.thumb})`;function tt(l){let e,r='<span class="bp-bar"></span> <span class="bp-o"></span>',t,n;return{c(){e=D("div"),e.innerHTML=r,this.h()},l(s){e=E(s,"DIV",{class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-13r9dh7"&&(e.innerHTML=r),this.h()},h(){p(e,"class","bp-load"),F(e,"background-image",ye(l[0]))},m(s,i){S(s,e,i),n=!0},p(s,i){i&1&&F(e,"background-image",ye(s[0]))},i(s){n||(t&&t.end(1),n=!0)},o(s){s&&(t=Ee(e,ke,{duration:480})),n=!1},d(s){s&&b(e),s&&t&&t.end()}}}function rt(l){let e,r;return{c(){e=D("div"),this.h()},l(t){e=E(t,"DIV",{class:!0}),$(e).forEach(b),this.h()},h(){p(e,"class","bp-load"),F(e,"background-image",ye(l[0]))},m(t,n){S(t,e,n)},p(t,n){n&1&&F(e,"background-image",ye(t[0]))},i(t){r||mt(()=>{r=pt(e,ke,{duration:480}),r.start()})},o:we,d(t){t&&b(e)}}}function Mt(l){let e,r,t=!l[1]&&tt(l),n=l[2]&&rt(l);return{c(){t&&t.c(),e=Y(),n&&n.c(),r=ae()},l(s){t&&t.l(s),e=q(s),n&&n.l(s),r=ae()},m(s,i){t&&t.m(s,i),S(s,e,i),n&&n.m(s,i),S(s,r,i)},p(s,[i]){s[1]?t&&(Ie(),O(t,1,1,()=>{t=null}),Ae()):t?(t.p(s,i),i&2&&z(t,1)):(t=tt(s),t.c(),z(t,1),t.m(e.parentNode,e)),s[2]?n?(n.p(s,i),i&4&&z(n,1)):(n=rt(s),n.c(),z(n,1),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},i(s){z(t),z(n)},o(s){O(t)},d(s){s&&(b(e),b(r)),t&&t.d(s),n&&n.d(s)}}}function Nt(l,e,r){let t;De(l,Ve,i=>r(2,t=i));let{activeItem:n}=e,{loaded:s}=e;return l.$$set=i=>{"activeItem"in i&&r(0,n=i.activeItem),"loaded"in i&&r(1,s=i.loaded)},[n,s,t]}class Be extends Ce{constructor(e){super(),Te(this,e,Nt,Mt,$e,{activeItem:0,loaded:1})}}function nt(l){let e,r,t,n,s,i,a;return{c(){e=D("img"),this.h()},l(o){e=E(o,"IMG",{srcset:!0,sizes:!0,alt:!0}),this.h()},h(){_t(e,r=l[7].img)||p(e,"srcset",r),p(e,"sizes",t=l[8].sizes||`${l[1]}px`),p(e,"alt",l[7].alt)},m(o,f){S(o,e,f),s=!0,i||(a=G(e,"error",l[26]),i=!0)},p(o,f){(!s||f[0]&2&&t!==(t=o[8].sizes||`${o[1]}px`))&&p(e,"sizes",t)},i(o){s||(n&&n.end(1),s=!0)},o(o){n=Ee(e,ke,{}),s=!1},d(o){o&&b(e),o&&n&&n.end(),i=!1,a()}}}function lt(l){let e,r;return e=new Be({props:{activeItem:l[7],loaded:l[2]}}),{c(){ue(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,n){de(e,t,n),r=!0},p(t,n){const s={};n[0]&4&&(s.loaded=t[2]),e.$set(s)},i(t){r||(z(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){he(e,t)}}}function $t(l){let e,r,t,n=`translate3d(${l[0][0]/-2+l[6][0]}px, ${l[0][1]/-2+l[6][1]}px, 0)`,s,i,a,o=l[2]&&nt(l),f=l[3]&&lt(l);return{c(){e=D("div"),r=D("div"),o&&o.c(),t=Y(),f&&f.c(),this.h()},l(c){e=E(c,"DIV",{class:!0});var d=$(e);r=E(d,"DIV",{class:!0,style:!0});var v=$(r);o&&o.l(v),t=q(v),f&&f.l(v),v.forEach(b),d.forEach(b),this.h()},h(){p(r,"class","bp-img"),F(r,"width",l[0][0]+"px"),F(r,"height",l[0][1]+"px"),J(r,"bp-drag",l[4]),J(r,"bp-canzoom",l[11]>1&&l[0][0]<l[12]),F(r,"background-image",ye(l[7])),F(r,"transform",n),p(e,"class","bp-img-wrap"),J(e,"bp-close",l[5])},m(c,d){S(c,e,d),w(e,r),o&&o.m(r,null),w(r,t),f&&f.m(r,null),s=!0,i||(a=[He(l[20].call(null,r)),G(e,"wheel",l[15]),G(e,"pointerdown",l[16]),G(e,"pointermove",l[17]),G(e,"pointerup",l[19]),G(e,"pointercancel",l[18])],i=!0)},p(c,d){c[2]?o?(o.p(c,d),d[0]&4&&z(o,1)):(o=nt(c),o.c(),z(o,1),o.m(r,t)):o&&(Ie(),O(o,1,1,()=>{o=null}),Ae()),c[3]?f?(f.p(c,d),d[0]&8&&z(f,1)):(f=lt(c),f.c(),z(f,1),f.m(r,null)):f&&(Ie(),O(f,1,1,()=>{f=null}),Ae()),(!s||d[0]&1)&&F(r,"width",c[0][0]+"px"),(!s||d[0]&1)&&F(r,"height",c[0][1]+"px"),(!s||d[0]&16)&&J(r,"bp-drag",c[4]),(!s||d[0]&6145)&&J(r,"bp-canzoom",c[11]>1&&c[0][0]<c[12]);const v=d[0]&1;(d[0]&1||v)&&F(r,"background-image",ye(c[7])),(d[0]&65&&n!==(n=`translate3d(${c[0][0]/-2+c[6][0]}px, ${c[0][1]/-2+c[6][1]}px, 0)`)||v)&&F(r,"transform",n),(!s||d[0]&32)&&J(e,"bp-close",c[5])},i(c){s||(z(o),z(f),s=!0)},o(c){O(o),O(f),s=!1},d(c){c&&b(e),o&&o.d(),f&&f.d(),i=!1,Se(a)}}}function St(l,e,r){let t,n,s,i;De(l,Ve,m=>r(25,s=m));let{props:a}=e,{smallScreen:o}=e,{activeItem:f,opts:c,prev:d,next:v,zoomed:M,container:g}=a;De(l,M,m=>r(24,t=m));let u=f.maxZoom||c.maxZoom||10,h=a.calculateDimensions(f),y=h[0],j,I,P,re,ne=0,L,x,Z,ce,pe,ie,K;const le=+f.width,ge=[],se=new Map,ee=et(h,Pe(400));De(l,ee,m=>r(0,i=m));const B=et([0,0],Pe(400));De(l,B,m=>r(6,n=m));const _e=([m,A],H=i)=>{const C=(H[0]-g.w)/2,U=(H[1]-g.h)/2;return C<0?m=0:m>C?o?(m=L?C+(m-C)/10:C,m>C+20&&r(4,L=d())):m=C:m<-C&&(o?(m=L?-C-(-C-m)/10:-C,m<-C-20&&r(4,L=v())):m=-C),U<0?A=0:A>U?A=U:A<-U&&(A=-U),[m,A]};function oe(m=u,A){if(s)return;const H=h[0]*u;let C=i[0]+i[0]*m,U=i[1]+i[1]*m;if(m>0)C>H&&(C=H,U=h[1]*u),C>le&&(C=le,U=+f.height);else if(C<h[0])return ee.set(h),B.set([0,0]);let{x:Q,y:te,width:fe,height:ze}=re.getBoundingClientRect();const Ue=A?A.clientX-Q-fe/2:0,Xe=A?A.clientY-te-ze/2:0;Q=-Ue*(C/fe)+Ue,te=-Xe*(U/ze)+Xe;const We=[C,U];ee.set(We).then(()=>{r(1,y=Math.round(Math.max(y,C)))}),B.set(_e([n[0]+Q,n[1]+te],We))}Object.defineProperty(f,"zoom",{configurable:!0,get:()=>t,set:m=>oe(m?u:-u)});const _=m=>{c.inline&&!t||(m.preventDefault(),oe(m.deltaY/-300,m))},k=m=>{m.button!==2&&(m.preventDefault(),r(4,L=!0),se.set(m.pointerId,m),Z=m.clientX,ce=m.clientY,pe=n[0],ie=n[1])},N=m=>{var C;if(se.size>1)return r(4,L=!1),((C=c.noPinch)==null?void 0:C.call(c,g.el))||V(m);if(!L)return;let A=m.clientX,H=m.clientY;x=ge.push({x:A,y:H})>2,A=A-Z,H=H-ce,t||(H<-90&&r(4,L=!c.noClose&&a.close()),Math.abs(H)<30&&(A>40&&r(4,L=d()),A<-40&&r(4,L=v()))),t&&x&&!s&&B.set(_e([pe+A,ie+H]),{duration:0})},V=m=>{const[A,H]=se.set(m.pointerId,m).values(),C=A.clientX-H.clientX,U=A.clientY-H.clientY,Q=Math.hypot(C,U);P=P||{clientX:(A.clientX+H.clientX)/2,clientY:(A.clientY+H.clientY)/2},oe(((ne||Q)-Q)/-35,P),ne=Q},W=m=>se.delete(m.pointerId);function R(m){var A;if(W(m),P&&(r(4,L=ne=0),P=se.size?P:null),!!L){if(r(4,L=!1),m.target===this&&!c.noClose)return a.close();if(x){const[H,C,U]=ge.slice(-3),Q=C.x-U.x,te=C.y-U.y;Math.hypot(Q,te)>5&&B.set(_e([n[0]-(H.x-U.x)*5,n[1]-(H.y-U.y)*5]))}else(A=c.onImageClick)!=null&&A.call(c,g.el,f)||oe(t?-u:u,m);x=!1,ge.length=0}}const T=m=>{re=m,a.setResizeFunc(()=>{r(23,h=a.calculateDimensions(f)),(c.inline||!o)&&(ee.set(h),B.set([0,0]))}),a.loadImage(f).then(()=>{r(2,j=!0),a.preloadNext()}),setTimeout(()=>{r(3,I=!j)},250)},X=m=>{var A;return(A=c.onError)==null?void 0:A.call(c,g,f,m)};return l.$$set=m=>{"props"in m&&r(21,a=m.props),"smallScreen"in m&&r(22,o=m.smallScreen)},l.$$.update=()=>{if(l.$$.dirty[0]&8388609&&M.set(i[0]-10>h[0]),l.$$.dirty[0]&58720256&&s&&t&&!c.intro){const m=Pe(480);B.set([0,0],m),ee.set(h,m),r(5,K=!0)}},[i,y,j,I,L,K,n,f,c,M,g,u,le,ee,B,_,k,N,W,R,T,a,o,h,t,s,X]}class Vt extends Ce{constructor(e){super(),Te(this,e,St,$t,$e,{props:21,smallScreen:22},null,[-1,-1])}}function Ht(l){let e,r,t,n,s,i,a;return n=new Be({props:{activeItem:l[2],loaded:l[0]}}),{c(){e=D("div"),r=D("iframe"),t=Y(),ue(n.$$.fragment),this.h()},l(o){e=E(o,"DIV",{class:!0,style:!0});var f=$(e);r=E(f,"IFRAME",{allow:!0,title:!0}),$(r).forEach(b),t=q(f),me(n.$$.fragment,f),f.forEach(b),this.h()},h(){p(r,"allow","autoplay; fullscreen"),p(r,"title",l[2].title),p(e,"class","bp-if"),F(e,"width",l[1][0]+"px"),F(e,"height",l[1][1]+"px")},m(o,f){S(o,e,f),w(e,r),w(e,t),de(n,e,null),s=!0,i||(a=[He(l[3].call(null,r)),G(r,"load",l[5])],i=!0)},p(o,[f]){const c={};f&1&&(c.loaded=o[0]),n.$set(c),(!s||f&2)&&F(e,"width",o[1][0]+"px"),(!s||f&2)&&F(e,"height",o[1][1]+"px")},i(o){s||(z(n.$$.fragment,o),s=!0)},o(o){O(n.$$.fragment,o),s=!1},d(o){o&&b(e),he(n),i=!1,Se(a)}}}function Pt(l,e,r){let{props:t}=e,n,s;const{activeItem:i}=t,a=()=>r(1,s=t.calculateDimensions(i));a(),t.setResizeFunc(a);const o=c=>c.src=i.iframe,f=()=>r(0,n=!0);return l.$$set=c=>{"props"in c&&r(4,t=c.props)},[n,s,i,o,t,f]}class Ot extends Ce{constructor(e){super(),Te(this,e,Pt,Ht,$e,{props:4})}}function Lt(l){let e,r,t,n,s;return r=new Be({props:{activeItem:l[2],loaded:l[0]}}),{c(){e=D("div"),ue(r.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var a=$(e);me(r.$$.fragment,a),a.forEach(b),this.h()},h(){p(e,"class","bp-vid"),F(e,"width",l[1][0]+"px"),F(e,"height",l[1][1]+"px"),F(e,"background-image",ye(l[2]))},m(i,a){S(i,e,a),de(r,e,null),t=!0,n||(s=He(l[3].call(null,e)),n=!0)},p(i,[a]){const o={};a&1&&(o.loaded=i[0]),r.$set(o),(!t||a&2)&&F(e,"width",i[1][0]+"px"),(!t||a&2)&&F(e,"height",i[1][1]+"px");const f=a&2;(a&2||f)&&F(e,"background-image",ye(i[2]))},i(i){t||(z(r.$$.fragment,i),t=!0)},o(i){O(r.$$.fragment,i),t=!1},d(i){i&&b(e),he(r),n=!1,s()}}}function Rt(l,e,r){let{props:t}=e,n,s;const{activeItem:i,opts:a,container:o}=t,f=()=>r(1,s=t.calculateDimensions(i));f(),t.setResizeFunc(f);const c=(v,M)=>{for(const g in M)p(v,g,M[g])},d=v=>{let M;const g=(u,h)=>{var y;Array.isArray(h)||(h=JSON.parse(h));for(const j of h){M||(M=D((y=j.type)!=null&&y.includes("audio")?"audio":"video"),c(M,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}));const I=D(u);c(I,j),u=="source"&&G(I,"error",P=>{var re;return(re=a.onError)==null?void 0:re.call(a,o,i,P)}),Ze(M,I)}};g("source",i.sources),g("track",i.tracks||[]),G(M,"canplay",()=>r(0,n=!0)),Ze(v,M)};return l.$$set=v=>{"props"in v&&r(4,t=v.props)},[n,s,i,d,t]}class Yt extends Ce{constructor(e){super(),Te(this,e,Rt,Lt,$e,{props:4})}}function st(l){let e,r,t,n,s=l[6].i,i,a,o,f,c,d,v,M,g=ot(l),u=l[0].length>1&&at(l);return{c(){e=D("div"),r=D("div"),n=Y(),g.c(),i=Y(),a=D("div"),o=D("button"),f=Y(),u&&u.c(),this.h()},l(h){e=E(h,"DIV",{class:!0});var y=$(e);r=E(y,"DIV",{}),$(r).forEach(b),n=q(y),g.l(y),i=q(y),a=E(y,"DIV",{class:!0});var j=$(a);o=E(j,"BUTTON",{class:!0,title:!0,"aria-label":!0}),$(o).forEach(b),f=q(j),u&&u.l(j),j.forEach(b),y.forEach(b),this.h()},h(){p(o,"class","bp-x"),p(o,"title","Close"),p(o,"aria-label","Close"),p(a,"class","bp-controls"),p(e,"class","bp-wrap"),J(e,"bp-zoomed",l[10]),J(e,"bp-inline",l[8]),J(e,"bp-small",l[7]),J(e,"bp-noclose",l[5].noClose)},m(h,y){S(h,e,y),w(e,r),w(e,n),g.m(e,null),w(e,i),w(e,a),w(a,o),w(a,f),u&&u.m(a,null),d=!0,v||(M=[G(o,"click",l[1]),He(l[14].call(null,e))],v=!0)},p(h,y){y[0]&64&&dt(s,s=h[6].i)?(Ie(),O(g,1,1,we),Ae(),g=ot(h),g.c(),z(g,1),g.m(e,i)):g.p(h,y),h[0].length>1?u?u.p(h,y):(u=at(h),u.c(),u.m(a,null)):u&&(u.d(1),u=null),(!d||y[0]&1024)&&J(e,"bp-zoomed",h[10]),(!d||y[0]&256)&&J(e,"bp-inline",h[8]),(!d||y[0]&128)&&J(e,"bp-small",h[7]),(!d||y[0]&32)&&J(e,"bp-noclose",h[5].noClose)},i(h){d||(t&&t.end(1),z(g),c&&c.end(1),d=!0)},o(h){h&&(t=Ee(r,ke,{duration:480})),O(g),h&&(c=Ee(a,ke,{})),d=!1},d(h){h&&b(e),h&&t&&t.end(),g.d(h),u&&u.d(),h&&c&&c.end(),v=!1,Se(M)}}}function qt(l){let e,r,t=(l[6].html??l[6].element.outerHTML)+"";return{c(){e=D("div"),r=new Re(!1),this.h()},l(n){e=E(n,"DIV",{class:!0});var s=$(e);r=Ye(s,!1),s.forEach(b),this.h()},h(){r.a=null,p(e,"class","bp-html")},m(n,s){S(n,e,s),r.m(t,e)},p(n,s){s[0]&64&&t!==(t=(n[6].html??n[6].element.outerHTML)+"")&&r.p(t)},i:we,o:we,d(n){n&&b(e)}}}function Ft(l){let e,r;return e=new Ot({props:{props:l[13]()}}),{c(){ue(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,n){de(e,t,n),r=!0},p:we,i(t){r||(z(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){he(e,t)}}}function Bt(l){let e,r;return e=new Yt({props:{props:l[13]()}}),{c(){ue(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,n){de(e,t,n),r=!0},p:we,i(t){r||(z(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){he(e,t)}}}function Ut(l){let e,r;return e=new Vt({props:{props:l[13](),smallScreen:l[7]}}),{c(){ue(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,n){de(e,t,n),r=!0},p(t,n){const s={};n[0]&128&&(s.smallScreen=t[7]),e.$set(s)},i(t){r||(z(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){he(e,t)}}}function it(l){let e,r,t=l[6].caption+"",n,s;return{c(){e=D("div"),r=new Re(!1),this.h()},l(i){e=E(i,"DIV",{class:!0});var a=$(e);r=Ye(a,!1),a.forEach(b),this.h()},h(){r.a=null,p(e,"class","bp-cap")},m(i,a){S(i,e,a),r.m(t,e),s=!0},p(i,a){(!s||a[0]&64)&&t!==(t=i[6].caption+"")&&r.p(t)},i(i){s||(n&&n.end(1),s=!0)},o(i){n=Ee(e,ke,{duration:200}),s=!1},d(i){i&&b(e),i&&n&&n.end()}}}function ot(l){let e,r,t,n,s,i,a,o,f,c;const d=[Ut,Bt,Ft,qt],v=[];function M(u,h){return u[6].img?0:u[6].sources?1:u[6].iframe?2:3}r=M(l),t=v[r]=d[r](l);let g=l[6].caption&&it(l);return{c(){e=D("div"),t.c(),i=Y(),g&&g.c(),a=ae(),this.h()},l(u){e=E(u,"DIV",{class:!0});var h=$(e);t.l(h),h.forEach(b),i=q(u),g&&g.l(u),a=ae(),this.h()},h(){p(e,"class","bp-inner")},m(u,h){S(u,e,h),v[r].m(e,null),S(u,i,h),g&&g.m(u,h),S(u,a,h),o=!0,f||(c=[G(e,"pointerdown",l[20]),G(e,"pointerup",l[21])],f=!0)},p(u,h){let y=r;r=M(u),r===y?v[r].p(u,h):(Ie(),O(v[y],1,1,()=>{v[y]=null}),Ae(),t=v[r],t?t.p(u,h):(t=v[r]=d[r](u),t.c()),z(t,1),t.m(e,null)),u[6].caption?g?(g.p(u,h),h[0]&64&&z(g,1)):(g=it(u),g.c(),z(g,1),g.m(a.parentNode,a)):g&&(Ie(),O(g,1,1,()=>{g=null}),Ae())},i(u){o||(z(t),mt(()=>{o&&(s&&s.end(1),n=pt(e,l[12],!0),n.start())}),z(g),o=!0)},o(u){O(t),n&&n.invalidate(),s=Ee(e,l[12],!1),O(g),o=!1},d(u){u&&(b(e),b(i),b(a)),v[r].d(),u&&s&&s.end(),g&&g.d(u),f=!1,Se(c)}}}function at(l){let e,r,t=`${l[4]+1} / ${l[0].length}`,n,s,i,a,o,f;return{c(){e=D("div"),r=new Re(!1),n=Y(),s=D("button"),i=Y(),a=D("button"),this.h()},l(c){e=E(c,"DIV",{class:!0});var d=$(e);r=Ye(d,!1),d.forEach(b),n=q(c),s=E(c,"BUTTON",{class:!0,title:!0,"aria-label":!0}),$(s).forEach(b),i=q(c),a=E(c,"BUTTON",{class:!0,title:!0,"aria-label":!0}),$(a).forEach(b),this.h()},h(){r.a=null,p(e,"class","bp-count"),p(s,"class","bp-prev"),p(s,"title","Previous"),p(s,"aria-label","Previous"),p(a,"class","bp-next"),p(a,"title","Next"),p(a,"aria-label","Next")},m(c,d){S(c,e,d),r.m(t,e),S(c,n,d),S(c,s,d),S(c,i,d),S(c,a,d),o||(f=[G(s,"click",l[2]),G(a,"click",l[3])],o=!0)},p(c,d){d[0]&17&&t!==(t=`${c[4]+1} / ${c[0].length}`)&&r.p(t)},d(c){c&&(b(e),b(n),b(s),b(i),b(a)),o=!1,Se(f)}}}function Xt(l){let e,r,t=l[0]&&st(l);return{c(){t&&t.c(),e=ae()},l(n){t&&t.l(n),e=ae()},m(n,s){t&&t.m(n,s),S(n,e,s),r=!0},p(n,s){n[0]?t?(t.p(n,s),s[0]&1&&z(t,1)):(t=st(n),t.c(),z(t,1),t.m(e.parentNode,e)):t&&(Ie(),O(t,1,1,()=>{t=null}),Ae())},i(n){r||(z(t),r=!0)},o(n){O(t),r=!1},d(n){n&&b(e),t&&t.d(n)}}}function Wt(l,e,r){let t,{items:n=void 0}=e,{target:s=void 0}=e;const i=document.documentElement;let a,o,f,c,d,v,M,g,u;const h=()=>!u.img&&!u.sources&&!u.iframe;let y;const j=_=>y=_,I={},P=qe(0);De(l,P,_=>r(10,t=_));const re=_=>{r(5,o=_),r(8,v=o.inline);const k=o.items;!v&&i.scrollHeight>i.clientHeight&&i.classList.add("bp-lock"),c=document.activeElement,r(19,I.w=s.offsetWidth,I),r(19,I.h=s===document.body?window.innerHeight:s.clientHeight,I),r(7,d=I.w<769),r(4,a=o.position||0),Array.isArray(k)?r(0,n=k.map((N,V)=>(o.el&&o.el===N.element&&r(4,a=V),{i:V,...N}))):r(0,n=(k.length?[...k]:[k]).map((N,V)=>(o.el===N&&r(4,a=V),{element:N,i:V,...N.dataset})))},ne=()=>{var _;(_=o.onClose)==null||_.call(o,I.el,u),Ve.set(!0),r(0,n=null),c==null||c.focus({preventScroll:!0})},L=()=>Z(a-1),x=()=>Z(a+1),Z=_=>{M=_-a,r(4,a=ce(_))},ce=_=>(_+n.length)%n.length,pe=_=>{const{key:k,shiftKey:N}=_;if(k==="Escape")!o.noClose&&ne();else if(k==="ArrowRight")x();else if(k==="ArrowLeft")L();else if(k==="Tab"){const{activeElement:V}=document;if(N||!V.controls){_.preventDefault();const{focusWrap:W=I.el}=o,R=[...W.querySelectorAll("*")].filter(X=>X.tabIndex>=0);let T=R.indexOf(V);T+=R.length+(N?-1:1),R[T%R.length].focus()}}},ie=({width:_=1920,height:k=1080})=>{const{scale:N=.99}=o,V=Math.min(1,I.w/_*N,I.h/k*N);return[Math.round(_*V),Math.round(k*V)]},K=()=>{if(n){const _=n[ce(a+1)],k=n[ce(a-1)];!_.preload&&le(_),!k.preload&&le(k)}},le=_=>{if(_.img){const k=D("img");return k.sizes=o.sizes||`${ie(_)[0]}px`,k.srcset=_.img,_.preload=!0,k.decode().catch(N=>{})}},ge=(_,k)=>!f||!n?(r(18,f=k),o.intro?ke(_,{y:k?10:-10}):se(_)):ke(_,{x:(M>0?20:-20)*(k?1:-1),duration:250}),se=_=>{let k;if(h()){const X=_.firstChild.firstChild;k=[X.clientWidth,X.clientHeight]}else k=ie(u);const N=(u.element||c).getBoundingClientRect(),V=N.left-(I.w-N.width)/2,W=N.top-(I.h-N.height)/2,R=N.width/k[0],T=N.height/k[1];return{duration:480,easing:Fe,css:(X,m)=>`transform:translate3d(${V*m}px, ${W*m}px, 0) scale3d(${R+X*(1-R)}, ${T+X*(1-T)}, 1)`}},ee=()=>({activeItem:u,calculateDimensions:ie,loadImage:le,preloadNext:K,opts:o,prev:L,next:x,close:ne,setResizeFunc:j,zoomed:P,container:I}),B=_=>{var W;r(19,I.el=_,I);let k,N;(W=o.onOpen)==null||W.call(o,I.el,u),v||(k=G(window,"keydown",pe));const V=new ResizeObserver(R=>{var T;N&&(r(19,I.w=R[0].contentRect.width,I),r(19,I.h=R[0].contentRect.height,I),r(7,d=I.w<769),h()||y==null||y(),(T=o.onResize)==null||T.call(o,I.el,u)),N=!0});return V.observe(_),{destroy(){var R;V.disconnect(),k==null||k(),Ve.set(!1),i.classList.remove("bp-lock"),(R=o.onClosed)==null||R.call(o)}}},_e=_=>r(9,g=_.target),oe=function(_){_.button!==2&&_.target===this&&g===this&&!o.noClose&&ne()};return l.$$set=_=>{"items"in _&&r(0,n=_.items),"target"in _&&r(15,s=_.target)},l.$$.update=()=>{var _;l.$$.dirty[0]&786545&&n&&(r(6,u=n[a]),f&&((_=o.onUpdate)==null||_.call(o,I.el,u)))},[n,ne,L,x,a,o,u,d,v,g,t,P,ge,ee,B,s,re,Z,f,I,_e,oe]}class jt extends Ce{constructor(e){super(),Te(this,e,Wt,Xt,dt,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}set items(e){this.$$set({items:e}),Ke()}get target(){return this.$$.ctx[15]}set target(e){this.$$set({target:e}),Ke()}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}function Gt(l){return new jt({...l,props:l})}const{document:Oe}=Tt;function ct(l,e,r){const t=l.slice();return t[6]=e[r],t}function Zt(l){let e,r,t,n,s,i;return{c(){e=D("a"),r=D("img"),n=Y(),this.h()},l(a){e=E(a,"A",{class:!0,href:!0,"data-img":!0,"data-thumb":!0,"data-height":!0,"data-width":!0,"data-alt":!0});var o=$(e);r=E(o,"IMG",{src:!0,width:!0,alt:!0,class:!0}),n=q(o),o.forEach(b),this.h()},h(){ht(r.src,t=Ne+"/webp/"+l[6].repImage+".webp")||p(r,"src",t),p(r,"width","300"),p(r,"alt",l[6].title),p(r,"class","svelte-ayekif"),p(e,"class",yt(`tile ${l[6].pixel?"":" image-tile"}`)+" svelte-ayekif"),p(e,"href",Je(l[6].repImage)),p(e,"data-img",Je(l[6].repImage)),p(e,"data-thumb",Ne+"/webp/"+l[6].repImage+".webp"),p(e,"data-height",l[6].repImageHeight),p(e,"data-width",l[6].repImageWidth),p(e,"data-alt",l[6].title)},m(a,o){S(a,e,o),w(e,r),w(e,n),s||(i=G(e,"click",l[2]),s=!0)},p:we,d(a){a&&b(e),s=!1,i()}}}function Kt(l){let e,r,t,n,s,i=l[6].title+"",a,o;return{c(){e=D("a"),r=D("img"),n=Y(),s=D("h3"),a=be(i),o=Y(),this.h()},l(f){e=E(f,"A",{href:!0,class:!0,target:!0});var c=$(e);r=E(c,"IMG",{src:!0,alt:!0,height:!0,width:!0,class:!0}),n=q(c),s=E(c,"H3",{class:!0});var d=$(s);a=ve(d,i),d.forEach(b),o=q(c),c.forEach(b),this.h()},h(){ht(r.src,t=l[6].pixel)||p(r,"src",t),p(r,"alt","a transparent pixel used to constrain the tile shape"),p(r,"height","400"),p(r,"width","300"),p(r,"class","svelte-ayekif"),p(s,"class","svelte-ayekif"),p(e,"href",l[6].link),p(e,"class","noimg svelte-ayekif"),p(e,"target","_blank")},m(f,c){S(f,e,c),w(e,r),w(e,n),w(e,s),w(s,a),w(e,o)},p:we,d(f){f&&b(e)}}}function ft(l){let e;function r(s,i){return s[6].pixel?Kt:Zt}let n=r(l)(l);return{c(){n.c(),e=ae()},l(s){n.l(s),e=ae()},m(s,i){n.m(s,i),S(s,e,i)},p(s,i){n.p(s,i)},d(s){s&&b(e),n.d(s)}}}function Qt(l){let e,r=Qe(l[1]),t=[];for(let n=0;n<r.length;n+=1)t[n]=ft(ct(l,r,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=ae()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=ae()},m(n,s){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(n,s);S(n,e,s)},p(n,s){if(s&6){r=Qe(n[1]);let i;for(i=0;i<r.length;i+=1){const a=ct(n,r,i);t[i]?t[i].p(a,s):(t[i]=ft(a),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=r.length}},d(n){n&&b(e),kt(t,n)}}}function Jt(l){let e,r,t,n,s,i,a,o=`<a href="${Ne}/"><img class="biggo" src="${Ne}/NewberryLogo.png" alt="Logo for the Newberry Library" height="60" width="300"/> <img class="smallo" src="${Ne}/NLogo.png" alt="Logo for the Newberry Library" height="60" width="60"/></a>`,f,c,d,v,M="Free to Use and Reuse:",g,u,h=l[0].galleryData.context+"",y,j,I,P,re,ne=" ",L,x,Z,ce="Postcard Gallery",pe,ie,K,le,ge=" ",se,ee,B,_e="Open Access Policy",oe,_,k,N,V,W,R;return Oe.title=e="Newberry Library - "+l[0].galleryData.context,n=new Dt({props:{title:l[0].galleryData.context}}),k=new Et({}),W=new Ct({props:{$$slots:{default:[Qt]},$$scope:{ctx:l}}}),{c(){r=Y(),t=D("main"),ue(n.$$.fragment),s=Y(),i=D("div"),a=D("div"),a.innerHTML=o,f=Y(),c=D("header"),d=D("section"),v=D("h3"),v.textContent=M,g=Y(),u=D("h1"),y=be(h),j=Y(),I=D("aside"),P=D("p"),re=be(`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),L=be(ne),x=Y(),Z=D("a"),Z.textContent=ce,pe=be("."),ie=Y(),K=D("p"),le=be(`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),se=be(ge),ee=Y(),B=D("a"),B.textContent=_e,oe=be(`
                    .`),_=Y(),ue(k.$$.fragment),N=Y(),V=D("div"),ue(W.$$.fragment),this.h()},l(T){bt("svelte-bnbe6i",Oe.head).forEach(b),r=q(T),t=E(T,"MAIN",{});var m=$(t);me(n.$$.fragment,m),s=q(m),i=E(m,"DIV",{class:!0});var A=$(i);a=E(A,"DIV",{class:!0,"data-svelte-h":!0}),Me(a)!=="svelte-1ckqrq8"&&(a.innerHTML=o),f=q(A),c=E(A,"HEADER",{class:!0});var H=$(c);d=E(H,"SECTION",{});var C=$(d);v=E(C,"H3",{"data-svelte-h":!0}),Me(v)!=="svelte-i0mqc1"&&(v.textContent=M),g=q(C),u=E(C,"H1",{});var U=$(u);y=ve(U,h),U.forEach(b),C.forEach(b),j=q(H),I=E(H,"ASIDE",{class:!0});var Q=$(I);P=E(Q,"P",{class:!0});var te=$(P);re=ve(te,`Featured here are some staff favorites from the Newberry’s
                    collection. View more free to use and reuse images at our`),L=ve(te,ne),x=q(te),Z=E(te,"A",{href:!0,class:!0,"data-svelte-h":!0}),Me(Z)!=="svelte-99fxz7"&&(Z.textContent=ce),pe=ve(te,"."),te.forEach(b),ie=q(Q),K=E(Q,"P",{class:!0});var fe=$(K);le=ve(fe,`The vintage postcard images featured here are free to use and
                    reuse. The Newberry believes that this content is in the public
                    domain, and makes these digitized copies available without
                    requiring fees or permissions. For more information, see our`),se=ve(fe,ge),ee=q(fe),B=E(fe,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),Me(B)!=="svelte-u8amqq"&&(B.textContent=_e),oe=ve(fe,`
                    .`),fe.forEach(b),Q.forEach(b),H.forEach(b),_=q(A),me(k.$$.fragment,A),A.forEach(b),N=q(m),V=E(m,"DIV",{class:!0});var ze=$(V);me(W.$$.fragment,ze),ze.forEach(b),m.forEach(b),this.h()},h(){p(a,"class","logo"),p(Z,"href","https://digital.newberry.org/postcard-gallery"),p(Z,"class","llines"),p(P,"class","text-lg"),p(B,"href","https://www.newberry.org/policies#open-access"),p(B,"target","_blank"),p(B,"class","llines"),p(K,"class","text-base"),p(I,"class","text-content"),p(c,"class","title"),p(i,"class","left"),p(V,"class","right svelte-ayekif")},m(T,X){S(T,r,X),S(T,t,X),de(n,t,null),w(t,s),w(t,i),w(i,a),w(i,f),w(i,c),w(c,d),w(d,v),w(d,g),w(d,u),w(u,y),w(c,j),w(c,I),w(I,P),w(P,re),w(P,L),w(P,x),w(P,Z),w(P,pe),w(I,ie),w(I,K),w(K,le),w(K,se),w(K,ee),w(K,B),w(K,oe),w(i,_),de(k,i,null),w(t,N),w(t,V),de(W,V,null),R=!0},p(T,[X]){(!R||X&1)&&e!==(e="Newberry Library - "+T[0].galleryData.context)&&(Oe.title=e);const m={};X&1&&(m.title=T[0].galleryData.context),n.$set(m),(!R||X&1)&&h!==(h=T[0].galleryData.context+"")&&vt(y,h);const A={};X&512&&(A.$$scope={dirty:X,ctx:T}),W.$set(A)},i(T){R||(z(n.$$.fragment,T),z(k.$$.fragment,T),z(W.$$.fragment,T),R=!0)},o(T){O(n.$$.fragment,T),O(k.$$.fragment,T),O(W.$$.fragment,T),R=!1},d(T){T&&(b(r),b(t)),he(n),he(k),he(W)}}}function xt(l,e,r){let{data:t}=e,n,s;const i={title:`View even more ${t.galleryData.context} at Newberry Digital Collections`,link:t.galleryData.galLink,pixel:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",galRepreImageWidth:300,galRepreImageHeight:400},a=[...t.galleryData.postcards.sort(()=>Math.random()-.5),i];wt(()=>{n=Gt({target:document.body}),s=document.querySelectorAll("#images > .image-tile")});function o(f){f.preventDefault(),f.currentTarget!==null&&n.open({intro:"fadeup",items:s,el:f.currentTarget,maxZoom:1})}return l.$$set=f=>{"data"in f&&r(0,t=f.data)},[t,a,o]}class sr extends Ce{constructor(e){super(),Te(this,e,xt,Jt,$e,{data:0})}}export{sr as component};
